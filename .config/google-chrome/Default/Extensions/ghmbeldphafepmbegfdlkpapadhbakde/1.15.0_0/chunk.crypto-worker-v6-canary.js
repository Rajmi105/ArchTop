(()=>{"use strict";var e={46580:(e,t,r)=>{var n=r(65156),i=r(20580),a=TypeError;e.exports=function(e){if(n(e))return e;throw new a(i(e)+" is not a function")}},59952:(e,t,r)=>{var n=r(31044),i=r(20580),a=TypeError;e.exports=function(e){if(n(e))return e;throw new a(i(e)+" is not a constructor")}},63856:(e,t,r)=>{var n=r(20188),i=String,a=TypeError;e.exports=function(e){if(n(e))return e;throw new a("Can't set "+i(e)+" as a prototype")}},29736:(e,t,r)=>{var n=r(61720),i=r(24728),a=r(48712).f,s=n("unscopables"),o=Array.prototype;void 0===o[s]&&a(o,s,{configurable:!0,value:i(null)}),e.exports=function(e){o[s][e]=!0}},83672:(e,t,r)=>{var n=r(71904).charAt;e.exports=function(e,t,r){return t+(r?n(e,t).length:1)}},9856:(e,t,r)=>{var n=r(11808),i=TypeError;e.exports=function(e,t){if(n(t,e))return e;throw new i("Incorrect invocation")}},26928:(e,t,r)=>{var n=r(74436),i=String,a=TypeError;e.exports=function(e){if(n(e))return e;throw new a(i(e)+" is not an object")}},51235:e=>{e.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},89872:(e,t,r)=>{var n=r(22088);e.exports=n((function(){if("function"==typeof ArrayBuffer){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}))},79932:(e,t,r)=>{var n,i,a,s=r(51235),o=r(89160),c=r(60899),u=r(65156),h=r(74436),l=r(57204),y=r(50264),p=r(20580),f=r(34952),d=r(88788),g=r(95139),m=r(11808),w=r(12100),v=r(48),b=r(61720),k=r(55436),A=r(95355),E=A.enforce,S=A.get,x=c.Int8Array,K=x&&x.prototype,P=c.Uint8ClampedArray,D=P&&P.prototype,U=x&&w(x),C=K&&w(K),I=Object.prototype,_=c.TypeError,T=b("toStringTag"),R=k("TYPED_ARRAY_TAG"),M="TypedArrayConstructor",O=s&&!!v&&"Opera"!==y(c.opera),B=!1,L={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},N={BigInt64Array:8,BigUint64Array:8},F=function(e){var t=w(e);if(h(t)){var r=S(t);return r&&l(r,M)?r[M]:F(t)}},j=function(e){if(!h(e))return!1;var t=y(e);return l(L,t)||l(N,t)};for(n in L)(a=(i=c[n])&&i.prototype)?E(a)[M]=i:O=!1;for(n in N)(a=(i=c[n])&&i.prototype)&&(E(a)[M]=i);if((!O||!u(U)||U===Function.prototype)&&(U=function(){throw new _("Incorrect invocation")},O))for(n in L)c[n]&&v(c[n],U);if((!O||!C||C===I)&&(C=U.prototype,O))for(n in L)c[n]&&v(c[n].prototype,C);if(O&&w(D)!==C&&v(D,C),o&&!l(C,T))for(n in B=!0,g(C,T,{configurable:!0,get:function(){return h(this)?this[R]:void 0}}),L)c[n]&&f(c[n],R,n);e.exports={NATIVE_ARRAY_BUFFER_VIEWS:O,TYPED_ARRAY_TAG:B&&R,aTypedArray:function(e){if(j(e))return e;throw new _("Target is not a typed array")},aTypedArrayConstructor:function(e){if(u(e)&&(!v||m(U,e)))return e;throw new _(p(e)+" is not a typed array constructor")},exportTypedArrayMethod:function(e,t,r,n){if(o){if(r)for(var i in L){var a=c[i];if(a&&l(a.prototype,e))try{delete a.prototype[e]}catch(r){try{a.prototype[e]=t}catch(e){}}}C[e]&&!r||d(C,e,r?t:O&&K[e]||t,n)}},exportTypedArrayStaticMethod:function(e,t,r){var n,i;if(o){if(v){if(r)for(n in L)if((i=c[n])&&l(i,e))try{delete i[e]}catch(e){}if(U[e]&&!r)return;try{return d(U,e,r?t:O&&U[e]||t)}catch(e){}}for(n in L)!(i=c[n])||i[e]&&!r||d(i,e,t)}},getTypedArrayConstructor:F,isView:function(e){if(!h(e))return!1;var t=y(e);return"DataView"===t||l(L,t)||l(N,t)},isTypedArray:j,TypedArray:U,TypedArrayPrototype:C}},69996:(e,t,r)=>{var n=r(60899),i=r(18256),a=r(89160),s=r(51235),o=r(87624),c=r(34952),u=r(95139),h=r(71604),l=r(22088),y=r(9856),p=r(40496),f=r(82440),d=r(30288),g=r(29016),m=r(30336),w=r(12100),v=r(48),b=r(49724),k=r(70220),A=r(85432),E=r(1747),S=r(77104),x=r(95355),K=o.PROPER,P=o.CONFIGURABLE,D="ArrayBuffer",U="DataView",C="prototype",I="Wrong index",_=x.getterFor(D),T=x.getterFor(U),R=x.set,M=n[D],O=M,B=O&&O[C],L=n[U],N=L&&L[C],F=Object.prototype,j=n.Array,z=n.RangeError,H=i(b),q=i([].reverse),G=m.pack,V=m.unpack,W=function(e){return[255&e]},$=function(e){return[255&e,e>>8&255]},Y=function(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]},X=function(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]},Q=function(e){return G(g(e),23,4)},Z=function(e){return G(e,52,8)},J=function(e,t,r){u(e[C],t,{configurable:!0,get:function(){return r(this)[t]}})},ee=function(e,t,r,n){var i=T(e),a=d(r),s=!!n;if(a+t>i.byteLength)throw new z(I);var o=i.bytes,c=a+i.byteOffset,u=k(o,c,c+t);return s?u:q(u)},te=function(e,t,r,n,i,a){var s=T(e),o=d(r),c=n(+i),u=!!a;if(o+t>s.byteLength)throw new z(I);for(var h=s.bytes,l=o+s.byteOffset,y=0;y<t;y++)h[l+y]=c[u?y:t-y-1]};if(s){var re=K&&M.name!==D;l((function(){M(1)}))&&l((function(){new M(-1)}))&&!l((function(){return new M,new M(1.5),new M(NaN),1!==M.length||re&&!P}))?re&&P&&c(M,"name",D):((O=function(e){return y(this,B),A(new M(d(e)),this,O)})[C]=B,B.constructor=O,E(O,M)),v&&w(N)!==F&&v(N,F);var ne=new L(new O(2)),ie=i(N.setInt8);ne.setInt8(0,2147483648),ne.setInt8(1,2147483649),!ne.getInt8(0)&&ne.getInt8(1)||h(N,{setInt8:function(e,t){ie(this,e,t<<24>>24)},setUint8:function(e,t){ie(this,e,t<<24>>24)}},{unsafe:!0})}else B=(O=function(e){y(this,B);var t=d(e);R(this,{type:D,bytes:H(j(t),0),byteLength:t}),a||(this.byteLength=t,this.detached=!1)})[C],N=(L=function(e,t,r){y(this,N),y(e,B);var n=_(e),i=n.byteLength,s=p(t);if(s<0||s>i)throw new z("Wrong offset");if(s+(r=void 0===r?i-s:f(r))>i)throw new z("Wrong length");R(this,{type:U,buffer:e,byteLength:r,byteOffset:s,bytes:n.bytes}),a||(this.buffer=e,this.byteLength=r,this.byteOffset=s)})[C],a&&(J(O,"byteLength",_),J(L,"buffer",T),J(L,"byteLength",T),J(L,"byteOffset",T)),h(N,{getInt8:function(e){return ee(this,1,e)[0]<<24>>24},getUint8:function(e){return ee(this,1,e)[0]},getInt16:function(e){var t=ee(this,2,e,arguments.length>1&&arguments[1]);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=ee(this,2,e,arguments.length>1&&arguments[1]);return t[1]<<8|t[0]},getInt32:function(e){return X(ee(this,4,e,arguments.length>1&&arguments[1]))},getUint32:function(e){return X(ee(this,4,e,arguments.length>1&&arguments[1]))>>>0},getFloat32:function(e){return V(ee(this,4,e,arguments.length>1&&arguments[1]),23)},getFloat64:function(e){return V(ee(this,8,e,arguments.length>1&&arguments[1]),52)},setInt8:function(e,t){te(this,1,e,W,t)},setUint8:function(e,t){te(this,1,e,W,t)},setInt16:function(e,t){te(this,2,e,$,t,arguments.length>2&&arguments[2])},setUint16:function(e,t){te(this,2,e,$,t,arguments.length>2&&arguments[2])},setInt32:function(e,t){te(this,4,e,Y,t,arguments.length>2&&arguments[2])},setUint32:function(e,t){te(this,4,e,Y,t,arguments.length>2&&arguments[2])},setFloat32:function(e,t){te(this,4,e,Q,t,arguments.length>2&&arguments[2])},setFloat64:function(e,t){te(this,8,e,Z,t,arguments.length>2&&arguments[2])}});S(O,D),S(L,U),e.exports={ArrayBuffer:O,DataView:L}},500:(e,t,r)=>{var n=r(22032),i=r(31212),a=r(85827),s=r(7760),o=Math.min;e.exports=[].copyWithin||function(e,t){var r=n(this),c=a(r),u=i(e,c),h=i(t,c),l=arguments.length>2?arguments[2]:void 0,y=o((void 0===l?c:i(l,c))-h,c-u),p=1;for(h<u&&u<h+y&&(p=-1,h+=y-1,u+=y-1);y-- >0;)h in r?r[u]=r[h]:s(r,u),u+=p,h+=p;return r}},49724:(e,t,r)=>{var n=r(22032),i=r(31212),a=r(85827);e.exports=function(e){for(var t=n(this),r=a(t),s=arguments.length,o=i(s>1?arguments[1]:void 0,r),c=s>2?arguments[2]:void 0,u=void 0===c?r:i(c,r);u>o;)t[o++]=e;return t}},61176:(e,t,r)=>{var n=r(16840).forEach,i=r(98680)("forEach");e.exports=i?[].forEach:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}},86224:(e,t,r)=>{var n=r(85827);e.exports=function(e,t,r){for(var i=0,a=arguments.length>2?r:n(t),s=new e(a);a>i;)s[i]=t[i++];return s}},30107:(e,t,r)=>{var n=r(66588),i=r(82884),a=r(22032),s=r(57172),o=r(19680),c=r(31044),u=r(85827),h=r(11108),l=r(60900),y=r(27716),p=Array;e.exports=function(e){var t=a(e),r=c(this),f=arguments.length,d=f>1?arguments[1]:void 0,g=void 0!==d;g&&(d=n(d,f>2?arguments[2]:void 0));var m,w,v,b,k,A,E=y(t),S=0;if(!E||this===p&&o(E))for(m=u(t),w=r?new this(m):p(m);m>S;S++)A=g?d(t[S],S):t[S],h(w,S,A);else for(k=(b=l(t,E)).next,w=r?new this:[];!(v=i(k,b)).done;S++)A=g?s(b,d,[v.value,S],!0):v.value,h(w,S,A);return w.length=S,w}},18880:(e,t,r)=>{var n=r(49704),i=r(31212),a=r(85827),s=function(e){return function(t,r,s){var o,c=n(t),u=a(c),h=i(s,u);if(e&&r!=r){for(;u>h;)if((o=c[h++])!=o)return!0}else for(;u>h;h++)if((e||h in c)&&c[h]===r)return e||h||0;return!e&&-1}};e.exports={includes:s(!0),indexOf:s(!1)}},75467:(e,t,r)=>{var n=r(66588),i=r(50700),a=r(22032),s=r(85827),o=function(e){var t=1===e;return function(r,o,c){for(var u,h=a(r),l=i(h),y=s(l),p=n(o,c);y-- >0;)if(p(u=l[y],y,h))switch(e){case 0:return u;case 1:return y}return t?-1:void 0}};e.exports={findLast:o(0),findLastIndex:o(1)}},16840:(e,t,r)=>{var n=r(66588),i=r(18256),a=r(50700),s=r(22032),o=r(85827),c=r(60104),u=i([].push),h=function(e){var t=1===e,r=2===e,i=3===e,h=4===e,l=6===e,y=7===e,p=5===e||l;return function(f,d,g,m){for(var w,v,b=s(f),k=a(b),A=o(k),E=n(d,g),S=0,x=m||c,K=t?x(f,A):r||y?x(f,0):void 0;A>S;S++)if((p||S in k)&&(v=E(w=k[S],S,b),e))if(t)K[S]=v;else if(v)switch(e){case 3:return!0;case 5:return w;case 6:return S;case 2:u(K,w)}else switch(e){case 4:return!1;case 7:u(K,w)}return l?-1:i||h?h:K}};e.exports={forEach:h(0),map:h(1),filter:h(2),some:h(3),every:h(4),find:h(5),findIndex:h(6),filterReject:h(7)}},3e3:(e,t,r)=>{var n=r(10004),i=r(49704),a=r(40496),s=r(85827),o=r(98680),c=Math.min,u=[].lastIndexOf,h=!!u&&1/[1].lastIndexOf(1,-0)<0,l=o("lastIndexOf"),y=h||!l;e.exports=y?function(e){if(h)return n(u,this,arguments)||0;var t=i(this),r=s(t),o=r-1;for(arguments.length>1&&(o=c(o,a(arguments[1]))),o<0&&(o=r+o);o>=0;o--)if(o in t&&t[o]===e)return o||0;return-1}:u},85140:(e,t,r)=>{var n=r(22088),i=r(61720),a=r(5556),s=i("species");e.exports=function(e){return a>=51||!n((function(){var t=[];return(t.constructor={})[s]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},98680:(e,t,r)=>{var n=r(22088);e.exports=function(e,t){var r=[][e];return!!r&&n((function(){r.call(null,t||function(){return 1},1)}))}},8716:(e,t,r)=>{var n=r(46580),i=r(22032),a=r(50700),s=r(85827),o=TypeError,c=function(e){return function(t,r,c,u){var h=i(t),l=a(h),y=s(h);n(r);var p=e?y-1:0,f=e?-1:1;if(c<2)for(;;){if(p in l){u=l[p],p+=f;break}if(p+=f,e?p<0:y<=p)throw new o("Reduce of empty array with no initial value")}for(;e?p>=0:y>p;p+=f)p in l&&(u=r(u,l[p],p,h));return u}};e.exports={left:c(!1),right:c(!0)}},67504:(e,t,r)=>{var n=r(89160),i=r(65376),a=TypeError,s=Object.getOwnPropertyDescriptor,o=n&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(e){return e instanceof TypeError}}();e.exports=o?function(e,t){if(i(e)&&!s(e,"length").writable)throw new a("Cannot set read only .length");return e.length=t}:function(e,t){return e.length=t}},70220:(e,t,r)=>{var n=r(18256);e.exports=n([].slice)},79312:(e,t,r)=>{var n=r(70220),i=Math.floor,a=function(e,t){var r=e.length;if(r<8)for(var s,o,c=1;c<r;){for(o=c,s=e[c];o&&t(e[o-1],s)>0;)e[o]=e[--o];o!==c++&&(e[o]=s)}else for(var u=i(r/2),h=a(n(e,0,u),t),l=a(n(e,u),t),y=h.length,p=l.length,f=0,d=0;f<y||d<p;)e[f+d]=f<y&&d<p?t(h[f],l[d])<=0?h[f++]:l[d++]:f<y?h[f++]:l[d++];return e};e.exports=a},27384:(e,t,r)=>{var n=r(65376),i=r(31044),a=r(74436),s=r(61720)("species"),o=Array;e.exports=function(e){var t;return n(e)&&(t=e.constructor,(i(t)&&(t===o||n(t.prototype))||a(t)&&null===(t=t[s]))&&(t=void 0)),void 0===t?o:t}},60104:(e,t,r)=>{var n=r(27384);e.exports=function(e,t){return new(n(e))(0===t?0:t)}},98588:(e,t,r)=>{var n=r(85827);e.exports=function(e,t){for(var r=n(e),i=new t(r),a=0;a<r;a++)i[a]=e[r-a-1];return i}},10604:(e,t,r)=>{var n=r(85827),i=r(40496),a=RangeError;e.exports=function(e,t,r,s){var o=n(e),c=i(r),u=c<0?o+c:c;if(u>=o||u<0)throw new a("Incorrect index");for(var h=new t(o),l=0;l<o;l++)h[l]=l===u?s:e[l];return h}},80848:e=>{var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=t+"+/",n=t+"-_",i=function(e){for(var t={},r=0;r<64;r++)t[e.charAt(r)]=r;return t};e.exports={i2c:r,c2i:i(r),i2cUrl:n,c2iUrl:i(n)}},57172:(e,t,r)=>{var n=r(26928),i=r(60576);e.exports=function(e,t,r,a){try{return a?t(n(r)[0],r[1]):t(r)}catch(t){i(e,"throw",t)}}},49451:(e,t,r)=>{var n=r(61720)("iterator"),i=!1;try{var a=0,s={next:function(){return{done:!!a++}},return:function(){i=!0}};s[n]=function(){return this},Array.from(s,(function(){throw 2}))}catch(e){}e.exports=function(e,t){try{if(!t&&!i)return!1}catch(e){return!1}var r=!1;try{var a={};a[n]=function(){return{next:function(){return{done:r=!0}}}},e(a)}catch(e){}return r}},57740:(e,t,r)=>{var n=r(18256),i=n({}.toString),a=n("".slice);e.exports=function(e){return a(i(e),8,-1)}},50264:(e,t,r)=>{var n=r(92704),i=r(65156),a=r(57740),s=r(61720)("toStringTag"),o=Object,c="Arguments"===a(function(){return arguments}());e.exports=n?a:function(e){var t,r,n;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=function(e,t){try{return e[t]}catch(e){}}(t=o(e),s))?r:c?a(t):"Object"===(n=a(t))&&i(t.callee)?"Arguments":n}},13860:(e,t,r)=>{var n=r(24728),i=r(95139),a=r(71604),s=r(66588),o=r(9856),c=r(83344),u=r(24664),h=r(68776),l=r(45684),y=r(54648),p=r(89160),f=r(6661).fastKey,d=r(95355),g=d.set,m=d.getterFor;e.exports={getConstructor:function(e,t,r,h){var l=e((function(e,i){o(e,y),g(e,{type:t,index:n(null),first:void 0,last:void 0,size:0}),p||(e.size=0),c(i)||u(i,e[h],{that:e,AS_ENTRIES:r})})),y=l.prototype,d=m(t),w=function(e,t,r){var n,i,a=d(e),s=v(e,t);return s?s.value=r:(a.last=s={index:i=f(t,!0),key:t,value:r,previous:n=a.last,next:void 0,removed:!1},a.first||(a.first=s),n&&(n.next=s),p?a.size++:e.size++,"F"!==i&&(a.index[i]=s)),e},v=function(e,t){var r,n=d(e),i=f(t);if("F"!==i)return n.index[i];for(r=n.first;r;r=r.next)if(r.key===t)return r};return a(y,{clear:function(){for(var e=d(this),t=e.first;t;)t.removed=!0,t.previous&&(t.previous=t.previous.next=void 0),t=t.next;e.first=e.last=void 0,e.index=n(null),p?e.size=0:this.size=0},delete:function(e){var t=this,r=d(t),n=v(t,e);if(n){var i=n.next,a=n.previous;delete r.index[n.index],n.removed=!0,a&&(a.next=i),i&&(i.previous=a),r.first===n&&(r.first=i),r.last===n&&(r.last=a),p?r.size--:t.size--}return!!n},forEach:function(e){for(var t,r=d(this),n=s(e,arguments.length>1?arguments[1]:void 0);t=t?t.next:r.first;)for(n(t.value,t.key,this);t&&t.removed;)t=t.previous},has:function(e){return!!v(this,e)}}),a(y,r?{get:function(e){var t=v(this,e);return t&&t.value},set:function(e,t){return w(this,0===e?0:e,t)}}:{add:function(e){return w(this,e=0===e?0:e,e)}}),p&&i(y,"size",{configurable:!0,get:function(){return d(this).size}}),l},setStrong:function(e,t,r){var n=t+" Iterator",i=m(t),a=m(n);h(e,t,(function(e,t){g(this,{type:n,target:e,state:i(e),kind:t,last:void 0})}),(function(){for(var e=a(this),t=e.kind,r=e.last;r&&r.removed;)r=r.previous;return e.target&&(e.last=r=r?r.next:e.state.first)?l("keys"===t?r.key:"values"===t?r.value:[r.key,r.value],!1):(e.target=void 0,l(void 0,!0))}),r?"entries":"values",!r,!0),y(t)}}},90872:(e,t,r)=>{var n=r(18256),i=r(71604),a=r(6661).getWeakData,s=r(9856),o=r(26928),c=r(83344),u=r(74436),h=r(24664),l=r(16840),y=r(57204),p=r(95355),f=p.set,d=p.getterFor,g=l.find,m=l.findIndex,w=n([].splice),v=0,b=function(e){return e.frozen||(e.frozen=new k)},k=function(){this.entries=[]},A=function(e,t){return g(e.entries,(function(e){return e[0]===t}))};k.prototype={get:function(e){var t=A(this,e);if(t)return t[1]},has:function(e){return!!A(this,e)},set:function(e,t){var r=A(this,e);r?r[1]=t:this.entries.push([e,t])},delete:function(e){var t=m(this.entries,(function(t){return t[0]===e}));return~t&&w(this.entries,t,1),!!~t}},e.exports={getConstructor:function(e,t,r,n){var l=e((function(e,i){s(e,p),f(e,{type:t,id:v++,frozen:void 0}),c(i)||h(i,e[n],{that:e,AS_ENTRIES:r})})),p=l.prototype,g=d(t),m=function(e,t,r){var n=g(e),i=a(o(t),!0);return!0===i?b(n).set(t,r):i[n.id]=r,e};return i(p,{delete:function(e){var t=g(this);if(!u(e))return!1;var r=a(e);return!0===r?b(t).delete(e):r&&y(r,t.id)&&delete r[t.id]},has:function(e){var t=g(this);if(!u(e))return!1;var r=a(e);return!0===r?b(t).has(e):r&&y(r,t.id)}}),i(p,r?{get:function(e){var t=g(this);if(u(e)){var r=a(e);return!0===r?b(t).get(e):r?r[t.id]:void 0}},set:function(e,t){return m(this,e,t)}}:{add:function(e){return m(this,e,!0)}}),l}}},46171:(e,t,r)=>{var n=r(95460),i=r(60899),a=r(18256),s=r(38976),o=r(88788),c=r(6661),u=r(24664),h=r(9856),l=r(65156),y=r(83344),p=r(74436),f=r(22088),d=r(49451),g=r(77104),m=r(85432);e.exports=function(e,t,r){var w=-1!==e.indexOf("Map"),v=-1!==e.indexOf("Weak"),b=w?"set":"add",k=i[e],A=k&&k.prototype,E=k,S={},x=function(e){var t=a(A[e]);o(A,e,"add"===e?function(e){return t(this,0===e?0:e),this}:"delete"===e?function(e){return!(v&&!p(e))&&t(this,0===e?0:e)}:"get"===e?function(e){return v&&!p(e)?void 0:t(this,0===e?0:e)}:"has"===e?function(e){return!(v&&!p(e))&&t(this,0===e?0:e)}:function(e,r){return t(this,0===e?0:e,r),this})};if(s(e,!l(k)||!(v||A.forEach&&!f((function(){(new k).entries().next()})))))E=r.getConstructor(t,e,w,b),c.enable();else if(s(e,!0)){var K=new E,P=K[b](v?{}:-0,1)!==K,D=f((function(){K.has(1)})),U=d((function(e){new k(e)})),C=!v&&f((function(){for(var e=new k,t=5;t--;)e[b](t,t);return!e.has(-0)}));U||((E=t((function(e,t){h(e,A);var r=m(new k,e,E);return y(t)||u(t,r[b],{that:r,AS_ENTRIES:w}),r}))).prototype=A,A.constructor=E),(D||C)&&(x("delete"),x("has"),w&&x("get")),(C||P)&&x(b),v&&A.clear&&delete A.clear}return S[e]=E,n({global:!0,constructor:!0,forced:E!==k},S),g(E,e),v||r.setStrong(E,e,w),E}},1747:(e,t,r)=>{var n=r(57204),i=r(35776),a=r(32060),s=r(48712);e.exports=function(e,t,r){for(var o=i(t),c=s.f,u=a.f,h=0;h<o.length;h++){var l=o[h];n(e,l)||r&&n(r,l)||c(e,l,u(t,l))}}},44160:(e,t,r)=>{var n=r(61720)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(r){try{return t[n]=!1,"/./"[e](t)}catch(e){}}return!1}},41720:(e,t,r)=>{var n=r(22088);e.exports=!n((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},1576:(e,t,r)=>{var n=r(18256),i=r(66852),a=r(99552),s=/"/g,o=n("".replace);e.exports=function(e,t,r,n){var c=a(i(e)),u="<"+t;return""!==r&&(u+=" "+r+'="'+o(a(n),s,"&quot;")+'"'),u+">"+c+"</"+t+">"}},45684:e=>{e.exports=function(e,t){return{value:e,done:t}}},34952:(e,t,r)=>{var n=r(89160),i=r(48712),a=r(61520);e.exports=n?function(e,t,r){return i.f(e,t,a(1,r))}:function(e,t,r){return e[t]=r,e}},61520:e=>{e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},11108:(e,t,r)=>{var n=r(15448),i=r(48712),a=r(61520);e.exports=function(e,t,r){var s=n(t);s in e?i.f(e,s,a(0,r)):e[s]=r}},95812:(e,t,r)=>{var n=r(18256),i=r(22088),a=r(76512).start,s=RangeError,o=isFinite,c=Math.abs,u=Date.prototype,h=u.toISOString,l=n(u.getTime),y=n(u.getUTCDate),p=n(u.getUTCFullYear),f=n(u.getUTCHours),d=n(u.getUTCMilliseconds),g=n(u.getUTCMinutes),m=n(u.getUTCMonth),w=n(u.getUTCSeconds);e.exports=i((function(){return"0385-07-25T07:06:39.999Z"!==h.call(new Date(-50000000000001))}))||!i((function(){h.call(new Date(NaN))}))?function(){if(!o(l(this)))throw new s("Invalid time value");var e=this,t=p(e),r=d(e),n=t<0?"-":t>9999?"+":"";return n+a(c(t),n?6:4,0)+"-"+a(m(e)+1,2,0)+"-"+a(y(e),2,0)+"T"+a(f(e),2,0)+":"+a(g(e),2,0)+":"+a(w(e),2,0)+"."+a(r,3,0)+"Z"}:h},29796:(e,t,r)=>{var n=r(26928),i=r(85464),a=TypeError;e.exports=function(e){if(n(this),"string"===e||"default"===e)e="string";else if("number"!==e)throw new a("Incorrect hint");return i(this,e)}},95139:(e,t,r)=>{var n=r(29032),i=r(48712);e.exports=function(e,t,r){return r.get&&n(r.get,t,{getter:!0}),r.set&&n(r.set,t,{setter:!0}),i.f(e,t,r)}},88788:(e,t,r)=>{var n=r(65156),i=r(48712),a=r(29032),s=r(1588);e.exports=function(e,t,r,o){o||(o={});var c=o.enumerable,u=void 0!==o.name?o.name:t;if(n(r)&&a(r,u,o),o.global)c?e[t]=r:s(t,r);else{try{o.unsafe?e[t]&&(c=!0):delete e[t]}catch(e){}c?e[t]=r:i.f(e,t,{value:r,enumerable:!1,configurable:!o.nonConfigurable,writable:!o.nonWritable})}return e}},71604:(e,t,r)=>{var n=r(88788);e.exports=function(e,t,r){for(var i in t)n(e,i,t[i],r);return e}},1588:(e,t,r)=>{var n=r(60899),i=Object.defineProperty;e.exports=function(e,t){try{i(n,e,{value:t,configurable:!0,writable:!0})}catch(r){n[e]=t}return t}},7760:(e,t,r)=>{var n=r(20580),i=TypeError;e.exports=function(e,t){if(!delete e[t])throw new i("Cannot delete property "+n(t)+" of "+n(e))}},89160:(e,t,r)=>{var n=r(22088);e.exports=!n((function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]}))},30456:(e,t,r)=>{var n,i,a,s,o=r(60899),c=r(18141),u=r(67816),h=o.structuredClone,l=o.ArrayBuffer,y=o.MessageChannel,p=!1;if(u)p=function(e){h(e,{transfer:[e]})};else if(l)try{y||(n=c("worker_threads"))&&(y=n.MessageChannel),y&&(i=new y,a=new l(2),s=function(e){i.port1.postMessage(null,[e])},2===a.byteLength&&(s(a),0===a.byteLength&&(p=s)))}catch(e){}e.exports=p},87496:(e,t,r)=>{var n=r(60899),i=r(74436),a=n.document,s=i(a)&&i(a.createElement);e.exports=function(e){return s?a.createElement(e):{}}},70664:e=>{var t=TypeError;e.exports=function(e){if(e>9007199254740991)throw t("Maximum allowed index exceeded");return e}},28836:e=>{e.exports={IndexSizeError:{s:"INDEX_SIZE_ERR",c:1,m:1},DOMStringSizeError:{s:"DOMSTRING_SIZE_ERR",c:2,m:0},HierarchyRequestError:{s:"HIERARCHY_REQUEST_ERR",c:3,m:1},WrongDocumentError:{s:"WRONG_DOCUMENT_ERR",c:4,m:1},InvalidCharacterError:{s:"INVALID_CHARACTER_ERR",c:5,m:1},NoDataAllowedError:{s:"NO_DATA_ALLOWED_ERR",c:6,m:0},NoModificationAllowedError:{s:"NO_MODIFICATION_ALLOWED_ERR",c:7,m:1},NotFoundError:{s:"NOT_FOUND_ERR",c:8,m:1},NotSupportedError:{s:"NOT_SUPPORTED_ERR",c:9,m:1},InUseAttributeError:{s:"INUSE_ATTRIBUTE_ERR",c:10,m:1},InvalidStateError:{s:"INVALID_STATE_ERR",c:11,m:1},SyntaxError:{s:"SYNTAX_ERR",c:12,m:1},InvalidModificationError:{s:"INVALID_MODIFICATION_ERR",c:13,m:1},NamespaceError:{s:"NAMESPACE_ERR",c:14,m:1},InvalidAccessError:{s:"INVALID_ACCESS_ERR",c:15,m:1},ValidationError:{s:"VALIDATION_ERR",c:16,m:0},TypeMismatchError:{s:"TYPE_MISMATCH_ERR",c:17,m:1},SecurityError:{s:"SECURITY_ERR",c:18,m:1},NetworkError:{s:"NETWORK_ERR",c:19,m:1},AbortError:{s:"ABORT_ERR",c:20,m:1},URLMismatchError:{s:"URL_MISMATCH_ERR",c:21,m:1},QuotaExceededError:{s:"QUOTA_EXCEEDED_ERR",c:22,m:1},TimeoutError:{s:"TIMEOUT_ERR",c:23,m:1},InvalidNodeTypeError:{s:"INVALID_NODE_TYPE_ERR",c:24,m:1},DataCloneError:{s:"DATA_CLONE_ERR",c:25,m:1}}},90384:e=>{e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},31616:(e,t,r)=>{var n=r(87496)("span").classList,i=n&&n.constructor&&n.constructor.prototype;e.exports=i===Object.prototype?void 0:i},86396:(e,t,r)=>{var n=r(30540).match(/firefox\/(\d+)/i);e.exports=!!n&&+n[1]},31480:(e,t,r)=>{var n=r(14872),i=r(10460);e.exports=!n&&!i&&"object"==typeof window&&"object"==typeof document},67352:e=>{e.exports="function"==typeof Bun&&Bun&&"string"==typeof Bun.version},14872:e=>{e.exports="object"==typeof Deno&&Deno&&"object"==typeof Deno.version},93e3:(e,t,r)=>{var n=r(30540);e.exports=/MSIE|Trident/.test(n)},33636:(e,t,r)=>{var n=r(30540);e.exports=/ipad|iphone|ipod/i.test(n)&&"undefined"!=typeof Pebble},65940:(e,t,r)=>{var n=r(30540);e.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(n)},10460:(e,t,r)=>{var n=r(60899),i=r(57740);e.exports="process"===i(n.process)},56096:(e,t,r)=>{var n=r(30540);e.exports=/web0s(?!.*chrome)/i.test(n)},30540:e=>{e.exports="undefined"!=typeof navigator&&String(navigator.userAgent)||""},5556:(e,t,r)=>{var n,i,a=r(60899),s=r(30540),o=a.process,c=a.Deno,u=o&&o.versions||c&&c.version,h=u&&u.v8;h&&(i=(n=h.split("."))[0]>0&&n[0]<4?1:+(n[0]+n[1])),!i&&s&&(!(n=s.match(/Edge\/(\d+)/))||n[1]>=74)&&(n=s.match(/Chrome\/(\d+)/))&&(i=+n[1]),e.exports=i},72456:(e,t,r)=>{var n=r(30540).match(/AppleWebKit\/(\d+)\./);e.exports=!!n&&+n[1]},89432:e=>{e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},12824:(e,t,r)=>{var n=r(18256),i=Error,a=n("".replace),s=String(new i("zxcasd").stack),o=/\n\s*at [^:]*:[^\n]*/,c=o.test(s);e.exports=function(e,t){if(c&&"string"==typeof e&&!i.prepareStackTrace)for(;t--;)e=a(e,o,"");return e}},2360:(e,t,r)=>{var n=r(34952),i=r(12824),a=r(65552),s=Error.captureStackTrace;e.exports=function(e,t,r,o){a&&(s?s(e,t):n(e,"stack",i(r,o)))}},65552:(e,t,r)=>{var n=r(22088),i=r(61520);e.exports=!n((function(){var e=new Error("a");return!("stack"in e)||(Object.defineProperty(e,"stack",i(1,7)),7!==e.stack)}))},13652:(e,t,r)=>{var n=r(89160),i=r(22088),a=r(26928),s=r(12148),o=Error.prototype.toString,c=i((function(){if(n){var e=Object.create(Object.defineProperty({},"name",{get:function(){return this===e}}));if("true"!==o.call(e))return!0}return"2: 1"!==o.call({message:1,name:2})||"Error"!==o.call({})}));e.exports=c?function(){var e=a(this),t=s(e.name,"Error"),r=s(e.message);return t?r?t+": "+r:t:r}:o},95460:(e,t,r)=>{var n=r(60899),i=r(32060).f,a=r(34952),s=r(88788),o=r(1588),c=r(1747),u=r(38976);e.exports=function(e,t){var r,h,l,y,p,f=e.target,d=e.global,g=e.stat;if(r=d?n:g?n[f]||o(f,{}):n[f]&&n[f].prototype)for(h in t){if(y=t[h],l=e.dontCallGetSet?(p=i(r,h))&&p.value:r[h],!u(d?h:f+(g?".":"#")+h,e.forced)&&void 0!==l){if(typeof y==typeof l)continue;c(y,l)}(e.sham||l&&l.sham)&&a(y,"sham",!0),s(r,h,y,e)}}},22088:e=>{e.exports=function(e){try{return!!e()}catch(e){return!0}}},73492:(e,t,r)=>{r(69e3);var n=r(82884),i=r(88788),a=r(61640),s=r(22088),o=r(61720),c=r(34952),u=o("species"),h=RegExp.prototype;e.exports=function(e,t,r,l){var y=o(e),p=!s((function(){var t={};return t[y]=function(){return 7},7!==""[e](t)})),f=p&&!s((function(){var t=!1,r=/a/;return"split"===e&&((r={}).constructor={},r.constructor[u]=function(){return r},r.flags="",r[y]=/./[y]),r.exec=function(){return t=!0,null},r[y](""),!t}));if(!p||!f||r){var d=/./[y],g=t(y,""[e],(function(e,t,r,i,s){var o=t.exec;return o===a||o===h.exec?p&&!s?{done:!0,value:n(d,t,r,i)}:{done:!0,value:n(e,r,t,i)}:{done:!1}}));i(String.prototype,e,g[0]),i(h,y,g[1])}l&&c(h[y],"sham",!0)}},55624:(e,t,r)=>{var n=r(65376),i=r(85827),a=r(70664),s=r(66588),o=function(e,t,r,c,u,h,l,y){for(var p,f,d=u,g=0,m=!!l&&s(l,y);g<c;)g in r&&(p=m?m(r[g],g,t):r[g],h>0&&n(p)?(f=i(p),d=o(e,t,p,f,d,h-1)-1):(a(d+1),e[d]=p),d++),g++;return d};e.exports=o},98120:(e,t,r)=>{var n=r(22088);e.exports=!n((function(){return Object.isExtensible(Object.preventExtensions({}))}))},10004:(e,t,r)=>{var n=r(20876),i=Function.prototype,a=i.apply,s=i.call;e.exports="object"==typeof Reflect&&Reflect.apply||(n?s.bind(a):function(){return s.apply(a,arguments)})},66588:(e,t,r)=>{var n=r(41724),i=r(46580),a=r(20876),s=n(n.bind);e.exports=function(e,t){return i(e),void 0===t?e:a?s(e,t):function(){return e.apply(t,arguments)}}},20876:(e,t,r)=>{var n=r(22088);e.exports=!n((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},52512:(e,t,r)=>{var n=r(18256),i=r(46580),a=r(74436),s=r(57204),o=r(70220),c=r(20876),u=Function,h=n([].concat),l=n([].join),y={};e.exports=c?u.bind:function(e){var t=i(this),r=t.prototype,n=o(arguments,1),c=function(){var r=h(n,o(arguments));return this instanceof c?function(e,t,r){if(!s(y,t)){for(var n=[],i=0;i<t;i++)n[i]="a["+i+"]";y[t]=u("C,a","return new C("+l(n,",")+")")}return y[t](e,r)}(t,r.length,r):t.apply(e,r)};return a(r)&&(c.prototype=r),c}},82884:(e,t,r)=>{var n=r(20876),i=Function.prototype.call;e.exports=n?i.bind(i):function(){return i.apply(i,arguments)}},87624:(e,t,r)=>{var n=r(89160),i=r(57204),a=Function.prototype,s=n&&Object.getOwnPropertyDescriptor,o=i(a,"name"),c=o&&"something"===function(){}.name,u=o&&(!n||n&&s(a,"name").configurable);e.exports={EXISTS:o,PROPER:c,CONFIGURABLE:u}},16752:(e,t,r)=>{var n=r(18256),i=r(46580);e.exports=function(e,t,r){try{return n(i(Object.getOwnPropertyDescriptor(e,t)[r]))}catch(e){}}},41724:(e,t,r)=>{var n=r(57740),i=r(18256);e.exports=function(e){if("Function"===n(e))return i(e)}},18256:(e,t,r)=>{var n=r(20876),i=Function.prototype,a=i.call,s=n&&i.bind.bind(a,a);e.exports=n?s:function(e){return function(){return a.apply(e,arguments)}}},55688:(e,t,r)=>{var n=r(60899);e.exports=function(e,t){var r=n[e],i=r&&r.prototype;return i&&i[t]}},6960:(e,t,r)=>{var n=r(60899),i=r(65156);e.exports=function(e,t){return arguments.length<2?(r=n[e],i(r)?r:void 0):n[e]&&n[e][t];var r}},27716:(e,t,r)=>{var n=r(50264),i=r(82912),a=r(83344),s=r(26632),o=r(61720)("iterator");e.exports=function(e){if(!a(e))return i(e,o)||i(e,"@@iterator")||s[n(e)]}},60900:(e,t,r)=>{var n=r(82884),i=r(46580),a=r(26928),s=r(20580),o=r(27716),c=TypeError;e.exports=function(e,t){var r=arguments.length<2?o(e):t;if(i(r))return a(n(r,e));throw new c(s(e)+" is not iterable")}},38476:(e,t,r)=>{var n=r(18256),i=r(65376),a=r(65156),s=r(57740),o=r(99552),c=n([].push);e.exports=function(e){if(a(e))return e;if(i(e)){for(var t=e.length,r=[],n=0;n<t;n++){var u=e[n];"string"==typeof u?c(r,u):"number"!=typeof u&&"Number"!==s(u)&&"String"!==s(u)||c(r,o(u))}var h=r.length,l=!0;return function(e,t){if(l)return l=!1,t;if(i(this))return t;for(var n=0;n<h;n++)if(r[n]===e)return t}}}},82912:(e,t,r)=>{var n=r(46580),i=r(83344);e.exports=function(e,t){var r=e[t];return i(r)?void 0:n(r)}},99888:(e,t,r)=>{var n=r(18256),i=r(22032),a=Math.floor,s=n("".charAt),o=n("".replace),c=n("".slice),u=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,h=/\$([$&'`]|\d{1,2})/g;e.exports=function(e,t,r,n,l,y){var p=r+e.length,f=n.length,d=h;return void 0!==l&&(l=i(l),d=u),o(y,d,(function(i,o){var u;switch(s(o,0)){case"$":return"$";case"&":return e;case"`":return c(t,0,r);case"'":return c(t,p);case"<":u=l[c(o,1,-1)];break;default:var h=+o;if(0===h)return i;if(h>f){var y=a(h/10);return 0===y?i:y<=f?void 0===n[y-1]?s(o,1):n[y-1]+s(o,1):i}u=n[h-1]}return void 0===u?"":u}))}},60899:function(e,t,r){var n=function(e){return e&&e.Math===Math&&e};e.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof r.g&&r.g)||n("object"==typeof this&&this)||function(){return this}()||Function("return this")()},57204:(e,t,r)=>{var n=r(18256),i=r(22032),a=n({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return a(i(e),t)}},24088:e=>{e.exports={}},69936:e=>{e.exports=function(e,t){try{1===arguments.length?console.error(e):console.error(e,t)}catch(e){}}},36772:(e,t,r)=>{var n=r(6960);e.exports=n("document","documentElement")},49924:(e,t,r)=>{var n=r(89160),i=r(22088),a=r(87496);e.exports=!n&&!i((function(){return 7!==Object.defineProperty(a("div"),"a",{get:function(){return 7}}).a}))},30336:e=>{var t=Array,r=Math.abs,n=Math.pow,i=Math.floor,a=Math.log,s=Math.LN2;e.exports={pack:function(e,o,c){var u,h,l,y=t(c),p=8*c-o-1,f=(1<<p)-1,d=f>>1,g=23===o?n(2,-24)-n(2,-77):0,m=e<0||0===e&&1/e<0?1:0,w=0;for((e=r(e))!=e||e===1/0?(h=e!=e?1:0,u=f):(u=i(a(e)/s),e*(l=n(2,-u))<1&&(u--,l*=2),(e+=u+d>=1?g/l:g*n(2,1-d))*l>=2&&(u++,l/=2),u+d>=f?(h=0,u=f):u+d>=1?(h=(e*l-1)*n(2,o),u+=d):(h=e*n(2,d-1)*n(2,o),u=0));o>=8;)y[w++]=255&h,h/=256,o-=8;for(u=u<<o|h,p+=o;p>0;)y[w++]=255&u,u/=256,p-=8;return y[--w]|=128*m,y},unpack:function(e,t){var r,i=e.length,a=8*i-t-1,s=(1<<a)-1,o=s>>1,c=a-7,u=i-1,h=e[u--],l=127&h;for(h>>=7;c>0;)l=256*l+e[u--],c-=8;for(r=l&(1<<-c)-1,l>>=-c,c+=t;c>0;)r=256*r+e[u--],c-=8;if(0===l)l=1-o;else{if(l===s)return r?NaN:h?-1/0:1/0;r+=n(2,t),l-=o}return(h?-1:1)*r*n(2,l-t)}}},50700:(e,t,r)=>{var n=r(18256),i=r(22088),a=r(57740),s=Object,o=n("".split);e.exports=i((function(){return!s("z").propertyIsEnumerable(0)}))?function(e){return"String"===a(e)?o(e,""):s(e)}:s},85432:(e,t,r)=>{var n=r(65156),i=r(74436),a=r(48);e.exports=function(e,t,r){var s,o;return a&&n(s=t.constructor)&&s!==r&&i(o=s.prototype)&&o!==r.prototype&&a(e,o),e}},41656:(e,t,r)=>{var n=r(18256),i=r(65156),a=r(4128),s=n(Function.toString);i(a.inspectSource)||(a.inspectSource=function(e){return s(e)}),e.exports=a.inspectSource},784:(e,t,r)=>{var n=r(74436),i=r(34952);e.exports=function(e,t){n(t)&&"cause"in t&&i(e,"cause",t.cause)}},6661:(e,t,r)=>{var n=r(95460),i=r(18256),a=r(24088),s=r(74436),o=r(57204),c=r(48712).f,u=r(24536),h=r(40588),l=r(26616),y=r(55436),p=r(98120),f=!1,d=y("meta"),g=0,m=function(e){c(e,d,{value:{objectID:"O"+g++,weakData:{}}})},w=e.exports={enable:function(){w.enable=function(){},f=!0;var e=u.f,t=i([].splice),r={};r[d]=1,e(r).length&&(u.f=function(r){for(var n=e(r),i=0,a=n.length;i<a;i++)if(n[i]===d){t(n,i,1);break}return n},n({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:h.f}))},fastKey:function(e,t){if(!s(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!o(e,d)){if(!l(e))return"F";if(!t)return"E";m(e)}return e[d].objectID},getWeakData:function(e,t){if(!o(e,d)){if(!l(e))return!0;if(!t)return!1;m(e)}return e[d].weakData},onFreeze:function(e){return p&&f&&l(e)&&!o(e,d)&&m(e),e}};a[d]=!0},95355:(e,t,r)=>{var n,i,a,s=r(1792),o=r(60899),c=r(74436),u=r(34952),h=r(57204),l=r(4128),y=r(92923),p=r(24088),f="Object already initialized",d=o.TypeError,g=o.WeakMap;if(s||l.state){var m=l.state||(l.state=new g);m.get=m.get,m.has=m.has,m.set=m.set,n=function(e,t){if(m.has(e))throw new d(f);return t.facade=e,m.set(e,t),t},i=function(e){return m.get(e)||{}},a=function(e){return m.has(e)}}else{var w=y("state");p[w]=!0,n=function(e,t){if(h(e,w))throw new d(f);return t.facade=e,u(e,w,t),t},i=function(e){return h(e,w)?e[w]:{}},a=function(e){return h(e,w)}}e.exports={set:n,get:i,has:a,enforce:function(e){return a(e)?i(e):n(e,{})},getterFor:function(e){return function(t){var r;if(!c(t)||(r=i(t)).type!==e)throw new d("Incompatible receiver, "+e+" required");return r}}}},19680:(e,t,r)=>{var n=r(61720),i=r(26632),a=n("iterator"),s=Array.prototype;e.exports=function(e){return void 0!==e&&(i.Array===e||s[a]===e)}},65376:(e,t,r)=>{var n=r(57740);e.exports=Array.isArray||function(e){return"Array"===n(e)}},96060:(e,t,r)=>{var n=r(50264);e.exports=function(e){var t=n(e);return"BigInt64Array"===t||"BigUint64Array"===t}},65156:e=>{var t="object"==typeof document&&document.all;e.exports=void 0===t&&void 0!==t?function(e){return"function"==typeof e||e===t}:function(e){return"function"==typeof e}},31044:(e,t,r)=>{var n=r(18256),i=r(22088),a=r(65156),s=r(50264),o=r(6960),c=r(41656),u=function(){},h=o("Reflect","construct"),l=/^\s*(?:class|function)\b/,y=n(l.exec),p=!l.test(u),f=function(e){if(!a(e))return!1;try{return h(u,[],e),!0}catch(e){return!1}},d=function(e){if(!a(e))return!1;switch(s(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return p||!!y(l,c(e))}catch(e){return!0}};d.sham=!0,e.exports=!h||i((function(){var e;return f(f.call)||!f(Object)||!f((function(){e=!0}))||e}))?d:f},69964:(e,t,r)=>{var n=r(57204);e.exports=function(e){return void 0!==e&&(n(e,"value")||n(e,"writable"))}},38976:(e,t,r)=>{var n=r(22088),i=r(65156),a=/#|\.prototype\./,s=function(e,t){var r=c[o(e)];return r===h||r!==u&&(i(t)?n(t):!!t)},o=s.normalize=function(e){return String(e).replace(a,".").toLowerCase()},c=s.data={},u=s.NATIVE="N",h=s.POLYFILL="P";e.exports=s},20140:(e,t,r)=>{var n=r(74436),i=Math.floor;e.exports=Number.isInteger||function(e){return!n(e)&&isFinite(e)&&i(e)===e}},83344:e=>{e.exports=function(e){return null==e}},74436:(e,t,r)=>{var n=r(65156);e.exports=function(e){return"object"==typeof e?null!==e:n(e)}},20188:(e,t,r)=>{var n=r(74436);e.exports=function(e){return n(e)||null===e}},65428:e=>{e.exports=!1},83572:(e,t,r)=>{var n=r(74436),i=r(57740),a=r(61720)("match");e.exports=function(e){var t;return n(e)&&(void 0!==(t=e[a])?!!t:"RegExp"===i(e))}},63232:(e,t,r)=>{var n=r(6960),i=r(65156),a=r(11808),s=r(15104),o=Object;e.exports=s?function(e){return"symbol"==typeof e}:function(e){var t=n("Symbol");return i(t)&&a(t.prototype,o(e))}},32240:(e,t,r)=>{var n=r(82884);e.exports=function(e,t,r){for(var i,a,s=r?e:e.iterator,o=e.next;!(i=n(o,s)).done;)if(void 0!==(a=t(i.value)))return a}},24664:(e,t,r)=>{var n=r(66588),i=r(82884),a=r(26928),s=r(20580),o=r(19680),c=r(85827),u=r(11808),h=r(60900),l=r(27716),y=r(60576),p=TypeError,f=function(e,t){this.stopped=e,this.result=t},d=f.prototype;e.exports=function(e,t,r){var g,m,w,v,b,k,A,E=r&&r.that,S=!(!r||!r.AS_ENTRIES),x=!(!r||!r.IS_RECORD),K=!(!r||!r.IS_ITERATOR),P=!(!r||!r.INTERRUPTED),D=n(t,E),U=function(e){return g&&y(g,"normal",e),new f(!0,e)},C=function(e){return S?(a(e),P?D(e[0],e[1],U):D(e[0],e[1])):P?D(e,U):D(e)};if(x)g=e.iterator;else if(K)g=e;else{if(!(m=l(e)))throw new p(s(e)+" is not iterable");if(o(m)){for(w=0,v=c(e);v>w;w++)if((b=C(e[w]))&&u(d,b))return b;return new f(!1)}g=h(e,m)}for(k=x?e.next:g.next;!(A=i(k,g)).done;){try{b=C(A.value)}catch(e){y(g,"throw",e)}if("object"==typeof b&&b&&u(d,b))return b}return new f(!1)}},60576:(e,t,r)=>{var n=r(82884),i=r(26928),a=r(82912);e.exports=function(e,t,r){var s,o;i(e);try{if(!(s=a(e,"return"))){if("throw"===t)throw r;return r}s=n(s,e)}catch(e){o=!0,s=e}if("throw"===t)throw r;if(o)throw s;return i(s),r}},90509:(e,t,r)=>{var n=r(16208).IteratorPrototype,i=r(24728),a=r(61520),s=r(77104),o=r(26632),c=function(){return this};e.exports=function(e,t,r,u){var h=t+" Iterator";return e.prototype=i(n,{next:a(+!u,r)}),s(e,h,!1,!0),o[h]=c,e}},68776:(e,t,r)=>{var n=r(95460),i=r(82884),a=r(65428),s=r(87624),o=r(65156),c=r(90509),u=r(12100),h=r(48),l=r(77104),y=r(34952),p=r(88788),f=r(61720),d=r(26632),g=r(16208),m=s.PROPER,w=s.CONFIGURABLE,v=g.IteratorPrototype,b=g.BUGGY_SAFARI_ITERATORS,k=f("iterator"),A="keys",E="values",S="entries",x=function(){return this};e.exports=function(e,t,r,s,f,g,K){c(r,t,s);var P,D,U,C=function(e){if(e===f&&M)return M;if(!b&&e&&e in T)return T[e];switch(e){case A:case E:case S:return function(){return new r(this,e)}}return function(){return new r(this)}},I=t+" Iterator",_=!1,T=e.prototype,R=T[k]||T["@@iterator"]||f&&T[f],M=!b&&R||C(f),O="Array"===t&&T.entries||R;if(O&&(P=u(O.call(new e)))!==Object.prototype&&P.next&&(a||u(P)===v||(h?h(P,v):o(P[k])||p(P,k,x)),l(P,I,!0,!0),a&&(d[I]=x)),m&&f===E&&R&&R.name!==E&&(!a&&w?y(T,"name",E):(_=!0,M=function(){return i(R,this)})),f)if(D={values:C(E),keys:g?M:C(A),entries:C(S)},K)for(U in D)(b||_||!(U in T))&&p(T,U,D[U]);else n({target:t,proto:!0,forced:b||_},D);return a&&!K||T[k]===M||p(T,k,M,{name:f}),d[t]=M,D}},16208:(e,t,r)=>{var n,i,a,s=r(22088),o=r(65156),c=r(74436),u=r(24728),h=r(12100),l=r(88788),y=r(61720),p=r(65428),f=y("iterator"),d=!1;[].keys&&("next"in(a=[].keys())?(i=h(h(a)))!==Object.prototype&&(n=i):d=!0),!c(n)||s((function(){var e={};return n[f].call(e)!==e}))?n={}:p&&(n=u(n)),o(n[f])||l(n,f,(function(){return this})),e.exports={IteratorPrototype:n,BUGGY_SAFARI_ITERATORS:d}},26632:e=>{e.exports={}},85827:(e,t,r)=>{var n=r(82440);e.exports=function(e){return n(e.length)}},29032:(e,t,r)=>{var n=r(18256),i=r(22088),a=r(65156),s=r(57204),o=r(89160),c=r(87624).CONFIGURABLE,u=r(41656),h=r(95355),l=h.enforce,y=h.get,p=String,f=Object.defineProperty,d=n("".slice),g=n("".replace),m=n([].join),w=o&&!i((function(){return 8!==f((function(){}),"length",{value:8}).length})),v=String(String).split("String"),b=e.exports=function(e,t,r){"Symbol("===d(p(t),0,7)&&(t="["+g(p(t),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),r&&r.getter&&(t="get "+t),r&&r.setter&&(t="set "+t),(!s(e,"name")||c&&e.name!==t)&&(o?f(e,"name",{value:t,configurable:!0}):e.name=t),w&&r&&s(r,"arity")&&e.length!==r.arity&&f(e,"length",{value:r.arity});try{r&&s(r,"constructor")&&r.constructor?o&&f(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(e){}var n=l(e);return s(n,"source")||(n.source=m(v,"string"==typeof t?t:"")),e};Function.prototype.toString=b((function(){return a(this)&&y(this).source||u(this)}),"toString")},77752:(e,t,r)=>{var n=r(18256),i=Map.prototype;e.exports={Map,set:n(i.set),get:n(i.get),has:n(i.has),remove:n(i.delete),proto:i}},8160:e=>{var t=Math.expm1,r=Math.exp;e.exports=!t||t(10)>22025.465794806718||t(10)<22025.465794806718||-2e-17!==t(-2e-17)?function(e){var t=+e;return 0===t?t:t>-1e-6&&t<1e-6?t+t*t/2:r(t)-1}:t},40504:(e,t,r)=>{var n=r(11492),i=Math.abs,a=2220446049250313e-31,s=1/a;e.exports=function(e,t,r,o){var c=+e,u=i(c),h=n(c);if(u<o)return h*function(e){return e+s-s}(u/o/t)*o*t;var l=(1+t/a)*u,y=l-(l-u);return y>r||y!=y?h*(1/0):h*y}},29016:(e,t,r)=>{var n=r(40504);e.exports=Math.fround||function(e){return n(e,1.1920928955078125e-7,34028234663852886e22,11754943508222875e-54)}},52587:e=>{var t=Math.log,r=Math.LOG10E;e.exports=Math.log10||function(e){return t(e)*r}},17016:e=>{var t=Math.log;e.exports=Math.log1p||function(e){var r=+e;return r>-1e-8&&r<1e-8?r-r*r/2:t(1+r)}},11492:e=>{e.exports=Math.sign||function(e){var t=+e;return 0===t||t!=t?t:t<0?-1:1}},20568:e=>{var t=Math.ceil,r=Math.floor;e.exports=Math.trunc||function(e){var n=+e;return(n>0?r:t)(n)}},60192:(e,t,r)=>{var n,i,a,s,o,c=r(60899),u=r(96016),h=r(66588),l=r(38868).set,y=r(72640),p=r(65940),f=r(33636),d=r(56096),g=r(10460),m=c.MutationObserver||c.WebKitMutationObserver,w=c.document,v=c.process,b=c.Promise,k=u("queueMicrotask");if(!k){var A=new y,E=function(){var e,t;for(g&&(e=v.domain)&&e.exit();t=A.get();)try{t()}catch(e){throw A.head&&n(),e}e&&e.enter()};p||g||d||!m||!w?!f&&b&&b.resolve?((s=b.resolve(void 0)).constructor=b,o=h(s.then,s),n=function(){o(E)}):g?n=function(){v.nextTick(E)}:(l=h(l,c),n=function(){l(E)}):(i=!0,a=w.createTextNode(""),new m(E).observe(a,{characterData:!0}),n=function(){a.data=i=!i}),k=function(e){A.head||n(),A.add(e)}}e.exports=k},86836:(e,t,r)=>{var n=r(46580),i=TypeError,a=function(e){var t,r;this.promise=new e((function(e,n){if(void 0!==t||void 0!==r)throw new i("Bad Promise constructor");t=e,r=n})),this.resolve=n(t),this.reject=n(r)};e.exports.f=function(e){return new a(e)}},12148:(e,t,r)=>{var n=r(99552);e.exports=function(e,t){return void 0===e?arguments.length<2?"":t:n(e)}},72247:(e,t,r)=>{var n=r(83572),i=TypeError;e.exports=function(e){if(n(e))throw new i("The method doesn't accept regular expressions");return e}},55372:(e,t,r)=>{var n=r(60899).isFinite;e.exports=Number.isFinite||function(e){return"number"==typeof e&&n(e)}},32852:(e,t,r)=>{var n=r(60899),i=r(22088),a=r(18256),s=r(99552),o=r(69880).trim,c=r(41456),u=a("".charAt),h=n.parseFloat,l=n.Symbol,y=l&&l.iterator,p=1/h(c+"-0")!=-1/0||y&&!i((function(){h(Object(y))}));e.exports=p?function(e){var t=o(s(e)),r=h(t);return 0===r&&"-"===u(t,0)?-0:r}:h},77796:(e,t,r)=>{var n=r(60899),i=r(22088),a=r(18256),s=r(99552),o=r(69880).trim,c=r(41456),u=n.parseInt,h=n.Symbol,l=h&&h.iterator,y=/^[+-]?0x/i,p=a(y.exec),f=8!==u(c+"08")||22!==u(c+"0x16")||l&&!i((function(){u(Object(l))}));e.exports=f?function(e,t){var r=o(s(e));return u(r,t>>>0||(p(y,r)?16:10))}:u},50456:(e,t,r)=>{var n=r(89160),i=r(18256),a=r(82884),s=r(22088),o=r(13768),c=r(46456),u=r(2912),h=r(22032),l=r(50700),y=Object.assign,p=Object.defineProperty,f=i([].concat);e.exports=!y||s((function(){if(n&&1!==y({b:1},y(p({},"a",{enumerable:!0,get:function(){p(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},r=Symbol("assign detection"),i="abcdefghijklmnopqrst";return e[r]=7,i.split("").forEach((function(e){t[e]=e})),7!==y({},e)[r]||o(y({},t)).join("")!==i}))?function(e,t){for(var r=h(e),i=arguments.length,s=1,y=c.f,p=u.f;i>s;)for(var d,g=l(arguments[s++]),m=y?f(o(g),y(g)):o(g),w=m.length,v=0;w>v;)d=m[v++],n&&!a(p,g,d)||(r[d]=g[d]);return r}:y},24728:(e,t,r)=>{var n,i=r(26928),a=r(79400),s=r(89432),o=r(24088),c=r(36772),u=r(87496),h=r(92923),l="prototype",y="script",p=h("IE_PROTO"),f=function(){},d=function(e){return"<"+y+">"+e+"</"+y+">"},g=function(e){e.write(d("")),e.close();var t=e.parentWindow.Object;return e=null,t},m=function(){try{n=new ActiveXObject("htmlfile")}catch(e){}var e,t,r;m="undefined"!=typeof document?document.domain&&n?g(n):(t=u("iframe"),r="java"+y+":",t.style.display="none",c.appendChild(t),t.src=String(r),(e=t.contentWindow.document).open(),e.write(d("document.F=Object")),e.close(),e.F):g(n);for(var i=s.length;i--;)delete m[l][s[i]];return m()};o[p]=!0,e.exports=Object.create||function(e,t){var r;return null!==e?(f[l]=i(e),r=new f,f[l]=null,r[p]=e):r=m(),void 0===t?r:a.f(r,t)}},79400:(e,t,r)=>{var n=r(89160),i=r(70612),a=r(48712),s=r(26928),o=r(49704),c=r(13768);t.f=n&&!i?Object.defineProperties:function(e,t){s(e);for(var r,n=o(t),i=c(t),u=i.length,h=0;u>h;)a.f(e,r=i[h++],n[r]);return e}},48712:(e,t,r)=>{var n=r(89160),i=r(49924),a=r(70612),s=r(26928),o=r(15448),c=TypeError,u=Object.defineProperty,h=Object.getOwnPropertyDescriptor,l="enumerable",y="configurable",p="writable";t.f=n?a?function(e,t,r){if(s(e),t=o(t),s(r),"function"==typeof e&&"prototype"===t&&"value"in r&&p in r&&!r[p]){var n=h(e,t);n&&n[p]&&(e[t]=r.value,r={configurable:y in r?r[y]:n[y],enumerable:l in r?r[l]:n[l],writable:!1})}return u(e,t,r)}:u:function(e,t,r){if(s(e),t=o(t),s(r),i)try{return u(e,t,r)}catch(e){}if("get"in r||"set"in r)throw new c("Accessors not supported");return"value"in r&&(e[t]=r.value),e}},32060:(e,t,r)=>{var n=r(89160),i=r(82884),a=r(2912),s=r(61520),o=r(49704),c=r(15448),u=r(57204),h=r(49924),l=Object.getOwnPropertyDescriptor;t.f=n?l:function(e,t){if(e=o(e),t=c(t),h)try{return l(e,t)}catch(e){}if(u(e,t))return s(!i(a.f,e,t),e[t])}},40588:(e,t,r)=>{var n=r(57740),i=r(49704),a=r(24536).f,s=r(70220),o="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return o&&"Window"===n(e)?function(e){try{return a(e)}catch(e){return s(o)}}(e):a(i(e))}},24536:(e,t,r)=>{var n=r(34424),i=r(89432).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return n(e,i)}},46456:(e,t)=>{t.f=Object.getOwnPropertySymbols},12100:(e,t,r)=>{var n=r(57204),i=r(65156),a=r(22032),s=r(92923),o=r(41720),c=s("IE_PROTO"),u=Object,h=u.prototype;e.exports=o?u.getPrototypeOf:function(e){var t=a(e);if(n(t,c))return t[c];var r=t.constructor;return i(r)&&t instanceof r?r.prototype:t instanceof u?h:null}},26616:(e,t,r)=>{var n=r(22088),i=r(74436),a=r(57740),s=r(89872),o=Object.isExtensible,c=n((function(){o(1)}));e.exports=c||s?function(e){return!!i(e)&&((!s||"ArrayBuffer"!==a(e))&&(!o||o(e)))}:o},11808:(e,t,r)=>{var n=r(18256);e.exports=n({}.isPrototypeOf)},34424:(e,t,r)=>{var n=r(18256),i=r(57204),a=r(49704),s=r(18880).indexOf,o=r(24088),c=n([].push);e.exports=function(e,t){var r,n=a(e),u=0,h=[];for(r in n)!i(o,r)&&i(n,r)&&c(h,r);for(;t.length>u;)i(n,r=t[u++])&&(~s(h,r)||c(h,r));return h}},13768:(e,t,r)=>{var n=r(34424),i=r(89432);e.exports=Object.keys||function(e){return n(e,i)}},2912:(e,t)=>{var r={}.propertyIsEnumerable,n=Object.getOwnPropertyDescriptor,i=n&&!r.call({1:2},1);t.f=i?function(e){var t=n(this,e);return!!t&&t.enumerable}:r},59924:(e,t,r)=>{var n=r(65428),i=r(60899),a=r(22088),s=r(72456);e.exports=n||!a((function(){if(!(s&&s<535)){var e=Math.random();__defineSetter__.call(null,e,(function(){})),delete i[e]}}))},48:(e,t,r)=>{var n=r(16752),i=r(26928),a=r(63856);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,r={};try{(e=n(Object.prototype,"__proto__","set"))(r,[]),t=r instanceof Array}catch(e){}return function(r,n){return i(r),a(n),t?e(r,n):r.__proto__=n,r}}():void 0)},11384:(e,t,r)=>{var n=r(89160),i=r(22088),a=r(18256),s=r(12100),o=r(13768),c=r(49704),u=a(r(2912).f),h=a([].push),l=n&&i((function(){var e=Object.create(null);return e[2]=2,!u(e,2)})),y=function(e){return function(t){for(var r,i=c(t),a=o(i),y=l&&null===s(i),p=a.length,f=0,d=[];p>f;)r=a[f++],n&&!(y?r in i:u(i,r))||h(d,e?[r,i[r]]:i[r]);return d}};e.exports={entries:y(!0),values:y(!1)}},16192:(e,t,r)=>{var n=r(92704),i=r(50264);e.exports=n?{}.toString:function(){return"[object "+i(this)+"]"}},85464:(e,t,r)=>{var n=r(82884),i=r(65156),a=r(74436),s=TypeError;e.exports=function(e,t){var r,o;if("string"===t&&i(r=e.toString)&&!a(o=n(r,e)))return o;if(i(r=e.valueOf)&&!a(o=n(r,e)))return o;if("string"!==t&&i(r=e.toString)&&!a(o=n(r,e)))return o;throw new s("Can't convert object to primitive value")}},35776:(e,t,r)=>{var n=r(6960),i=r(18256),a=r(24536),s=r(46456),o=r(26928),c=i([].concat);e.exports=n("Reflect","ownKeys")||function(e){var t=a.f(o(e)),r=s.f;return r?c(t,r(e)):t}},27192:(e,t,r)=>{var n=r(60899);e.exports=n},9640:e=>{e.exports=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}}},15556:(e,t,r)=>{var n=r(60899),i=r(72348),a=r(65156),s=r(38976),o=r(41656),c=r(61720),u=r(31480),h=r(14872),l=r(65428),y=r(5556),p=i&&i.prototype,f=c("species"),d=!1,g=a(n.PromiseRejectionEvent),m=s("Promise",(function(){var e=o(i),t=e!==String(i);if(!t&&66===y)return!0;if(l&&(!p.catch||!p.finally))return!0;if(!y||y<51||!/native code/.test(e)){var r=new i((function(e){e(1)})),n=function(e){e((function(){}),(function(){}))};if((r.constructor={})[f]=n,!(d=r.then((function(){}))instanceof n))return!0}return!t&&(u||h)&&!g}));e.exports={CONSTRUCTOR:m,REJECTION_EVENT:g,SUBCLASSING:d}},72348:(e,t,r)=>{var n=r(60899);e.exports=n.Promise},16368:(e,t,r)=>{var n=r(26928),i=r(74436),a=r(86836);e.exports=function(e,t){if(n(e),i(t)&&t.constructor===e)return t;var r=a.f(e);return(0,r.resolve)(t),r.promise}},45408:(e,t,r)=>{var n=r(72348),i=r(49451),a=r(15556).CONSTRUCTOR;e.exports=a||!i((function(e){n.all(e).then(void 0,(function(){}))}))},64156:(e,t,r)=>{var n=r(48712).f;e.exports=function(e,t,r){r in e||n(e,r,{configurable:!0,get:function(){return t[r]},set:function(e){t[r]=e}})}},72640:e=>{var t=function(){this.head=null,this.tail=null};t.prototype={add:function(e){var t={item:e,next:null},r=this.tail;r?r.next=t:this.head=t,this.tail=t},get:function(){var e=this.head;if(e)return null===(this.head=e.next)&&(this.tail=null),e.item}},e.exports=t},15987:(e,t,r)=>{var n=r(82884),i=r(26928),a=r(65156),s=r(57740),o=r(61640),c=TypeError;e.exports=function(e,t){var r=e.exec;if(a(r)){var u=n(r,e,t);return null!==u&&i(u),u}if("RegExp"===s(e))return n(o,e,t);throw new c("RegExp#exec called on incompatible receiver")}},61640:(e,t,r)=>{var n,i,a=r(82884),s=r(18256),o=r(99552),c=r(3376),u=r(67832),h=r(85340),l=r(24728),y=r(95355).get,p=r(88627),f=r(73760),d=h("native-string-replace",String.prototype.replace),g=RegExp.prototype.exec,m=g,w=s("".charAt),v=s("".indexOf),b=s("".replace),k=s("".slice),A=(i=/b*/g,a(g,n=/a/,"a"),a(g,i,"a"),0!==n.lastIndex||0!==i.lastIndex),E=u.BROKEN_CARET,S=void 0!==/()??/.exec("")[1];(A||S||E||p||f)&&(m=function(e){var t,r,n,i,s,u,h,p=this,f=y(p),x=o(e),K=f.raw;if(K)return K.lastIndex=p.lastIndex,t=a(m,K,x),p.lastIndex=K.lastIndex,t;var P=f.groups,D=E&&p.sticky,U=a(c,p),C=p.source,I=0,_=x;if(D&&(U=b(U,"y",""),-1===v(U,"g")&&(U+="g"),_=k(x,p.lastIndex),p.lastIndex>0&&(!p.multiline||p.multiline&&"\n"!==w(x,p.lastIndex-1))&&(C="(?: "+C+")",_=" "+_,I++),r=new RegExp("^(?:"+C+")",U)),S&&(r=new RegExp("^"+C+"$(?!\\s)",U)),A&&(n=p.lastIndex),i=a(g,D?r:p,_),D?i?(i.input=k(i.input,I),i[0]=k(i[0],I),i.index=p.lastIndex,p.lastIndex+=i[0].length):p.lastIndex=0:A&&i&&(p.lastIndex=p.global?i.index+i[0].length:n),S&&i&&i.length>1&&a(d,i[0],r,(function(){for(s=1;s<arguments.length-2;s++)void 0===arguments[s]&&(i[s]=void 0)})),i&&P)for(i.groups=u=l(null),s=0;s<P.length;s++)u[(h=P[s])[0]]=i[h[1]];return i}),e.exports=m},3376:(e,t,r)=>{var n=r(26928);e.exports=function(){var e=n(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.unicodeSets&&(t+="v"),e.sticky&&(t+="y"),t}},60824:(e,t,r)=>{var n=r(82884),i=r(57204),a=r(11808),s=r(3376),o=RegExp.prototype;e.exports=function(e){var t=e.flags;return void 0!==t||"flags"in o||i(e,"flags")||!a(o,e)?t:n(s,e)}},67832:(e,t,r)=>{var n=r(22088),i=r(60899).RegExp,a=n((function(){var e=i("a","y");return e.lastIndex=2,null!==e.exec("abcd")})),s=a||n((function(){return!i("a","y").sticky})),o=a||n((function(){var e=i("^r","gy");return e.lastIndex=2,null!==e.exec("str")}));e.exports={BROKEN_CARET:o,MISSED_STICKY:s,UNSUPPORTED_Y:a}},88627:(e,t,r)=>{var n=r(22088),i=r(60899).RegExp;e.exports=n((function(){var e=i(".","s");return!(e.dotAll&&e.test("\n")&&"s"===e.flags)}))},73760:(e,t,r)=>{var n=r(22088),i=r(60899).RegExp;e.exports=n((function(){var e=i("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")}))},66852:(e,t,r)=>{var n=r(83344),i=TypeError;e.exports=function(e){if(n(e))throw new i("Can't call method on "+e);return e}},96016:(e,t,r)=>{var n=r(60899),i=r(89160),a=Object.getOwnPropertyDescriptor;e.exports=function(e){if(!i)return n[e];var t=a(n,e);return t&&t.value}},1124:e=>{e.exports=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},33656:(e,t,r)=>{var n,i=r(60899),a=r(10004),s=r(65156),o=r(67352),c=r(30540),u=r(70220),h=r(3932),l=i.Function,y=/MSIE .\./.test(c)||o&&((n=i.Bun.version.split(".")).length<3||"0"===n[0]&&(n[1]<3||"3"===n[1]&&"0"===n[2]));e.exports=function(e,t){var r=t?2:1;return y?function(n,i){var o=h(arguments.length,1)>r,c=s(n)?n:l(n),y=o?u(arguments,r):[],p=o?function(){a(c,this,y)}:c;return t?e(p,i):e(p)}:e}},66704:(e,t,r)=>{var n=r(18256),i=Set.prototype;e.exports={Set,add:n(i.add),has:n(i.has),remove:n(i.delete),proto:i}},58020:(e,t,r)=>{var n=r(18256),i=r(32240),a=r(66704),s=a.Set,o=a.proto,c=n(o.forEach),u=n(o.keys),h=u(new s).next;e.exports=function(e,t,r){return r?i({iterator:u(e),next:h},t):c(e,t)}},54648:(e,t,r)=>{var n=r(6960),i=r(95139),a=r(61720),s=r(89160),o=a("species");e.exports=function(e){var t=n(e);s&&t&&!t[o]&&i(t,o,{configurable:!0,get:function(){return this}})}},77104:(e,t,r)=>{var n=r(48712).f,i=r(57204),a=r(61720)("toStringTag");e.exports=function(e,t,r){e&&!r&&(e=e.prototype),e&&!i(e,a)&&n(e,a,{configurable:!0,value:t})}},92923:(e,t,r)=>{var n=r(85340),i=r(55436),a=n("keys");e.exports=function(e){return a[e]||(a[e]=i(e))}},4128:(e,t,r)=>{var n=r(60899),i=r(1588),a="__core-js_shared__",s=n[a]||i(a,{});e.exports=s},85340:(e,t,r)=>{var n=r(65428),i=r(4128);(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.35.1",mode:n?"pure":"global",copyright:"© 2014-2024 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.35.1/LICENSE",source:"https://github.com/zloirock/core-js"})},79851:(e,t,r)=>{var n=r(26928),i=r(59952),a=r(83344),s=r(61720)("species");e.exports=function(e,t){var r,o=n(e).constructor;return void 0===o||a(r=n(o)[s])?t:i(r)}},37708:(e,t,r)=>{var n=r(22088);e.exports=function(e){return n((function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3}))}},71904:(e,t,r)=>{var n=r(18256),i=r(40496),a=r(99552),s=r(66852),o=n("".charAt),c=n("".charCodeAt),u=n("".slice),h=function(e){return function(t,r){var n,h,l=a(s(t)),y=i(r),p=l.length;return y<0||y>=p?e?"":void 0:(n=c(l,y))<55296||n>56319||y+1===p||(h=c(l,y+1))<56320||h>57343?e?o(l,y):n:e?u(l,y,y+2):h-56320+(n-55296<<10)+65536}};e.exports={codeAt:h(!1),charAt:h(!0)}},49472:(e,t,r)=>{var n=r(30540);e.exports=/Version\/10(?:\.\d+){1,2}(?: [\w./]+)?(?: Mobile\/\w+)? Safari\//.test(n)},76512:(e,t,r)=>{var n=r(18256),i=r(82440),a=r(99552),s=r(62904),o=r(66852),c=n(s),u=n("".slice),h=Math.ceil,l=function(e){return function(t,r,n){var s,l,y=a(o(t)),p=i(r),f=y.length,d=void 0===n?" ":a(n);return p<=f||""===d?y:((l=c(d,h((s=p-f)/d.length))).length>s&&(l=u(l,0,s)),e?y+l:l+y)}};e.exports={start:l(!1),end:l(!0)}},11232:(e,t,r)=>{var n=r(18256),i=2147483647,a=/[^\0-\u007E]/,s=/[.\u3002\uFF0E\uFF61]/g,o="Overflow: input needs wider integers to process",c=RangeError,u=n(s.exec),h=Math.floor,l=String.fromCharCode,y=n("".charCodeAt),p=n([].join),f=n([].push),d=n("".replace),g=n("".split),m=n("".toLowerCase),w=function(e){return e+22+75*(e<26)},v=function(e,t,r){var n=0;for(e=r?h(e/700):e>>1,e+=h(e/t);e>455;)e=h(e/35),n+=36;return h(n+36*e/(e+38))},b=function(e){var t=[];e=function(e){for(var t=[],r=0,n=e.length;r<n;){var i=y(e,r++);if(i>=55296&&i<=56319&&r<n){var a=y(e,r++);56320==(64512&a)?f(t,((1023&i)<<10)+(1023&a)+65536):(f(t,i),r--)}else f(t,i)}return t}(e);var r,n,a=e.length,s=128,u=0,d=72;for(r=0;r<e.length;r++)(n=e[r])<128&&f(t,l(n));var g=t.length,m=g;for(g&&f(t,"-");m<a;){var b=i;for(r=0;r<e.length;r++)(n=e[r])>=s&&n<b&&(b=n);var k=m+1;if(b-s>h((i-u)/k))throw new c(o);for(u+=(b-s)*k,s=b,r=0;r<e.length;r++){if((n=e[r])<s&&++u>i)throw new c(o);if(n===s){for(var A=u,E=36;;){var S=E<=d?1:E>=d+26?26:E-d;if(A<S)break;var x=A-S,K=36-S;f(t,l(w(S+x%K))),A=h(x/K),E+=36}f(t,l(w(A))),d=v(u,k,m===g),u=0,m++}}u++,s++}return p(t,"")};e.exports=function(e){var t,r,n=[],i=g(d(m(e),s,"."),".");for(t=0;t<i.length;t++)r=i[t],f(n,u(a,r)?"xn--"+b(r):r);return p(n,".")}},62904:(e,t,r)=>{var n=r(40496),i=r(99552),a=r(66852),s=RangeError;e.exports=function(e){var t=i(a(this)),r="",o=n(e);if(o<0||o===1/0)throw new s("Wrong number of repetitions");for(;o>0;(o>>>=1)&&(t+=t))1&o&&(r+=t);return r}},32428:(e,t,r)=>{var n=r(69880).end,i=r(81740);e.exports=i("trimEnd")?function(){return n(this)}:"".trimEnd},81740:(e,t,r)=>{var n=r(87624).PROPER,i=r(22088),a=r(41456);e.exports=function(e){return i((function(){return!!a[e]()||"​᠎"!=="​᠎"[e]()||n&&a[e].name!==e}))}},33480:(e,t,r)=>{var n=r(69880).start,i=r(81740);e.exports=i("trimStart")?function(){return n(this)}:"".trimStart},69880:(e,t,r)=>{var n=r(18256),i=r(66852),a=r(99552),s=r(41456),o=n("".replace),c=RegExp("^["+s+"]+"),u=RegExp("(^|[^"+s+"])["+s+"]+$"),h=function(e){return function(t){var r=a(i(t));return 1&e&&(r=o(r,c,"")),2&e&&(r=o(r,u,"$1")),r}};e.exports={start:h(1),end:h(2),trim:h(3)}},67816:(e,t,r)=>{var n=r(60899),i=r(22088),a=r(5556),s=r(31480),o=r(14872),c=r(10460),u=n.structuredClone;e.exports=!!u&&!i((function(){if(o&&a>92||c&&a>94||s&&a>97)return!1;var e=new ArrayBuffer(8),t=u(e,{transfer:[e]});return 0!==e.byteLength||8!==t.byteLength}))},86808:(e,t,r)=>{var n=r(5556),i=r(22088),a=r(60899).String;e.exports=!!Object.getOwnPropertySymbols&&!i((function(){var e=Symbol("symbol detection");return!a(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&n&&n<41}))},44992:(e,t,r)=>{var n=r(82884),i=r(6960),a=r(61720),s=r(88788);e.exports=function(){var e=i("Symbol"),t=e&&e.prototype,r=t&&t.valueOf,o=a("toPrimitive");t&&!t[o]&&s(t,o,(function(e){return n(r,this)}),{arity:1})}},9152:(e,t,r)=>{var n=r(86808);e.exports=n&&!!Symbol.for&&!!Symbol.keyFor},38868:(e,t,r)=>{var n,i,a,s,o=r(60899),c=r(10004),u=r(66588),h=r(65156),l=r(57204),y=r(22088),p=r(36772),f=r(70220),d=r(87496),g=r(3932),m=r(65940),w=r(10460),v=o.setImmediate,b=o.clearImmediate,k=o.process,A=o.Dispatch,E=o.Function,S=o.MessageChannel,x=o.String,K=0,P={},D="onreadystatechange";y((function(){n=o.location}));var U=function(e){if(l(P,e)){var t=P[e];delete P[e],t()}},C=function(e){return function(){U(e)}},I=function(e){U(e.data)},_=function(e){o.postMessage(x(e),n.protocol+"//"+n.host)};v&&b||(v=function(e){g(arguments.length,1);var t=h(e)?e:E(e),r=f(arguments,1);return P[++K]=function(){c(t,void 0,r)},i(K),K},b=function(e){delete P[e]},w?i=function(e){k.nextTick(C(e))}:A&&A.now?i=function(e){A.now(C(e))}:S&&!m?(s=(a=new S).port2,a.port1.onmessage=I,i=u(s.postMessage,s)):o.addEventListener&&h(o.postMessage)&&!o.importScripts&&n&&"file:"!==n.protocol&&!y(_)?(i=_,o.addEventListener("message",I,!1)):i=D in d("script")?function(e){p.appendChild(d("script"))[D]=function(){p.removeChild(this),U(e)}}:function(e){setTimeout(C(e),0)}),e.exports={set:v,clear:b}},352:(e,t,r)=>{var n=r(18256);e.exports=n(1..valueOf)},31212:(e,t,r)=>{var n=r(40496),i=Math.max,a=Math.min;e.exports=function(e,t){var r=n(e);return r<0?i(r+t,0):a(r,t)}},52832:(e,t,r)=>{var n=r(71664),i=TypeError;e.exports=function(e){var t=n(e,"number");if("number"==typeof t)throw new i("Can't convert number to bigint");return BigInt(t)}},30288:(e,t,r)=>{var n=r(40496),i=r(82440),a=RangeError;e.exports=function(e){if(void 0===e)return 0;var t=n(e),r=i(t);if(t!==r)throw new a("Wrong length or index");return r}},49704:(e,t,r)=>{var n=r(50700),i=r(66852);e.exports=function(e){return n(i(e))}},40496:(e,t,r)=>{var n=r(20568);e.exports=function(e){var t=+e;return t!=t||0===t?0:n(t)}},82440:(e,t,r)=>{var n=r(40496),i=Math.min;e.exports=function(e){var t=n(e);return t>0?i(t,9007199254740991):0}},22032:(e,t,r)=>{var n=r(66852),i=Object;e.exports=function(e){return i(n(e))}},82232:(e,t,r)=>{var n=r(39248),i=RangeError;e.exports=function(e,t){var r=n(e);if(r%t)throw new i("Wrong offset");return r}},39248:(e,t,r)=>{var n=r(40496),i=RangeError;e.exports=function(e){var t=n(e);if(t<0)throw new i("The argument can't be less than 0");return t}},71664:(e,t,r)=>{var n=r(82884),i=r(74436),a=r(63232),s=r(82912),o=r(85464),c=r(61720),u=TypeError,h=c("toPrimitive");e.exports=function(e,t){if(!i(e)||a(e))return e;var r,c=s(e,h);if(c){if(void 0===t&&(t="default"),r=n(c,e,t),!i(r)||a(r))return r;throw new u("Can't convert object to primitive value")}return void 0===t&&(t="number"),o(e,t)}},15448:(e,t,r)=>{var n=r(71664),i=r(63232);e.exports=function(e){var t=n(e,"string");return i(t)?t:t+""}},92704:(e,t,r)=>{var n={};n[r(61720)("toStringTag")]="z",e.exports="[object z]"===String(n)},99552:(e,t,r)=>{var n=r(50264),i=String;e.exports=function(e){if("Symbol"===n(e))throw new TypeError("Cannot convert a Symbol value to a string");return i(e)}},78852:e=>{var t=Math.round;e.exports=function(e){var r=t(e);return r<0?0:r>255?255:255&r}},18141:(e,t,r)=>{var n=r(10460);e.exports=function(e){try{if(n)return Function('return require("'+e+'")')()}catch(e){}}},20580:e=>{var t=String;e.exports=function(e){try{return t(e)}catch(e){return"Object"}}},31552:(e,t,r)=>{var n=r(95460),i=r(60899),a=r(82884),s=r(89160),o=r(3576),c=r(79932),u=r(69996),h=r(9856),l=r(61520),y=r(34952),p=r(20140),f=r(82440),d=r(30288),g=r(82232),m=r(78852),w=r(15448),v=r(57204),b=r(50264),k=r(74436),A=r(63232),E=r(24728),S=r(11808),x=r(48),K=r(24536).f,P=r(15420),D=r(16840).forEach,U=r(54648),C=r(95139),I=r(48712),_=r(32060),T=r(86224),R=r(95355),M=r(85432),O=R.get,B=R.set,L=R.enforce,N=I.f,F=_.f,j=i.RangeError,z=u.ArrayBuffer,H=z.prototype,q=u.DataView,G=c.NATIVE_ARRAY_BUFFER_VIEWS,V=c.TYPED_ARRAY_TAG,W=c.TypedArray,$=c.TypedArrayPrototype,Y=c.isTypedArray,X="BYTES_PER_ELEMENT",Q="Wrong length",Z=function(e,t){C(e,t,{configurable:!0,get:function(){return O(this)[t]}})},J=function(e){var t;return S(H,e)||"ArrayBuffer"===(t=b(e))||"SharedArrayBuffer"===t},ee=function(e,t){return Y(e)&&!A(t)&&t in e&&p(+t)&&t>=0},te=function(e,t){return t=w(t),ee(e,t)?l(2,e[t]):F(e,t)},re=function(e,t,r){return t=w(t),!(ee(e,t)&&k(r)&&v(r,"value"))||v(r,"get")||v(r,"set")||r.configurable||v(r,"writable")&&!r.writable||v(r,"enumerable")&&!r.enumerable?N(e,t,r):(e[t]=r.value,e)};s?(G||(_.f=te,I.f=re,Z($,"buffer"),Z($,"byteOffset"),Z($,"byteLength"),Z($,"length")),n({target:"Object",stat:!0,forced:!G},{getOwnPropertyDescriptor:te,defineProperty:re}),e.exports=function(e,t,r){var s=e.match(/\d+/)[0]/8,c=e+(r?"Clamped":"")+"Array",u="get"+e,l="set"+e,p=i[c],w=p,v=w&&w.prototype,b={},A=function(e,t){N(e,t,{get:function(){return function(e,t){var r=O(e);return r.view[u](t*s+r.byteOffset,!0)}(this,t)},set:function(e){return function(e,t,n){var i=O(e);i.view[l](t*s+i.byteOffset,r?m(n):n,!0)}(this,t,e)},enumerable:!0})};G?o&&(w=t((function(e,t,r,n){return h(e,v),M(k(t)?J(t)?void 0!==n?new p(t,g(r,s),n):void 0!==r?new p(t,g(r,s)):new p(t):Y(t)?T(w,t):a(P,w,t):new p(d(t)),e,w)})),x&&x(w,W),D(K(p),(function(e){e in w||y(w,e,p[e])})),w.prototype=v):(w=t((function(e,t,r,n){h(e,v);var i,o,c,u=0,l=0;if(k(t)){if(!J(t))return Y(t)?T(w,t):a(P,w,t);i=t,l=g(r,s);var y=t.byteLength;if(void 0===n){if(y%s)throw new j(Q);if((o=y-l)<0)throw new j(Q)}else if((o=f(n)*s)+l>y)throw new j(Q);c=o/s}else c=d(t),i=new z(o=c*s);for(B(e,{buffer:i,byteOffset:l,byteLength:o,length:c,view:new q(i)});u<c;)A(e,u++)})),x&&x(w,W),v=w.prototype=E($)),v.constructor!==w&&y(v,"constructor",w),L(v).TypedArrayConstructor=w,V&&y(v,V,c);var S=w!==p;b[c]=w,n({global:!0,constructor:!0,forced:S,sham:!G},b),X in w||y(w,X,s),X in v||y(v,X,s),U(c)}):e.exports=function(){}},3576:(e,t,r)=>{var n=r(60899),i=r(22088),a=r(49451),s=r(79932).NATIVE_ARRAY_BUFFER_VIEWS,o=n.ArrayBuffer,c=n.Int8Array;e.exports=!s||!i((function(){c(1)}))||!i((function(){new c(-1)}))||!a((function(e){new c,new c(null),new c(1.5),new c(e)}),!0)||i((function(){return 1!==new c(new o(2),1,void 0).length}))},29164:(e,t,r)=>{var n=r(86224),i=r(77864);e.exports=function(e,t){return n(i(e),t)}},15420:(e,t,r)=>{var n=r(66588),i=r(82884),a=r(59952),s=r(22032),o=r(85827),c=r(60900),u=r(27716),h=r(19680),l=r(96060),y=r(79932).aTypedArrayConstructor,p=r(52832);e.exports=function(e){var t,r,f,d,g,m,w,v,b=a(this),k=s(e),A=arguments.length,E=A>1?arguments[1]:void 0,S=void 0!==E,x=u(k);if(x&&!h(x))for(v=(w=c(k,x)).next,k=[];!(m=i(v,w)).done;)k.push(m.value);for(S&&A>2&&(E=n(E,arguments[2])),r=o(k),f=new(y(b))(r),d=l(f),t=0;r>t;t++)g=S?E(k[t],t):k[t],f[t]=d?p(g):+g;return f}},77864:(e,t,r)=>{var n=r(79932),i=r(79851),a=n.aTypedArrayConstructor,s=n.getTypedArrayConstructor;e.exports=function(e){return a(i(e,s(e)))}},55436:(e,t,r)=>{var n=r(18256),i=0,a=Math.random(),s=n(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+s(++i+a,36)}},28988:(e,t,r)=>{var n=r(22088),i=r(61720),a=r(89160),s=r(65428),o=i("iterator");e.exports=!n((function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,r=new URLSearchParams("a=1&a=2&b=3"),n="";return e.pathname="c%20d",t.forEach((function(e,r){t.delete("b"),n+=r+e})),r.delete("a",2),r.delete("b",void 0),s&&(!e.toJSON||!r.has("a",1)||r.has("a",2)||!r.has("a",void 0)||r.has("b"))||!t.size&&(s||!a)||!t.sort||"http://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[o]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://тест").host||"#%D0%B1"!==new URL("http://a#б").hash||"a1c3"!==n||"x"!==new URL("http://x",void 0).host}))},15104:(e,t,r)=>{var n=r(86808);e.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},70612:(e,t,r)=>{var n=r(89160),i=r(22088);e.exports=n&&i((function(){return 42!==Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},3932:e=>{var t=TypeError;e.exports=function(e,r){if(e<r)throw new t("Not enough arguments");return e}},1792:(e,t,r)=>{var n=r(60899),i=r(65156),a=n.WeakMap;e.exports=i(a)&&/native code/.test(String(a))},59680:(e,t,r)=>{var n=r(27192),i=r(57204),a=r(8776),s=r(48712).f;e.exports=function(e){var t=n.Symbol||(n.Symbol={});i(t,e)||s(t,e,{value:a.f(e)})}},8776:(e,t,r)=>{var n=r(61720);t.f=n},61720:(e,t,r)=>{var n=r(60899),i=r(85340),a=r(57204),s=r(55436),o=r(86808),c=r(15104),u=n.Symbol,h=i("wks"),l=c?u.for||u:u&&u.withoutSetter||s;e.exports=function(e){return a(h,e)||(h[e]=o&&a(u,e)?u[e]:l("Symbol."+e)),h[e]}},41456:e=>{e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},52488:(e,t,r)=>{var n=r(6960),i=r(57204),a=r(34952),s=r(11808),o=r(48),c=r(1747),u=r(64156),h=r(85432),l=r(12148),y=r(784),p=r(2360),f=r(89160),d=r(65428);e.exports=function(e,t,r,g){var m="stackTraceLimit",w=g?2:1,v=e.split("."),b=v[v.length-1],k=n.apply(null,v);if(k){var A=k.prototype;if(!d&&i(A,"cause")&&delete A.cause,!r)return k;var E=n("Error"),S=t((function(e,t){var r=l(g?t:e,void 0),n=g?new k(e):new k;return void 0!==r&&a(n,"message",r),p(n,S,n.stack,2),this&&s(A,this)&&h(n,this,S),arguments.length>w&&y(n,arguments[w]),n}));if(S.prototype=A,"Error"!==b?o?o(S,E):c(S,E,{name:!0}):f&&m in k&&(u(S,k,m),u(S,k,"prepareStackTrace")),c(S,k),!d)try{A.name!==b&&a(A,"name",b),A.constructor=S}catch(e){}return S}}},76280:(e,t,r)=>{var n=r(95460),i=r(6960),a=r(10004),s=r(22088),o=r(52488),c="AggregateError",u=i(c),h=!s((function(){return 1!==u([1]).errors[0]}))&&s((function(){return 7!==u([1],c,{cause:7}).cause}));n({global:!0,constructor:!0,arity:2,forced:h},{AggregateError:o(c,(function(e){return function(t,r){return a(e,this,arguments)}}),h,!0)})},87576:(e,t,r)=>{var n=r(95460),i=r(11808),a=r(12100),s=r(48),o=r(1747),c=r(24728),u=r(34952),h=r(61520),l=r(784),y=r(2360),p=r(24664),f=r(12148),d=r(61720)("toStringTag"),g=Error,m=[].push,w=function(e,t){var r,n=i(v,this);s?r=s(new g,n?a(this):v):(r=n?this:c(v),u(r,d,"Error")),void 0!==t&&u(r,"message",f(t)),y(r,w,r.stack,1),arguments.length>2&&l(r,arguments[2]);var o=[];return p(e,m,{that:o}),u(r,"errors",o),r};s?s(w,g):o(w,g,{name:!0});var v=w.prototype=c(g.prototype,{constructor:h(1,w),message:h(1,""),name:h(1,"AggregateError")});n({global:!0,constructor:!0,arity:2},{AggregateError:w})},17252:(e,t,r)=>{r(87576)},74496:(e,t,r)=>{var n=r(95460),i=r(60899),a=r(69996),s=r(54648),o="ArrayBuffer",c=a[o];n({global:!0,constructor:!0,forced:i[o]!==c},{ArrayBuffer:c}),s(o)},86608:(e,t,r)=>{var n=r(95460),i=r(79932);n({target:"ArrayBuffer",stat:!0,forced:!i.NATIVE_ARRAY_BUFFER_VIEWS},{isView:i.isView})},34216:(e,t,r)=>{var n=r(95460),i=r(41724),a=r(22088),s=r(69996),o=r(26928),c=r(31212),u=r(82440),h=r(79851),l=s.ArrayBuffer,y=s.DataView,p=y.prototype,f=i(l.prototype.slice),d=i(p.getUint8),g=i(p.setUint8);n({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:a((function(){return!new l(2).slice(1,void 0).byteLength}))},{slice:function(e,t){if(f&&void 0===t)return f(o(this),e);for(var r=o(this).byteLength,n=c(e,r),i=c(void 0===t?r:t,r),a=new(h(this,l))(u(i-n)),s=new y(this),p=new y(a),m=0;n<i;)g(p,m++,d(s,n++));return a}})},91552:(e,t,r)=>{var n=r(95460),i=r(22032),a=r(85827),s=r(40496),o=r(29736);n({target:"Array",proto:!0},{at:function(e){var t=i(this),r=a(t),n=s(e),o=n>=0?n:r+n;return o<0||o>=r?void 0:t[o]}}),o("at")},59752:(e,t,r)=>{var n=r(95460),i=r(22088),a=r(65376),s=r(74436),o=r(22032),c=r(85827),u=r(70664),h=r(11108),l=r(60104),y=r(85140),p=r(61720),f=r(5556),d=p("isConcatSpreadable"),g=f>=51||!i((function(){var e=[];return e[d]=!1,e.concat()[0]!==e})),m=function(e){if(!s(e))return!1;var t=e[d];return void 0!==t?!!t:a(e)};n({target:"Array",proto:!0,arity:1,forced:!g||!y("concat")},{concat:function(e){var t,r,n,i,a,s=o(this),y=l(s,0),p=0;for(t=-1,n=arguments.length;t<n;t++)if(m(a=-1===t?s:arguments[t]))for(i=c(a),u(p+i),r=0;r<i;r++,p++)r in a&&h(y,p,a[r]);else u(p+1),h(y,p++,a);return y.length=p,y}})},13472:(e,t,r)=>{var n=r(95460),i=r(500),a=r(29736);n({target:"Array",proto:!0},{copyWithin:i}),a("copyWithin")},52504:(e,t,r)=>{var n=r(95460),i=r(16840).every;n({target:"Array",proto:!0,forced:!r(98680)("every")},{every:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},87656:(e,t,r)=>{var n=r(95460),i=r(49724),a=r(29736);n({target:"Array",proto:!0},{fill:i}),a("fill")},27432:(e,t,r)=>{var n=r(95460),i=r(16840).filter;n({target:"Array",proto:!0,forced:!r(85140)("filter")},{filter:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},57564:(e,t,r)=>{var n=r(95460),i=r(16840).findIndex,a=r(29736),s="findIndex",o=!0;s in[]&&Array(1)[s]((function(){o=!1})),n({target:"Array",proto:!0,forced:o},{findIndex:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),a(s)},8956:(e,t,r)=>{var n=r(95460),i=r(75467).findLastIndex,a=r(29736);n({target:"Array",proto:!0},{findLastIndex:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),a("findLastIndex")},14636:(e,t,r)=>{var n=r(95460),i=r(75467).findLast,a=r(29736);n({target:"Array",proto:!0},{findLast:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),a("findLast")},80780:(e,t,r)=>{var n=r(95460),i=r(16840).find,a=r(29736),s="find",o=!0;s in[]&&Array(1)[s]((function(){o=!1})),n({target:"Array",proto:!0,forced:o},{find:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),a(s)},7120:(e,t,r)=>{var n=r(95460),i=r(55624),a=r(46580),s=r(22032),o=r(85827),c=r(60104);n({target:"Array",proto:!0},{flatMap:function(e){var t,r=s(this),n=o(r);return a(e),(t=c(r,0)).length=i(t,r,r,n,0,1,e,arguments.length>1?arguments[1]:void 0),t}})},84780:(e,t,r)=>{var n=r(95460),i=r(55624),a=r(22032),s=r(85827),o=r(40496),c=r(60104);n({target:"Array",proto:!0},{flat:function(){var e=arguments.length?arguments[0]:void 0,t=a(this),r=s(t),n=c(t,0);return n.length=i(n,t,t,r,0,void 0===e?1:o(e)),n}})},80760:(e,t,r)=>{var n=r(95460),i=r(61176);n({target:"Array",proto:!0,forced:[].forEach!==i},{forEach:i})},26444:(e,t,r)=>{var n=r(95460),i=r(30107);n({target:"Array",stat:!0,forced:!r(49451)((function(e){Array.from(e)}))},{from:i})},97016:(e,t,r)=>{var n=r(95460),i=r(18880).includes,a=r(22088),s=r(29736);n({target:"Array",proto:!0,forced:a((function(){return!Array(1).includes()}))},{includes:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),s("includes")},53920:(e,t,r)=>{var n=r(95460),i=r(41724),a=r(18880).indexOf,s=r(98680),o=i([].indexOf),c=!!o&&1/o([1],1,-0)<0;n({target:"Array",proto:!0,forced:c||!s("indexOf")},{indexOf:function(e){var t=arguments.length>1?arguments[1]:void 0;return c?o(this,e,t)||0:a(this,e,t)}})},61128:(e,t,r)=>{r(95460)({target:"Array",stat:!0},{isArray:r(65376)})},57864:(e,t,r)=>{var n=r(49704),i=r(29736),a=r(26632),s=r(95355),o=r(48712).f,c=r(68776),u=r(45684),h=r(65428),l=r(89160),y="Array Iterator",p=s.set,f=s.getterFor(y);e.exports=c(Array,"Array",(function(e,t){p(this,{type:y,target:n(e),index:0,kind:t})}),(function(){var e=f(this),t=e.target,r=e.index++;if(!t||r>=t.length)return e.target=void 0,u(void 0,!0);switch(e.kind){case"keys":return u(r,!1);case"values":return u(t[r],!1)}return u([r,t[r]],!1)}),"values");var d=a.Arguments=a.Array;if(i("keys"),i("values"),i("entries"),!h&&l&&"values"!==d.name)try{o(d,"name",{value:"values"})}catch(e){}},66560:(e,t,r)=>{var n=r(95460),i=r(18256),a=r(50700),s=r(49704),o=r(98680),c=i([].join);n({target:"Array",proto:!0,forced:a!==Object||!o("join",",")},{join:function(e){return c(s(this),void 0===e?",":e)}})},14e3:(e,t,r)=>{var n=r(95460),i=r(3e3);n({target:"Array",proto:!0,forced:i!==[].lastIndexOf},{lastIndexOf:i})},40280:(e,t,r)=>{var n=r(95460),i=r(16840).map;n({target:"Array",proto:!0,forced:!r(85140)("map")},{map:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},82992:(e,t,r)=>{var n=r(95460),i=r(22088),a=r(31044),s=r(11108),o=Array;n({target:"Array",stat:!0,forced:i((function(){function e(){}return!(o.of.call(e)instanceof e)}))},{of:function(){for(var e=0,t=arguments.length,r=new(a(this)?this:o)(t);t>e;)s(r,e,arguments[e++]);return r.length=t,r}})},79344:(e,t,r)=>{var n=r(95460),i=r(22032),a=r(85827),s=r(67504),o=r(70664);n({target:"Array",proto:!0,arity:1,forced:r(22088)((function(){return 4294967297!==[].push.call({length:4294967296},1)}))||!function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(e){return e instanceof TypeError}}()},{push:function(e){var t=i(this),r=a(t),n=arguments.length;o(r+n);for(var c=0;c<n;c++)t[r]=arguments[c],r++;return s(t,r),r}})},45488:(e,t,r)=>{var n=r(95460),i=r(8716).right,a=r(98680),s=r(5556);n({target:"Array",proto:!0,forced:!r(10460)&&s>79&&s<83||!a("reduceRight")},{reduceRight:function(e){return i(this,e,arguments.length,arguments.length>1?arguments[1]:void 0)}})},3444:(e,t,r)=>{var n=r(95460),i=r(8716).left,a=r(98680),s=r(5556);n({target:"Array",proto:!0,forced:!r(10460)&&s>79&&s<83||!a("reduce")},{reduce:function(e){var t=arguments.length;return i(this,e,t,t>1?arguments[1]:void 0)}})},26084:(e,t,r)=>{var n=r(95460),i=r(18256),a=r(65376),s=i([].reverse),o=[1,2];n({target:"Array",proto:!0,forced:String(o)===String(o.reverse())},{reverse:function(){return a(this)&&(this.length=this.length),s(this)}})},77904:(e,t,r)=>{var n=r(95460),i=r(65376),a=r(31044),s=r(74436),o=r(31212),c=r(85827),u=r(49704),h=r(11108),l=r(61720),y=r(85140),p=r(70220),f=y("slice"),d=l("species"),g=Array,m=Math.max;n({target:"Array",proto:!0,forced:!f},{slice:function(e,t){var r,n,l,y=u(this),f=c(y),w=o(e,f),v=o(void 0===t?f:t,f);if(i(y)&&(r=y.constructor,(a(r)&&(r===g||i(r.prototype))||s(r)&&null===(r=r[d]))&&(r=void 0),r===g||void 0===r))return p(y,w,v);for(n=new(void 0===r?g:r)(m(v-w,0)),l=0;w<v;w++,l++)w in y&&h(n,l,y[w]);return n.length=l,n}})},99244:(e,t,r)=>{var n=r(95460),i=r(16840).some;n({target:"Array",proto:!0,forced:!r(98680)("some")},{some:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},61500:(e,t,r)=>{var n=r(95460),i=r(18256),a=r(46580),s=r(22032),o=r(85827),c=r(7760),u=r(99552),h=r(22088),l=r(79312),y=r(98680),p=r(86396),f=r(93e3),d=r(5556),g=r(72456),m=[],w=i(m.sort),v=i(m.push),b=h((function(){m.sort(void 0)})),k=h((function(){m.sort(null)})),A=y("sort"),E=!h((function(){if(d)return d<70;if(!(p&&p>3)){if(f)return!0;if(g)return g<603;var e,t,r,n,i="";for(e=65;e<76;e++){switch(t=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:r=3;break;case 68:case 71:r=4;break;default:r=2}for(n=0;n<47;n++)m.push({k:t+n,v:r})}for(m.sort((function(e,t){return t.v-e.v})),n=0;n<m.length;n++)t=m[n].k.charAt(0),i.charAt(i.length-1)!==t&&(i+=t);return"DGBEFHACIJK"!==i}}));n({target:"Array",proto:!0,forced:b||!k||!A||!E},{sort:function(e){void 0!==e&&a(e);var t=s(this);if(E)return void 0===e?w(t):w(t,e);var r,n,i=[],h=o(t);for(n=0;n<h;n++)n in t&&v(i,t[n]);for(l(i,function(e){return function(t,r){return void 0===r?-1:void 0===t?1:void 0!==e?+e(t,r)||0:u(t)>u(r)?1:-1}}(e)),r=o(i),n=0;n<r;)t[n]=i[n++];for(;n<h;)c(t,n++);return t}})},6800:(e,t,r)=>{r(54648)("Array")},74072:(e,t,r)=>{var n=r(95460),i=r(22032),a=r(31212),s=r(40496),o=r(85827),c=r(67504),u=r(70664),h=r(60104),l=r(11108),y=r(7760),p=r(85140)("splice"),f=Math.max,d=Math.min;n({target:"Array",proto:!0,forced:!p},{splice:function(e,t){var r,n,p,g,m,w,v=i(this),b=o(v),k=a(e,b),A=arguments.length;for(0===A?r=n=0:1===A?(r=0,n=b-k):(r=A-2,n=d(f(s(t),0),b-k)),u(b+r-n),p=h(v,n),g=0;g<n;g++)(m=k+g)in v&&l(p,g,v[m]);if(p.length=n,r<n){for(g=k;g<b-n;g++)w=g+r,(m=g+n)in v?v[w]=v[m]:y(v,w);for(g=b;g>b-n+r;g--)y(v,g-1)}else if(r>n)for(g=b-n;g>k;g--)w=g+r-1,(m=g+n-1)in v?v[w]=v[m]:y(v,w);for(g=0;g<r;g++)v[g+k]=arguments[g+2];return c(v,b-n+r),p}})},60792:(e,t,r)=>{var n=r(95460),i=r(98588),a=r(49704),s=r(29736),o=Array;n({target:"Array",proto:!0},{toReversed:function(){return i(a(this),o)}}),s("toReversed")},33792:(e,t,r)=>{var n=r(95460),i=r(18256),a=r(46580),s=r(49704),o=r(86224),c=r(55688),u=r(29736),h=Array,l=i(c("Array","sort"));n({target:"Array",proto:!0},{toSorted:function(e){void 0!==e&&a(e);var t=s(this),r=o(h,t);return l(r,e)}}),u("toSorted")},12644:(e,t,r)=>{var n=r(95460),i=r(29736),a=r(70664),s=r(85827),o=r(31212),c=r(49704),u=r(40496),h=Array,l=Math.max,y=Math.min;n({target:"Array",proto:!0},{toSpliced:function(e,t){var r,n,i,p,f=c(this),d=s(f),g=o(e,d),m=arguments.length,w=0;for(0===m?r=n=0:1===m?(r=0,n=d-g):(r=m-2,n=y(l(u(t),0),d-g)),i=a(d+r-n),p=h(i);w<g;w++)p[w]=f[w];for(;w<g+r;w++)p[w]=arguments[w-g+2];for(;w<i;w++)p[w]=f[w+n-r];return p}}),i("toSpliced")},32728:(e,t,r)=>{r(29736)("flatMap")},11228:(e,t,r)=>{r(29736)("flat")},98888:(e,t,r)=>{var n=r(95460),i=r(22032),a=r(85827),s=r(67504),o=r(7760),c=r(70664);n({target:"Array",proto:!0,arity:1,forced:1!==[].unshift(0)||!function(){try{Object.defineProperty([],"length",{writable:!1}).unshift()}catch(e){return e instanceof TypeError}}()},{unshift:function(e){var t=i(this),r=a(t),n=arguments.length;if(n){c(r+n);for(var u=r;u--;){var h=u+n;u in t?t[h]=t[u]:o(t,h)}for(var l=0;l<n;l++)t[l]=arguments[l]}return s(t,r+n)}})},93640:(e,t,r)=>{var n=r(95460),i=r(10604),a=r(49704),s=Array;n({target:"Array",proto:!0},{with:function(e,t){return i(a(this),s,e,t)}})},34360:(e,t,r)=>{var n=r(95460),i=r(69996);n({global:!0,constructor:!0,forced:!r(51235)},{DataView:i.DataView})},92428:(e,t,r)=>{r(34360)},97192:(e,t,r)=>{var n=r(95460),i=r(18256),a=r(22088)((function(){return 120!==new Date(16e11).getYear()})),s=i(Date.prototype.getFullYear);n({target:"Date",proto:!0,forced:a},{getYear:function(){return s(this)-1900}})},11447:(e,t,r)=>{var n=r(95460),i=r(18256),a=Date,s=i(a.prototype.getTime);n({target:"Date",stat:!0},{now:function(){return s(new a)}})},88800:(e,t,r)=>{var n=r(95460),i=r(18256),a=r(40496),s=Date.prototype,o=i(s.getTime),c=i(s.setFullYear);n({target:"Date",proto:!0},{setYear:function(e){o(this);var t=a(e);return c(this,t>=0&&t<=99?t+1900:t)}})},41344:(e,t,r)=>{r(95460)({target:"Date",proto:!0},{toGMTString:Date.prototype.toUTCString})},91008:(e,t,r)=>{var n=r(95460),i=r(95812);n({target:"Date",proto:!0,forced:Date.prototype.toISOString!==i},{toISOString:i})},97080:(e,t,r)=>{var n=r(95460),i=r(22088),a=r(22032),s=r(71664);n({target:"Date",proto:!0,arity:1,forced:i((function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}))},{toJSON:function(e){var t=a(this),r=s(t,"number");return"number"!=typeof r||isFinite(r)?t.toISOString():null}})},3936:(e,t,r)=>{var n=r(57204),i=r(88788),a=r(29796),s=r(61720)("toPrimitive"),o=Date.prototype;n(o,s)||i(o,s,a)},67840:(e,t,r)=>{var n=r(18256),i=r(88788),a=Date.prototype,s="Invalid Date",o="toString",c=n(a[o]),u=n(a.getTime);String(new Date(NaN))!==s&&i(a,o,(function(){var e=u(this);return e==e?c(this):s}))},33492:(e,t,r)=>{var n=r(95460),i=r(60899),a=r(10004),s=r(52488),o="WebAssembly",c=i[o],u=7!==new Error("e",{cause:7}).cause,h=function(e,t){var r={};r[e]=s(e,t,u),n({global:!0,constructor:!0,arity:1,forced:u},r)},l=function(e,t){if(c&&c[e]){var r={};r[e]=s(o+"."+e,t,u),n({target:o,stat:!0,constructor:!0,arity:1,forced:u},r)}};h("Error",(function(e){return function(t){return a(e,this,arguments)}})),h("EvalError",(function(e){return function(t){return a(e,this,arguments)}})),h("RangeError",(function(e){return function(t){return a(e,this,arguments)}})),h("ReferenceError",(function(e){return function(t){return a(e,this,arguments)}})),h("SyntaxError",(function(e){return function(t){return a(e,this,arguments)}})),h("TypeError",(function(e){return function(t){return a(e,this,arguments)}})),h("URIError",(function(e){return function(t){return a(e,this,arguments)}})),l("CompileError",(function(e){return function(t){return a(e,this,arguments)}})),l("LinkError",(function(e){return function(t){return a(e,this,arguments)}})),l("RuntimeError",(function(e){return function(t){return a(e,this,arguments)}}))},85956:(e,t,r)=>{var n=r(88788),i=r(13652),a=Error.prototype;a.toString!==i&&n(a,"toString",i)},77172:(e,t,r)=>{var n=r(95460),i=r(18256),a=r(99552),s=i("".charAt),o=i("".charCodeAt),c=i(/./.exec),u=i(1..toString),h=i("".toUpperCase),l=/[\w*+\-./@]/,y=function(e,t){for(var r=u(e,16);r.length<t;)r="0"+r;return r};n({global:!0},{escape:function(e){for(var t,r,n=a(e),i="",u=n.length,p=0;p<u;)t=s(n,p++),c(l,t)?i+=t:i+=(r=o(t,0))<256?"%"+y(r,2):"%u"+h(y(r,4));return i}})},16316:(e,t,r)=>{var n=r(95460),i=r(52512);n({target:"Function",proto:!0,forced:Function.bind!==i},{bind:i})},61880:(e,t,r)=>{var n=r(65156),i=r(74436),a=r(48712),s=r(11808),o=r(61720),c=r(29032),u=o("hasInstance"),h=Function.prototype;u in h||a.f(h,u,{value:c((function(e){if(!n(this)||!i(e))return!1;var t=this.prototype;return i(t)?s(t,e):e instanceof this}),u)})},82989:(e,t,r)=>{var n=r(89160),i=r(87624).EXISTS,a=r(18256),s=r(95139),o=Function.prototype,c=a(o.toString),u=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,h=a(u.exec);n&&!i&&s(o,"name",{configurable:!0,get:function(){try{return h(u,c(this))[1]}catch(e){return""}}})},35960:(e,t,r)=>{var n=r(95460),i=r(60899);n({global:!0,forced:i.globalThis!==i},{globalThis:i})},21336:(e,t,r)=>{var n=r(95460),i=r(6960),a=r(10004),s=r(82884),o=r(18256),c=r(22088),u=r(65156),h=r(63232),l=r(70220),y=r(38476),p=r(86808),f=String,d=i("JSON","stringify"),g=o(/./.exec),m=o("".charAt),w=o("".charCodeAt),v=o("".replace),b=o(1..toString),k=/[\uD800-\uDFFF]/g,A=/^[\uD800-\uDBFF]$/,E=/^[\uDC00-\uDFFF]$/,S=!p||c((function(){var e=i("Symbol")("stringify detection");return"[null]"!==d([e])||"{}"!==d({a:e})||"{}"!==d(Object(e))})),x=c((function(){return'"\\udf06\\ud834"'!==d("\udf06\ud834")||'"\\udead"'!==d("\udead")})),K=function(e,t){var r=l(arguments),n=y(t);if(u(n)||void 0!==e&&!h(e))return r[1]=function(e,t){if(u(n)&&(t=s(n,this,f(e),t)),!h(t))return t},a(d,null,r)},P=function(e,t,r){var n=m(r,t-1),i=m(r,t+1);return g(A,e)&&!g(E,i)||g(E,e)&&!g(A,n)?"\\u"+b(w(e,0),16):e};d&&n({target:"JSON",stat:!0,arity:3,forced:S||x},{stringify:function(e,t,r){var n=l(arguments),i=a(S?K:d,null,n);return x&&"string"==typeof i?v(i,k,P):i}})},52600:(e,t,r)=>{var n=r(60899);r(77104)(n.JSON,"JSON",!0)},61184:(e,t,r)=>{r(46171)("Map",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),r(13860))},41764:(e,t,r)=>{var n=r(95460),i=r(18256),a=r(46580),s=r(66852),o=r(24664),c=r(77752),u=r(65428),h=c.Map,l=c.has,y=c.get,p=c.set,f=i([].push);n({target:"Map",stat:!0,forced:u},{groupBy:function(e,t){s(e),a(t);var r=new h,n=0;return o(e,(function(e){var i=t(e,n++);l(r,i)?f(y(r,i),e):p(r,i,[e])})),r}})},48760:(e,t,r)=>{r(61184)},744:(e,t,r)=>{var n=r(95460),i=r(17016),a=Math.acosh,s=Math.log,o=Math.sqrt,c=Math.LN2;n({target:"Math",stat:!0,forced:!a||710!==Math.floor(a(Number.MAX_VALUE))||a(1/0)!==1/0},{acosh:function(e){var t=+e;return t<1?NaN:t>94906265.62425156?s(t)+c:i(t-1+o(t-1)*o(t+1))}})},18860:(e,t,r)=>{var n=r(95460),i=Math.asinh,a=Math.log,s=Math.sqrt;n({target:"Math",stat:!0,forced:!(i&&1/i(0)>0)},{asinh:function e(t){var r=+t;return isFinite(r)&&0!==r?r<0?-e(-r):a(r+s(r*r+1)):r}})},83480:(e,t,r)=>{var n=r(95460),i=Math.atanh,a=Math.log;n({target:"Math",stat:!0,forced:!(i&&1/i(-0)<0)},{atanh:function(e){var t=+e;return 0===t?t:a((1+t)/(1-t))/2}})},27312:(e,t,r)=>{var n=r(95460),i=r(11492),a=Math.abs,s=Math.pow;n({target:"Math",stat:!0},{cbrt:function(e){var t=+e;return i(t)*s(a(t),1/3)}})},17564:(e,t,r)=>{var n=r(95460),i=Math.floor,a=Math.log,s=Math.LOG2E;n({target:"Math",stat:!0},{clz32:function(e){var t=e>>>0;return t?31-i(a(t+.5)*s):32}})},15128:(e,t,r)=>{var n=r(95460),i=r(8160),a=Math.cosh,s=Math.abs,o=Math.E;n({target:"Math",stat:!0,forced:!a||a(710)===1/0},{cosh:function(e){var t=i(s(e)-1)+1;return(t+1/(t*o*o))*(o/2)}})},5828:(e,t,r)=>{var n=r(95460),i=r(8160);n({target:"Math",stat:!0,forced:i!==Math.expm1},{expm1:i})},7080:(e,t,r)=>{r(95460)({target:"Math",stat:!0},{fround:r(29016)})},17096:(e,t,r)=>{var n=r(95460),i=Math.hypot,a=Math.abs,s=Math.sqrt;n({target:"Math",stat:!0,arity:2,forced:!!i&&i(1/0,NaN)!==1/0},{hypot:function(e,t){for(var r,n,i=0,o=0,c=arguments.length,u=0;o<c;)u<(r=a(arguments[o++]))?(i=i*(n=u/r)*n+1,u=r):i+=r>0?(n=r/u)*n:r;return u===1/0?1/0:u*s(i)}})},52224:(e,t,r)=>{var n=r(95460),i=r(22088),a=Math.imul;n({target:"Math",stat:!0,forced:i((function(){return-5!==a(4294967295,5)||2!==a.length}))},{imul:function(e,t){var r=65535,n=+e,i=+t,a=r&n,s=r&i;return 0|a*s+((r&n>>>16)*s+a*(r&i>>>16)<<16>>>0)}})},9652:(e,t,r)=>{r(95460)({target:"Math",stat:!0},{log10:r(52587)})},74548:(e,t,r)=>{r(95460)({target:"Math",stat:!0},{log1p:r(17016)})},51656:(e,t,r)=>{var n=r(95460),i=Math.log,a=Math.LN2;n({target:"Math",stat:!0},{log2:function(e){return i(e)/a}})},83048:(e,t,r)=>{r(95460)({target:"Math",stat:!0},{sign:r(11492)})},56083:(e,t,r)=>{var n=r(95460),i=r(22088),a=r(8160),s=Math.abs,o=Math.exp,c=Math.E;n({target:"Math",stat:!0,forced:i((function(){return-2e-17!==Math.sinh(-2e-17)}))},{sinh:function(e){var t=+e;return s(t)<1?(a(t)-a(-t))/2:(o(t-1)-o(-t-1))*(c/2)}})},25796:(e,t,r)=>{var n=r(95460),i=r(8160),a=Math.exp;n({target:"Math",stat:!0},{tanh:function(e){var t=+e,r=i(t),n=i(-t);return r===1/0?1:n===1/0?-1:(r-n)/(a(t)+a(-t))}})},52072:(e,t,r)=>{r(77104)(Math,"Math",!0)},90272:(e,t,r)=>{r(95460)({target:"Math",stat:!0},{trunc:r(20568)})},98384:(e,t,r)=>{var n=r(95460),i=r(65428),a=r(89160),s=r(60899),o=r(27192),c=r(18256),u=r(38976),h=r(57204),l=r(85432),y=r(11808),p=r(63232),f=r(71664),d=r(22088),g=r(24536).f,m=r(32060).f,w=r(48712).f,v=r(352),b=r(69880).trim,k="Number",A=s[k],E=o[k],S=A.prototype,x=s.TypeError,K=c("".slice),P=c("".charCodeAt),D=function(e){var t,r,n,i,a,s,o,c,u=f(e,"number");if(p(u))throw new x("Cannot convert a Symbol value to a number");if("string"==typeof u&&u.length>2)if(u=b(u),43===(t=P(u,0))||45===t){if(88===(r=P(u,2))||120===r)return NaN}else if(48===t){switch(P(u,1)){case 66:case 98:n=2,i=49;break;case 79:case 111:n=8,i=55;break;default:return+u}for(s=(a=K(u,2)).length,o=0;o<s;o++)if((c=P(a,o))<48||c>i)return NaN;return parseInt(a,n)}return+u},U=u(k,!A(" 0o1")||!A("0b1")||A("+0x1")),C=function(e){var t,r=arguments.length<1?0:A(function(e){var t=f(e,"number");return"bigint"==typeof t?t:D(t)}(e));return y(S,t=this)&&d((function(){v(t)}))?l(Object(r),this,C):r};C.prototype=S,U&&!i&&(S.constructor=C),n({global:!0,constructor:!0,wrap:!0,forced:U},{Number:C});var I=function(e,t){for(var r,n=a?g(t):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),i=0;n.length>i;i++)h(t,r=n[i])&&!h(e,r)&&w(e,r,m(t,r))};i&&E&&I(o[k],E),(U||i)&&I(o[k],A)},57752:(e,t,r)=>{r(95460)({target:"Number",stat:!0,nonConfigurable:!0,nonWritable:!0},{EPSILON:Math.pow(2,-52)})},976:(e,t,r)=>{r(95460)({target:"Number",stat:!0},{isFinite:r(55372)})},89904:(e,t,r)=>{r(95460)({target:"Number",stat:!0},{isInteger:r(20140)})},84400:(e,t,r)=>{r(95460)({target:"Number",stat:!0},{isNaN:function(e){return e!=e}})},63260:(e,t,r)=>{var n=r(95460),i=r(20140),a=Math.abs;n({target:"Number",stat:!0},{isSafeInteger:function(e){return i(e)&&a(e)<=9007199254740991}})},63204:(e,t,r)=>{r(95460)({target:"Number",stat:!0,nonConfigurable:!0,nonWritable:!0},{MAX_SAFE_INTEGER:9007199254740991})},15347:(e,t,r)=>{r(95460)({target:"Number",stat:!0,nonConfigurable:!0,nonWritable:!0},{MIN_SAFE_INTEGER:-9007199254740991})},67516:(e,t,r)=>{var n=r(95460),i=r(32852);n({target:"Number",stat:!0,forced:Number.parseFloat!==i},{parseFloat:i})},59456:(e,t,r)=>{var n=r(95460),i=r(77796);n({target:"Number",stat:!0,forced:Number.parseInt!==i},{parseInt:i})},84416:(e,t,r)=>{var n=r(95460),i=r(18256),a=r(40496),s=r(352),o=r(62904),c=r(52587),u=r(22088),h=RangeError,l=String,y=isFinite,p=Math.abs,f=Math.floor,d=Math.pow,g=Math.round,m=i(1..toExponential),w=i(o),v=i("".slice),b="-6.9000e-11"===m(-69e-12,4)&&"1.25e+0"===m(1.255,2)&&"1.235e+4"===m(12345,3)&&"3e+1"===m(25,0);n({target:"Number",proto:!0,forced:!b||!(u((function(){m(1,1/0)}))&&u((function(){m(1,-1/0)})))||!!u((function(){m(1/0,1/0),m(NaN,1/0)}))},{toExponential:function(e){var t=s(this);if(void 0===e)return m(t);var r=a(e);if(!y(t))return String(t);if(r<0||r>20)throw new h("Incorrect fraction digits");if(b)return m(t,r);var n="",i="",o=0,u="",k="";if(t<0&&(n="-",t=-t),0===t)o=0,i=w("0",r+1);else{var A=c(t);o=f(A);var E=0,S=d(10,o-r);2*t>=(2*(E=g(t/S))+1)*S&&(E+=1),E>=d(10,r+1)&&(E/=10,o+=1),i=l(E)}return 0!==r&&(i=v(i,0,1)+"."+v(i,1)),0===o?(u="+",k="0"):(u=o>0?"+":"-",k=l(p(o))),n+(i+="e"+u+k)}})},71352:(e,t,r)=>{var n=r(95460),i=r(18256),a=r(40496),s=r(352),o=r(62904),c=r(22088),u=RangeError,h=String,l=Math.floor,y=i(o),p=i("".slice),f=i(1..toFixed),d=function(e,t,r){return 0===t?r:t%2==1?d(e,t-1,r*e):d(e*e,t/2,r)},g=function(e,t,r){for(var n=-1,i=r;++n<6;)i+=t*e[n],e[n]=i%1e7,i=l(i/1e7)},m=function(e,t){for(var r=6,n=0;--r>=0;)n+=e[r],e[r]=l(n/t),n=n%t*1e7},w=function(e){for(var t=6,r="";--t>=0;)if(""!==r||0===t||0!==e[t]){var n=h(e[t]);r=""===r?n:r+y("0",7-n.length)+n}return r};n({target:"Number",proto:!0,forced:c((function(){return"0.000"!==f(8e-5,3)||"1"!==f(.9,0)||"1.25"!==f(1.255,2)||"1000000000000000128"!==f(0xde0b6b3a7640080,0)}))||!c((function(){f({})}))},{toFixed:function(e){var t,r,n,i,o=s(this),c=a(e),l=[0,0,0,0,0,0],f="",v="0";if(c<0||c>20)throw new u("Incorrect fraction digits");if(o!=o)return"NaN";if(o<=-1e21||o>=1e21)return h(o);if(o<0&&(f="-",o=-o),o>1e-21)if(r=(t=function(e){for(var t=0,r=e;r>=4096;)t+=12,r/=4096;for(;r>=2;)t+=1,r/=2;return t}(o*d(2,69,1))-69)<0?o*d(2,-t,1):o/d(2,t,1),r*=4503599627370496,(t=52-t)>0){for(g(l,0,r),n=c;n>=7;)g(l,1e7,0),n-=7;for(g(l,d(10,n,1),0),n=t-1;n>=23;)m(l,1<<23),n-=23;m(l,1<<n),g(l,1,1),m(l,2),v=w(l)}else g(l,0,r),g(l,1<<-t,0),v=w(l)+y("0",c);return v=c>0?f+((i=v.length)<=c?"0."+y("0",c-i)+v:p(v,0,i-c)+"."+p(v,i-c)):f+v}})},86084:(e,t,r)=>{var n=r(95460),i=r(18256),a=r(22088),s=r(352),o=i(1..toPrecision);n({target:"Number",proto:!0,forced:a((function(){return"1"!==o(1,void 0)}))||!a((function(){o({})}))},{toPrecision:function(e){return void 0===e?o(s(this)):o(s(this),e)}})},3688:(e,t,r)=>{var n=r(95460),i=r(50456);n({target:"Object",stat:!0,arity:2,forced:Object.assign!==i},{assign:i})},31472:(e,t,r)=>{r(95460)({target:"Object",stat:!0,sham:!r(89160)},{create:r(24728)})},10432:(e,t,r)=>{var n=r(95460),i=r(89160),a=r(59924),s=r(46580),o=r(22032),c=r(48712);i&&n({target:"Object",proto:!0,forced:a},{__defineGetter__:function(e,t){c.f(o(this),e,{get:s(t),enumerable:!0,configurable:!0})}})},24896:(e,t,r)=>{var n=r(95460),i=r(89160),a=r(79400).f;n({target:"Object",stat:!0,forced:Object.defineProperties!==a,sham:!i},{defineProperties:a})},42696:(e,t,r)=>{var n=r(95460),i=r(89160),a=r(48712).f;n({target:"Object",stat:!0,forced:Object.defineProperty!==a,sham:!i},{defineProperty:a})},44376:(e,t,r)=>{var n=r(95460),i=r(89160),a=r(59924),s=r(46580),o=r(22032),c=r(48712);i&&n({target:"Object",proto:!0,forced:a},{__defineSetter__:function(e,t){c.f(o(this),e,{set:s(t),enumerable:!0,configurable:!0})}})},18088:(e,t,r)=>{var n=r(95460),i=r(11384).entries;n({target:"Object",stat:!0},{entries:function(e){return i(e)}})},69580:(e,t,r)=>{var n=r(95460),i=r(98120),a=r(22088),s=r(74436),o=r(6661).onFreeze,c=Object.freeze;n({target:"Object",stat:!0,forced:a((function(){c(1)})),sham:!i},{freeze:function(e){return c&&s(e)?c(o(e)):e}})},42684:(e,t,r)=>{var n=r(95460),i=r(24664),a=r(11108);n({target:"Object",stat:!0},{fromEntries:function(e){var t={};return i(e,(function(e,r){a(t,e,r)}),{AS_ENTRIES:!0}),t}})},33741:(e,t,r)=>{var n=r(95460),i=r(22088),a=r(49704),s=r(32060).f,o=r(89160);n({target:"Object",stat:!0,forced:!o||i((function(){s(1)})),sham:!o},{getOwnPropertyDescriptor:function(e,t){return s(a(e),t)}})},92588:(e,t,r)=>{var n=r(95460),i=r(89160),a=r(35776),s=r(49704),o=r(32060),c=r(11108);n({target:"Object",stat:!0,sham:!i},{getOwnPropertyDescriptors:function(e){for(var t,r,n=s(e),i=o.f,u=a(n),h={},l=0;u.length>l;)void 0!==(r=i(n,t=u[l++]))&&c(h,t,r);return h}})},45412:(e,t,r)=>{var n=r(95460),i=r(22088),a=r(40588).f;n({target:"Object",stat:!0,forced:i((function(){return!Object.getOwnPropertyNames(1)}))},{getOwnPropertyNames:a})},82480:(e,t,r)=>{var n=r(95460),i=r(86808),a=r(22088),s=r(46456),o=r(22032);n({target:"Object",stat:!0,forced:!i||a((function(){s.f(1)}))},{getOwnPropertySymbols:function(e){var t=s.f;return t?t(o(e)):[]}})},47020:(e,t,r)=>{var n=r(95460),i=r(22088),a=r(22032),s=r(12100),o=r(41720);n({target:"Object",stat:!0,forced:i((function(){s(1)})),sham:!o},{getPrototypeOf:function(e){return s(a(e))}})},89356:(e,t,r)=>{var n=r(95460),i=r(6960),a=r(18256),s=r(46580),o=r(66852),c=r(15448),u=r(24664),h=i("Object","create"),l=a([].push);n({target:"Object",stat:!0},{groupBy:function(e,t){o(e),s(t);var r=h(null),n=0;return u(e,(function(e){var i=c(t(e,n++));i in r?l(r[i],e):r[i]=[e]})),r}})},34200:(e,t,r)=>{r(95460)({target:"Object",stat:!0},{hasOwn:r(57204)})},89008:(e,t,r)=>{var n=r(95460),i=r(26616);n({target:"Object",stat:!0,forced:Object.isExtensible!==i},{isExtensible:i})},86856:(e,t,r)=>{var n=r(95460),i=r(22088),a=r(74436),s=r(57740),o=r(89872),c=Object.isFrozen;n({target:"Object",stat:!0,forced:o||i((function(){c(1)}))},{isFrozen:function(e){return!a(e)||(!(!o||"ArrayBuffer"!==s(e))||!!c&&c(e))}})},62856:(e,t,r)=>{var n=r(95460),i=r(22088),a=r(74436),s=r(57740),o=r(89872),c=Object.isSealed;n({target:"Object",stat:!0,forced:o||i((function(){c(1)}))},{isSealed:function(e){return!a(e)||(!(!o||"ArrayBuffer"!==s(e))||!!c&&c(e))}})},25608:(e,t,r)=>{r(95460)({target:"Object",stat:!0},{is:r(1124)})},61133:(e,t,r)=>{var n=r(95460),i=r(22032),a=r(13768);n({target:"Object",stat:!0,forced:r(22088)((function(){a(1)}))},{keys:function(e){return a(i(e))}})},54928:(e,t,r)=>{var n=r(95460),i=r(89160),a=r(59924),s=r(22032),o=r(15448),c=r(12100),u=r(32060).f;i&&n({target:"Object",proto:!0,forced:a},{__lookupGetter__:function(e){var t,r=s(this),n=o(e);do{if(t=u(r,n))return t.get}while(r=c(r))}})},35632:(e,t,r)=>{var n=r(95460),i=r(89160),a=r(59924),s=r(22032),o=r(15448),c=r(12100),u=r(32060).f;i&&n({target:"Object",proto:!0,forced:a},{__lookupSetter__:function(e){var t,r=s(this),n=o(e);do{if(t=u(r,n))return t.set}while(r=c(r))}})},58064:(e,t,r)=>{var n=r(95460),i=r(74436),a=r(6661).onFreeze,s=r(98120),o=r(22088),c=Object.preventExtensions;n({target:"Object",stat:!0,forced:o((function(){c(1)})),sham:!s},{preventExtensions:function(e){return c&&i(e)?c(a(e)):e}})},51504:(e,t,r)=>{var n=r(89160),i=r(95139),a=r(74436),s=r(20188),o=r(22032),c=r(66852),u=Object.getPrototypeOf,h=Object.setPrototypeOf,l=Object.prototype,y="__proto__";if(n&&u&&h&&!(y in l))try{i(l,y,{configurable:!0,get:function(){return u(o(this))},set:function(e){var t=c(this);s(e)&&a(t)&&h(t,e)}})}catch(e){}},46596:(e,t,r)=>{var n=r(95460),i=r(74436),a=r(6661).onFreeze,s=r(98120),o=r(22088),c=Object.seal;n({target:"Object",stat:!0,forced:o((function(){c(1)})),sham:!s},{seal:function(e){return c&&i(e)?c(a(e)):e}})},54216:(e,t,r)=>{r(95460)({target:"Object",stat:!0},{setPrototypeOf:r(48)})},77149:(e,t,r)=>{var n=r(92704),i=r(88788),a=r(16192);n||i(Object.prototype,"toString",a,{unsafe:!0})},54600:(e,t,r)=>{var n=r(95460),i=r(11384).values;n({target:"Object",stat:!0},{values:function(e){return i(e)}})},30220:(e,t,r)=>{var n=r(95460),i=r(32852);n({global:!0,forced:parseFloat!==i},{parseFloat:i})},21052:(e,t,r)=>{var n=r(95460),i=r(77796);n({global:!0,forced:parseInt!==i},{parseInt:i})},99136:(e,t,r)=>{var n=r(95460),i=r(82884),a=r(46580),s=r(86836),o=r(9640),c=r(24664);n({target:"Promise",stat:!0,forced:r(45408)},{allSettled:function(e){var t=this,r=s.f(t),n=r.resolve,u=r.reject,h=o((function(){var r=a(t.resolve),s=[],o=0,u=1;c(e,(function(e){var a=o++,c=!1;u++,i(r,t,e).then((function(e){c||(c=!0,s[a]={status:"fulfilled",value:e},--u||n(s))}),(function(e){c||(c=!0,s[a]={status:"rejected",reason:e},--u||n(s))}))})),--u||n(s)}));return h.error&&u(h.value),r.promise}})},3228:(e,t,r)=>{var n=r(95460),i=r(82884),a=r(46580),s=r(86836),o=r(9640),c=r(24664);n({target:"Promise",stat:!0,forced:r(45408)},{all:function(e){var t=this,r=s.f(t),n=r.resolve,u=r.reject,h=o((function(){var r=a(t.resolve),s=[],o=0,h=1;c(e,(function(e){var a=o++,c=!1;h++,i(r,t,e).then((function(e){c||(c=!0,s[a]=e,--h||n(s))}),u)})),--h||n(s)}));return h.error&&u(h.value),r.promise}})},39816:(e,t,r)=>{var n=r(95460),i=r(82884),a=r(46580),s=r(6960),o=r(86836),c=r(9640),u=r(24664),h=r(45408),l="No one promise resolved";n({target:"Promise",stat:!0,forced:h},{any:function(e){var t=this,r=s("AggregateError"),n=o.f(t),h=n.resolve,y=n.reject,p=c((function(){var n=a(t.resolve),s=[],o=0,c=1,p=!1;u(e,(function(e){var a=o++,u=!1;c++,i(n,t,e).then((function(e){u||p||(p=!0,h(e))}),(function(e){u||p||(u=!0,s[a]=e,--c||y(new r(s,l)))}))})),--c||y(new r(s,l))}));return p.error&&y(p.value),n.promise}})},83448:(e,t,r)=>{var n=r(95460),i=r(65428),a=r(15556).CONSTRUCTOR,s=r(72348),o=r(6960),c=r(65156),u=r(88788),h=s&&s.prototype;if(n({target:"Promise",proto:!0,forced:a,real:!0},{catch:function(e){return this.then(void 0,e)}}),!i&&c(s)){var l=o("Promise").prototype.catch;h.catch!==l&&u(h,"catch",l,{unsafe:!0})}},5352:(e,t,r)=>{var n,i,a,s=r(95460),o=r(65428),c=r(10460),u=r(60899),h=r(82884),l=r(88788),y=r(48),p=r(77104),f=r(54648),d=r(46580),g=r(65156),m=r(74436),w=r(9856),v=r(79851),b=r(38868).set,k=r(60192),A=r(69936),E=r(9640),S=r(72640),x=r(95355),K=r(72348),P=r(15556),D=r(86836),U="Promise",C=P.CONSTRUCTOR,I=P.REJECTION_EVENT,_=P.SUBCLASSING,T=x.getterFor(U),R=x.set,M=K&&K.prototype,O=K,B=M,L=u.TypeError,N=u.document,F=u.process,j=D.f,z=j,H=!!(N&&N.createEvent&&u.dispatchEvent),q="unhandledrejection",G=function(e){var t;return!(!m(e)||!g(t=e.then))&&t},V=function(e,t){var r,n,i,a=t.value,s=1===t.state,o=s?e.ok:e.fail,c=e.resolve,u=e.reject,l=e.domain;try{o?(s||(2===t.rejection&&Q(t),t.rejection=1),!0===o?r=a:(l&&l.enter(),r=o(a),l&&(l.exit(),i=!0)),r===e.promise?u(new L("Promise-chain cycle")):(n=G(r))?h(n,r,c,u):c(r)):u(a)}catch(e){l&&!i&&l.exit(),u(e)}},W=function(e,t){e.notified||(e.notified=!0,k((function(){for(var r,n=e.reactions;r=n.get();)V(r,e);e.notified=!1,t&&!e.rejection&&Y(e)})))},$=function(e,t,r){var n,i;H?((n=N.createEvent("Event")).promise=t,n.reason=r,n.initEvent(e,!1,!0),u.dispatchEvent(n)):n={promise:t,reason:r},!I&&(i=u["on"+e])?i(n):e===q&&A("Unhandled promise rejection",r)},Y=function(e){h(b,u,(function(){var t,r=e.facade,n=e.value;if(X(e)&&(t=E((function(){c?F.emit("unhandledRejection",n,r):$(q,r,n)})),e.rejection=c||X(e)?2:1,t.error))throw t.value}))},X=function(e){return 1!==e.rejection&&!e.parent},Q=function(e){h(b,u,(function(){var t=e.facade;c?F.emit("rejectionHandled",t):$("rejectionhandled",t,e.value)}))},Z=function(e,t,r){return function(n){e(t,n,r)}},J=function(e,t,r){e.done||(e.done=!0,r&&(e=r),e.value=t,e.state=2,W(e,!0))},ee=function(e,t,r){if(!e.done){e.done=!0,r&&(e=r);try{if(e.facade===t)throw new L("Promise can't be resolved itself");var n=G(t);n?k((function(){var r={done:!1};try{h(n,t,Z(ee,r,e),Z(J,r,e))}catch(t){J(r,t,e)}})):(e.value=t,e.state=1,W(e,!1))}catch(t){J({done:!1},t,e)}}};if(C&&(B=(O=function(e){w(this,B),d(e),h(n,this);var t=T(this);try{e(Z(ee,t),Z(J,t))}catch(e){J(t,e)}}).prototype,(n=function(e){R(this,{type:U,done:!1,notified:!1,parent:!1,reactions:new S,rejection:!1,state:0,value:void 0})}).prototype=l(B,"then",(function(e,t){var r=T(this),n=j(v(this,O));return r.parent=!0,n.ok=!g(e)||e,n.fail=g(t)&&t,n.domain=c?F.domain:void 0,0===r.state?r.reactions.add(n):k((function(){V(n,r)})),n.promise})),i=function(){var e=new n,t=T(e);this.promise=e,this.resolve=Z(ee,t),this.reject=Z(J,t)},D.f=j=function(e){return e===O||undefined===e?new i(e):z(e)},!o&&g(K)&&M!==Object.prototype)){a=M.then,_||l(M,"then",(function(e,t){var r=this;return new O((function(e,t){h(a,r,e,t)})).then(e,t)}),{unsafe:!0});try{delete M.constructor}catch(e){}y&&y(M,B)}s({global:!0,constructor:!0,wrap:!0,forced:C},{Promise:O}),p(O,U,!1,!0),f(U)},91004:(e,t,r)=>{var n=r(95460),i=r(65428),a=r(72348),s=r(22088),o=r(6960),c=r(65156),u=r(79851),h=r(16368),l=r(88788),y=a&&a.prototype;if(n({target:"Promise",proto:!0,real:!0,forced:!!a&&s((function(){y.finally.call({then:function(){}},(function(){}))}))},{finally:function(e){var t=u(this,o("Promise")),r=c(e);return this.then(r?function(r){return h(t,e()).then((function(){return r}))}:e,r?function(r){return h(t,e()).then((function(){throw r}))}:e)}}),!i&&c(a)){var p=o("Promise").prototype.finally;y.finally!==p&&l(y,"finally",p,{unsafe:!0})}},61864:(e,t,r)=>{r(5352),r(3228),r(83448),r(81456),r(7536),r(26896)},81456:(e,t,r)=>{var n=r(95460),i=r(82884),a=r(46580),s=r(86836),o=r(9640),c=r(24664);n({target:"Promise",stat:!0,forced:r(45408)},{race:function(e){var t=this,r=s.f(t),n=r.reject,u=o((function(){var s=a(t.resolve);c(e,(function(e){i(s,t,e).then(r.resolve,n)}))}));return u.error&&n(u.value),r.promise}})},7536:(e,t,r)=>{var n=r(95460),i=r(86836);n({target:"Promise",stat:!0,forced:r(15556).CONSTRUCTOR},{reject:function(e){var t=i.f(this);return(0,t.reject)(e),t.promise}})},26896:(e,t,r)=>{var n=r(95460),i=r(6960),a=r(65428),s=r(72348),o=r(15556).CONSTRUCTOR,c=r(16368),u=i("Promise"),h=a&&!o;n({target:"Promise",stat:!0,forced:a||o},{resolve:function(e){return c(h&&this===u?s:this,e)}})},1e3:(e,t,r)=>{var n=r(95460),i=r(86836);n({target:"Promise",stat:!0},{withResolvers:function(){var e=i.f(this);return{promise:e.promise,resolve:e.resolve,reject:e.reject}}})},27052:(e,t,r)=>{var n=r(95460),i=r(10004),a=r(46580),s=r(26928);n({target:"Reflect",stat:!0,forced:!r(22088)((function(){Reflect.apply((function(){}))}))},{apply:function(e,t,r){return i(a(e),t,s(r))}})},14064:(e,t,r)=>{var n=r(95460),i=r(6960),a=r(10004),s=r(52512),o=r(59952),c=r(26928),u=r(74436),h=r(24728),l=r(22088),y=i("Reflect","construct"),p=Object.prototype,f=[].push,d=l((function(){function e(){}return!(y((function(){}),[],e)instanceof e)})),g=!l((function(){y((function(){}))})),m=d||g;n({target:"Reflect",stat:!0,forced:m,sham:m},{construct:function(e,t){o(e),c(t);var r=arguments.length<3?e:o(arguments[2]);if(g&&!d)return y(e,t,r);if(e===r){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var n=[null];return a(f,n,t),new(a(s,e,n))}var i=r.prototype,l=h(u(i)?i:p),m=a(e,l,t);return u(m)?m:l}})},54692:(e,t,r)=>{var n=r(95460),i=r(89160),a=r(26928),s=r(15448),o=r(48712);n({target:"Reflect",stat:!0,forced:r(22088)((function(){Reflect.defineProperty(o.f({},1,{value:1}),1,{value:2})})),sham:!i},{defineProperty:function(e,t,r){a(e);var n=s(t);a(r);try{return o.f(e,n,r),!0}catch(e){return!1}}})},52427:(e,t,r)=>{var n=r(95460),i=r(26928),a=r(32060).f;n({target:"Reflect",stat:!0},{deleteProperty:function(e,t){var r=a(i(e),t);return!(r&&!r.configurable)&&delete e[t]}})},3184:(e,t,r)=>{var n=r(95460),i=r(89160),a=r(26928),s=r(32060);n({target:"Reflect",stat:!0,sham:!i},{getOwnPropertyDescriptor:function(e,t){return s.f(a(e),t)}})},99484:(e,t,r)=>{var n=r(95460),i=r(26928),a=r(12100);n({target:"Reflect",stat:!0,sham:!r(41720)},{getPrototypeOf:function(e){return a(i(e))}})},33052:(e,t,r)=>{var n=r(95460),i=r(82884),a=r(74436),s=r(26928),o=r(69964),c=r(32060),u=r(12100);n({target:"Reflect",stat:!0},{get:function e(t,r){var n,h,l=arguments.length<3?t:arguments[2];return s(t)===l?t[r]:(n=c.f(t,r))?o(n)?n.value:void 0===n.get?void 0:i(n.get,l):a(h=u(t))?e(h,r,l):void 0}})},73656:(e,t,r)=>{r(95460)({target:"Reflect",stat:!0},{has:function(e,t){return t in e}})},25496:(e,t,r)=>{var n=r(95460),i=r(26928),a=r(26616);n({target:"Reflect",stat:!0},{isExtensible:function(e){return i(e),a(e)}})},88892:(e,t,r)=>{r(95460)({target:"Reflect",stat:!0},{ownKeys:r(35776)})},91872:(e,t,r)=>{var n=r(95460),i=r(6960),a=r(26928);n({target:"Reflect",stat:!0,sham:!r(98120)},{preventExtensions:function(e){a(e);try{var t=i("Object","preventExtensions");return t&&t(e),!0}catch(e){return!1}}})},96344:(e,t,r)=>{var n=r(95460),i=r(26928),a=r(63856),s=r(48);s&&n({target:"Reflect",stat:!0},{setPrototypeOf:function(e,t){i(e),a(t);try{return s(e,t),!0}catch(e){return!1}}})},96132:(e,t,r)=>{var n=r(95460),i=r(82884),a=r(26928),s=r(74436),o=r(69964),c=r(22088),u=r(48712),h=r(32060),l=r(12100),y=r(61520);n({target:"Reflect",stat:!0,forced:c((function(){var e=function(){},t=u.f(new e,"a",{configurable:!0});return!1!==Reflect.set(e.prototype,"a",1,t)}))},{set:function e(t,r,n){var c,p,f,d=arguments.length<4?t:arguments[3],g=h.f(a(t),r);if(!g){if(s(p=l(t)))return e(p,r,n,d);g=y(0)}if(o(g)){if(!1===g.writable||!s(d))return!1;if(c=h.f(d,r)){if(c.get||c.set||!1===c.writable)return!1;c.value=n,u.f(d,r,c)}else u.f(d,r,y(0,n))}else{if(void 0===(f=g.set))return!1;i(f,d,n)}return!0}})},45840:(e,t,r)=>{var n=r(95460),i=r(60899),a=r(77104);n({global:!0},{Reflect:{}}),a(i.Reflect,"Reflect",!0)},88180:(e,t,r)=>{var n=r(89160),i=r(60899),a=r(18256),s=r(38976),o=r(85432),c=r(34952),u=r(24728),h=r(24536).f,l=r(11808),y=r(83572),p=r(99552),f=r(60824),d=r(67832),g=r(64156),m=r(88788),w=r(22088),v=r(57204),b=r(95355).enforce,k=r(54648),A=r(61720),E=r(88627),S=r(73760),x=A("match"),K=i.RegExp,P=K.prototype,D=i.SyntaxError,U=a(P.exec),C=a("".charAt),I=a("".replace),_=a("".indexOf),T=a("".slice),R=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,M=/a/g,O=/a/g,B=new K(M)!==M,L=d.MISSED_STICKY,N=d.UNSUPPORTED_Y,F=n&&(!B||L||E||S||w((function(){return O[x]=!1,K(M)!==M||K(O)===O||"/a/i"!==String(K(M,"i"))})));if(s("RegExp",F)){for(var j=function(e,t){var r,n,i,a,s,h,d=l(P,this),g=y(e),m=void 0===t,w=[],k=e;if(!d&&g&&m&&e.constructor===j)return e;if((g||l(P,e))&&(e=e.source,m&&(t=f(k))),e=void 0===e?"":p(e),t=void 0===t?"":p(t),k=e,E&&"dotAll"in M&&(n=!!t&&_(t,"s")>-1)&&(t=I(t,/s/g,"")),r=t,L&&"sticky"in M&&(i=!!t&&_(t,"y")>-1)&&N&&(t=I(t,/y/g,"")),S&&(a=function(e){for(var t,r=e.length,n=0,i="",a=[],s=u(null),o=!1,c=!1,h=0,l="";n<=r;n++){if("\\"===(t=C(e,n)))t+=C(e,++n);else if("]"===t)o=!1;else if(!o)switch(!0){case"["===t:o=!0;break;case"("===t:U(R,T(e,n+1))&&(n+=2,c=!0),i+=t,h++;continue;case">"===t&&c:if(""===l||v(s,l))throw new D("Invalid capture group name");s[l]=!0,a[a.length]=[l,h],c=!1,l="";continue}c?l+=t:i+=t}return[i,a]}(e),e=a[0],w=a[1]),s=o(K(e,t),d?this:P,j),(n||i||w.length)&&(h=b(s),n&&(h.dotAll=!0,h.raw=j(function(e){for(var t,r=e.length,n=0,i="",a=!1;n<=r;n++)"\\"!==(t=C(e,n))?a||"."!==t?("["===t?a=!0:"]"===t&&(a=!1),i+=t):i+="[\\s\\S]":i+=t+C(e,++n);return i}(e),r)),i&&(h.sticky=!0),w.length&&(h.groups=w)),e!==k)try{c(s,"source",""===k?"(?:)":k)}catch(e){}return s},z=h(K),H=0;z.length>H;)g(j,K,z[H++]);P.constructor=j,j.prototype=P,m(i,"RegExp",j,{constructor:!0})}k("RegExp")},48860:(e,t,r)=>{var n=r(89160),i=r(88627),a=r(57740),s=r(95139),o=r(95355).get,c=RegExp.prototype,u=TypeError;n&&i&&s(c,"dotAll",{configurable:!0,get:function(){if(this!==c){if("RegExp"===a(this))return!!o(this).dotAll;throw new u("Incompatible receiver, RegExp required")}}})},69e3:(e,t,r)=>{var n=r(95460),i=r(61640);n({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},69528:(e,t,r)=>{var n=r(60899),i=r(89160),a=r(95139),s=r(3376),o=r(22088),c=n.RegExp,u=c.prototype;i&&o((function(){var e=!0;try{c(".","d")}catch(t){e=!1}var t={},r="",n=e?"dgimsy":"gimsy",i=function(e,n){Object.defineProperty(t,e,{get:function(){return r+=n,!0}})},a={dotAll:"s",global:"g",ignoreCase:"i",multiline:"m",sticky:"y"};for(var s in e&&(a.hasIndices="d"),a)i(s,a[s]);return Object.getOwnPropertyDescriptor(u,"flags").get.call(t)!==n||r!==n}))&&a(u,"flags",{configurable:!0,get:s})},51180:(e,t,r)=>{var n=r(89160),i=r(67832).MISSED_STICKY,a=r(57740),s=r(95139),o=r(95355).get,c=RegExp.prototype,u=TypeError;n&&i&&s(c,"sticky",{configurable:!0,get:function(){if(this!==c){if("RegExp"===a(this))return!!o(this).sticky;throw new u("Incompatible receiver, RegExp required")}}})},23424:(e,t,r)=>{r(69e3);var n,i,a=r(95460),s=r(82884),o=r(65156),c=r(26928),u=r(99552),h=(n=!1,(i=/[ac]/).exec=function(){return n=!0,/./.exec.apply(this,arguments)},!0===i.test("abc")&&n),l=/./.test;a({target:"RegExp",proto:!0,forced:!h},{test:function(e){var t=c(this),r=u(e),n=t.exec;if(!o(n))return s(l,t,r);var i=s(n,t,r);return null!==i&&(c(i),!0)}})},10784:(e,t,r)=>{var n=r(87624).PROPER,i=r(88788),a=r(26928),s=r(99552),o=r(22088),c=r(60824),u="toString",h=RegExp.prototype,l=h[u],y=o((function(){return"/a/b"!==l.call({source:"a",flags:"b"})})),p=n&&l.name!==u;(y||p)&&i(h,u,(function(){var e=a(this);return"/"+s(e.source)+"/"+s(c(e))}),{unsafe:!0})},26288:(e,t,r)=>{r(46171)("Set",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),r(13860))},22772:(e,t,r)=>{r(26288)},64176:(e,t,r)=>{var n=r(95460),i=r(1576);n({target:"String",proto:!0,forced:r(37708)("anchor")},{anchor:function(e){return i(this,"a","name",e)}})},52744:(e,t,r)=>{var n=r(95460),i=r(18256),a=r(66852),s=r(40496),o=r(99552),c=r(22088),u=i("".charAt);n({target:"String",proto:!0,forced:c((function(){return"\ud842"!=="𠮷".at(-2)}))},{at:function(e){var t=o(a(this)),r=t.length,n=s(e),i=n>=0?n:r+n;return i<0||i>=r?void 0:u(t,i)}})},4157:(e,t,r)=>{var n=r(95460),i=r(1576);n({target:"String",proto:!0,forced:r(37708)("big")},{big:function(){return i(this,"big","","")}})},42608:(e,t,r)=>{var n=r(95460),i=r(1576);n({target:"String",proto:!0,forced:r(37708)("blink")},{blink:function(){return i(this,"blink","","")}})},85504:(e,t,r)=>{var n=r(95460),i=r(1576);n({target:"String",proto:!0,forced:r(37708)("bold")},{bold:function(){return i(this,"b","","")}})},2616:(e,t,r)=>{var n=r(95460),i=r(71904).codeAt;n({target:"String",proto:!0},{codePointAt:function(e){return i(this,e)}})},27644:(e,t,r)=>{var n,i=r(95460),a=r(41724),s=r(32060).f,o=r(82440),c=r(99552),u=r(72247),h=r(66852),l=r(44160),y=r(65428),p=a("".slice),f=Math.min,d=l("endsWith");i({target:"String",proto:!0,forced:!!(y||d||(n=s(String.prototype,"endsWith"),!n||n.writable))&&!d},{endsWith:function(e){var t=c(h(this));u(e);var r=arguments.length>1?arguments[1]:void 0,n=t.length,i=void 0===r?n:f(o(r),n),a=c(e);return p(t,i-a.length,i)===a}})},8120:(e,t,r)=>{var n=r(95460),i=r(1576);n({target:"String",proto:!0,forced:r(37708)("fixed")},{fixed:function(){return i(this,"tt","","")}})},13736:(e,t,r)=>{var n=r(95460),i=r(1576);n({target:"String",proto:!0,forced:r(37708)("fontcolor")},{fontcolor:function(e){return i(this,"font","color",e)}})},69916:(e,t,r)=>{var n=r(95460),i=r(1576);n({target:"String",proto:!0,forced:r(37708)("fontsize")},{fontsize:function(e){return i(this,"font","size",e)}})},67276:(e,t,r)=>{var n=r(95460),i=r(18256),a=r(31212),s=RangeError,o=String.fromCharCode,c=String.fromCodePoint,u=i([].join);n({target:"String",stat:!0,arity:1,forced:!!c&&1!==c.length},{fromCodePoint:function(e){for(var t,r=[],n=arguments.length,i=0;n>i;){if(t=+arguments[i++],a(t,1114111)!==t)throw new s(t+" is not a valid code point");r[i]=t<65536?o(t):o(55296+((t-=65536)>>10),t%1024+56320)}return u(r,"")}})},172:(e,t,r)=>{var n=r(95460),i=r(18256),a=r(72247),s=r(66852),o=r(99552),c=r(44160),u=i("".indexOf);n({target:"String",proto:!0,forced:!c("includes")},{includes:function(e){return!!~u(o(s(this)),o(a(e)),arguments.length>1?arguments[1]:void 0)}})},78932:(e,t,r)=>{var n=r(95460),i=r(18256),a=r(66852),s=r(99552),o=i("".charCodeAt);n({target:"String",proto:!0},{isWellFormed:function(){for(var e=s(a(this)),t=e.length,r=0;r<t;r++){var n=o(e,r);if(55296==(63488&n)&&(n>=56320||++r>=t||56320!=(64512&o(e,r))))return!1}return!0}})},33320:(e,t,r)=>{var n=r(95460),i=r(1576);n({target:"String",proto:!0,forced:r(37708)("italics")},{italics:function(){return i(this,"i","","")}})},4156:(e,t,r)=>{var n=r(71904).charAt,i=r(99552),a=r(95355),s=r(68776),o=r(45684),c="String Iterator",u=a.set,h=a.getterFor(c);s(String,"String",(function(e){u(this,{type:c,string:i(e),index:0})}),(function(){var e,t=h(this),r=t.string,i=t.index;return i>=r.length?o(void 0,!0):(e=n(r,i),t.index+=e.length,o(e,!1))}))},32644:(e,t,r)=>{var n=r(95460),i=r(1576);n({target:"String",proto:!0,forced:r(37708)("link")},{link:function(e){return i(this,"a","href",e)}})},5224:(e,t,r)=>{var n=r(95460),i=r(82884),a=r(41724),s=r(90509),o=r(45684),c=r(66852),u=r(82440),h=r(99552),l=r(26928),y=r(83344),p=r(57740),f=r(83572),d=r(60824),g=r(82912),m=r(88788),w=r(22088),v=r(61720),b=r(79851),k=r(83672),A=r(15987),E=r(95355),S=r(65428),x=v("matchAll"),K="RegExp String",P=K+" Iterator",D=E.set,U=E.getterFor(P),C=RegExp.prototype,I=TypeError,_=a("".indexOf),T=a("".matchAll),R=!!T&&!w((function(){T("a",/./)})),M=s((function(e,t,r,n){D(this,{type:P,regexp:e,string:t,global:r,unicode:n,done:!1})}),K,(function(){var e=U(this);if(e.done)return o(void 0,!0);var t=e.regexp,r=e.string,n=A(t,r);return null===n?(e.done=!0,o(void 0,!0)):e.global?(""===h(n[0])&&(t.lastIndex=k(r,u(t.lastIndex),e.unicode)),o(n,!1)):(e.done=!0,o(n,!1))})),O=function(e){var t,r,n,i=l(this),a=h(e),s=b(i,RegExp),o=h(d(i));return t=new s(s===RegExp?i.source:i,o),r=!!~_(o,"g"),n=!!~_(o,"u"),t.lastIndex=u(i.lastIndex),new M(t,a,r,n)};n({target:"String",proto:!0,forced:R},{matchAll:function(e){var t,r,n,a,s=c(this);if(y(e)){if(R)return T(s,e)}else{if(f(e)&&(t=h(c(d(e))),!~_(t,"g")))throw new I("`.matchAll` does not allow non-global regexes");if(R)return T(s,e);if(void 0===(n=g(e,x))&&S&&"RegExp"===p(e)&&(n=O),n)return i(n,e,s)}return r=h(s),a=new RegExp(e,"g"),S?i(O,a,r):a[x](r)}}),S||x in C||m(C,x,O)},87811:(e,t,r)=>{var n=r(82884),i=r(73492),a=r(26928),s=r(83344),o=r(82440),c=r(99552),u=r(66852),h=r(82912),l=r(83672),y=r(15987);i("match",(function(e,t,r){return[function(t){var r=u(this),i=s(t)?void 0:h(t,e);return i?n(i,t,r):new RegExp(t)[e](c(r))},function(e){var n=a(this),i=c(e),s=r(t,n,i);if(s.done)return s.value;if(!n.global)return y(n,i);var u=n.unicode;n.lastIndex=0;for(var h,p=[],f=0;null!==(h=y(n,i));){var d=c(h[0]);p[f]=d,""===d&&(n.lastIndex=l(i,o(n.lastIndex),u)),f++}return 0===f?null:p}]}))},87680:(e,t,r)=>{var n=r(95460),i=r(76512).end;n({target:"String",proto:!0,forced:r(49472)},{padEnd:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},43192:(e,t,r)=>{var n=r(95460),i=r(76512).start;n({target:"String",proto:!0,forced:r(49472)},{padStart:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},93304:(e,t,r)=>{var n=r(95460),i=r(18256),a=r(49704),s=r(22032),o=r(99552),c=r(85827),u=i([].push),h=i([].join);n({target:"String",stat:!0},{raw:function(e){var t=a(s(e).raw),r=c(t);if(!r)return"";for(var n=arguments.length,i=[],l=0;;){if(u(i,o(t[l++])),l===r)return h(i,"");l<n&&u(i,o(arguments[l]))}}})},72800:(e,t,r)=>{r(95460)({target:"String",proto:!0},{repeat:r(62904)})},34144:(e,t,r)=>{var n=r(95460),i=r(82884),a=r(18256),s=r(66852),o=r(65156),c=r(83344),u=r(83572),h=r(99552),l=r(82912),y=r(60824),p=r(99888),f=r(61720),d=r(65428),g=f("replace"),m=TypeError,w=a("".indexOf),v=a("".replace),b=a("".slice),k=Math.max;n({target:"String",proto:!0},{replaceAll:function(e,t){var r,n,a,f,A,E,S,x,K,P=s(this),D=0,U=0,C="";if(!c(e)){if((r=u(e))&&(n=h(s(y(e))),!~w(n,"g")))throw new m("`.replaceAll` does not allow non-global regexes");if(a=l(e,g))return i(a,e,P,t);if(d&&r)return v(h(P),e,t)}for(f=h(P),A=h(e),(E=o(t))||(t=h(t)),S=A.length,x=k(1,S),D=w(f,A);-1!==D;)K=E?h(t(A,D,f)):p(A,f,D,[],void 0,t),C+=b(f,U,D)+K,U=D+S,D=D+x>f.length?-1:w(f,A,D+x);return U<f.length&&(C+=b(f,U)),C}})},98032:(e,t,r)=>{var n=r(10004),i=r(82884),a=r(18256),s=r(73492),o=r(22088),c=r(26928),u=r(65156),h=r(83344),l=r(40496),y=r(82440),p=r(99552),f=r(66852),d=r(83672),g=r(82912),m=r(99888),w=r(15987),v=r(61720)("replace"),b=Math.max,k=Math.min,A=a([].concat),E=a([].push),S=a("".indexOf),x=a("".slice),K="$0"==="a".replace(/./,"$0"),P=!!/./[v]&&""===/./[v]("a","$0");s("replace",(function(e,t,r){var a=P?"$":"$0";return[function(e,r){var n=f(this),a=h(e)?void 0:g(e,v);return a?i(a,e,n,r):i(t,p(n),e,r)},function(e,i){var s=c(this),o=p(e);if("string"==typeof i&&-1===S(i,a)&&-1===S(i,"$<")){var h=r(t,s,o,i);if(h.done)return h.value}var f=u(i);f||(i=p(i));var g,v=s.global;v&&(g=s.unicode,s.lastIndex=0);for(var K,P=[];null!==(K=w(s,o))&&(E(P,K),v);){""===p(K[0])&&(s.lastIndex=d(o,y(s.lastIndex),g))}for(var D,U="",C=0,I=0;I<P.length;I++){for(var _,T=p((K=P[I])[0]),R=b(k(l(K.index),o.length),0),M=[],O=1;O<K.length;O++)E(M,void 0===(D=K[O])?D:String(D));var B=K.groups;if(f){var L=A([T],M,R,o);void 0!==B&&E(L,B),_=p(n(i,void 0,L))}else _=m(T,o,R,M,B,i);R>=C&&(U+=x(o,C,R)+_,C=R+T.length)}return U+x(o,C)}]}),!!o((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}))||!K||P)},18364:(e,t,r)=>{var n=r(82884),i=r(73492),a=r(26928),s=r(83344),o=r(66852),c=r(1124),u=r(99552),h=r(82912),l=r(15987);i("search",(function(e,t,r){return[function(t){var r=o(this),i=s(t)?void 0:h(t,e);return i?n(i,t,r):new RegExp(t)[e](u(r))},function(e){var n=a(this),i=u(e),s=r(t,n,i);if(s.done)return s.value;var o=n.lastIndex;c(o,0)||(n.lastIndex=0);var h=l(n,i);return c(n.lastIndex,o)||(n.lastIndex=o),null===h?-1:h.index}]}))},57008:(e,t,r)=>{var n=r(95460),i=r(1576);n({target:"String",proto:!0,forced:r(37708)("small")},{small:function(){return i(this,"small","","")}})},61832:(e,t,r)=>{var n=r(82884),i=r(18256),a=r(73492),s=r(26928),o=r(83344),c=r(66852),u=r(79851),h=r(83672),l=r(82440),y=r(99552),p=r(82912),f=r(15987),d=r(67832),g=r(22088),m=d.UNSUPPORTED_Y,w=Math.min,v=i([].push),b=i("".slice),k=!g((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var r="ab".split(e);return 2!==r.length||"a"!==r[0]||"b"!==r[1]})),A="c"==="abbc".split(/(b)*/)[1]||4!=="test".split(/(?:)/,-1).length||2!=="ab".split(/(?:ab)*/).length||4!==".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length;a("split",(function(e,t,r){var i="0".split(void 0,0).length?function(e,r){return void 0===e&&0===r?[]:n(t,this,e,r)}:t;return[function(t,r){var a=c(this),s=o(t)?void 0:p(t,e);return s?n(s,t,a,r):n(i,y(a),t,r)},function(e,n){var a=s(this),o=y(e);if(!A){var c=r(i,a,o,n,i!==t);if(c.done)return c.value}var p=u(a,RegExp),d=a.unicode,g=(a.ignoreCase?"i":"")+(a.multiline?"m":"")+(a.unicode?"u":"")+(m?"g":"y"),k=new p(m?"^(?:"+a.source+")":a,g),E=void 0===n?4294967295:n>>>0;if(0===E)return[];if(0===o.length)return null===f(k,o)?[o]:[];for(var S=0,x=0,K=[];x<o.length;){k.lastIndex=m?0:x;var P,D=f(k,m?b(o,x):o);if(null===D||(P=w(l(k.lastIndex+(m?x:0)),o.length))===S)x=h(o,x,d);else{if(v(K,b(o,S,x)),K.length===E)return K;for(var U=1;U<=D.length-1;U++)if(v(K,D[U]),K.length===E)return K;x=S=P}}return v(K,b(o,S)),K}]}),A||!k,m)},54784:(e,t,r)=>{var n,i=r(95460),a=r(41724),s=r(32060).f,o=r(82440),c=r(99552),u=r(72247),h=r(66852),l=r(44160),y=r(65428),p=a("".slice),f=Math.min,d=l("startsWith");i({target:"String",proto:!0,forced:!!(y||d||(n=s(String.prototype,"startsWith"),!n||n.writable))&&!d},{startsWith:function(e){var t=c(h(this));u(e);var r=o(f(arguments.length>1?arguments[1]:void 0,t.length)),n=c(e);return p(t,r,r+n.length)===n}})},82128:(e,t,r)=>{var n=r(95460),i=r(1576);n({target:"String",proto:!0,forced:r(37708)("strike")},{strike:function(){return i(this,"strike","","")}})},65912:(e,t,r)=>{var n=r(95460),i=r(1576);n({target:"String",proto:!0,forced:r(37708)("sub")},{sub:function(){return i(this,"sub","","")}})},16731:(e,t,r)=>{var n=r(95460),i=r(18256),a=r(66852),s=r(40496),o=r(99552),c=i("".slice),u=Math.max,h=Math.min;n({target:"String",proto:!0,forced:!"".substr||"b"!=="ab".substr(-1)},{substr:function(e,t){var r,n,i=o(a(this)),l=i.length,y=s(e);return y===1/0&&(y=0),y<0&&(y=u(l+y,0)),(r=void 0===t?l:s(t))<=0||r===1/0||y>=(n=h(y+r,l))?"":c(i,y,n)}})},81600:(e,t,r)=>{var n=r(95460),i=r(1576);n({target:"String",proto:!0,forced:r(37708)("sup")},{sup:function(){return i(this,"sup","","")}})},35296:(e,t,r)=>{var n=r(95460),i=r(82884),a=r(18256),s=r(66852),o=r(99552),c=r(22088),u=Array,h=a("".charAt),l=a("".charCodeAt),y=a([].join),p="".toWellFormed,f=p&&c((function(){return"1"!==i(p,1)}));n({target:"String",proto:!0,forced:f},{toWellFormed:function(){var e=o(s(this));if(f)return i(p,e);for(var t=e.length,r=u(t),n=0;n<t;n++){var a=l(e,n);55296!=(63488&a)?r[n]=h(e,n):a>=56320||n+1>=t||56320!=(64512&l(e,n+1))?r[n]="�":(r[n]=h(e,n),r[++n]=h(e,n))}return y(r,"")}})},88820:(e,t,r)=>{r(89336);var n=r(95460),i=r(32428);n({target:"String",proto:!0,name:"trimEnd",forced:"".trimEnd!==i},{trimEnd:i})},37512:(e,t,r)=>{var n=r(95460),i=r(33480);n({target:"String",proto:!0,name:"trimStart",forced:"".trimLeft!==i},{trimLeft:i})},89336:(e,t,r)=>{var n=r(95460),i=r(32428);n({target:"String",proto:!0,name:"trimEnd",forced:"".trimRight!==i},{trimRight:i})},13828:(e,t,r)=>{r(37512);var n=r(95460),i=r(33480);n({target:"String",proto:!0,name:"trimStart",forced:"".trimStart!==i},{trimStart:i})},6944:(e,t,r)=>{var n=r(95460),i=r(69880).trim;n({target:"String",proto:!0,forced:r(81740)("trim")},{trim:function(){return i(this)}})},60068:(e,t,r)=>{r(59680)("asyncIterator")},73616:(e,t,r)=>{var n=r(95460),i=r(60899),a=r(82884),s=r(18256),o=r(65428),c=r(89160),u=r(86808),h=r(22088),l=r(57204),y=r(11808),p=r(26928),f=r(49704),d=r(15448),g=r(99552),m=r(61520),w=r(24728),v=r(13768),b=r(24536),k=r(40588),A=r(46456),E=r(32060),S=r(48712),x=r(79400),K=r(2912),P=r(88788),D=r(95139),U=r(85340),C=r(92923),I=r(24088),_=r(55436),T=r(61720),R=r(8776),M=r(59680),O=r(44992),B=r(77104),L=r(95355),N=r(16840).forEach,F=C("hidden"),j="Symbol",z="prototype",H=L.set,q=L.getterFor(j),G=Object[z],V=i.Symbol,W=V&&V[z],$=i.RangeError,Y=i.TypeError,X=i.QObject,Q=E.f,Z=S.f,J=k.f,ee=K.f,te=s([].push),re=U("symbols"),ne=U("op-symbols"),ie=U("wks"),ae=!X||!X[z]||!X[z].findChild,se=function(e,t,r){var n=Q(G,t);n&&delete G[t],Z(e,t,r),n&&e!==G&&Z(G,t,n)},oe=c&&h((function(){return 7!==w(Z({},"a",{get:function(){return Z(this,"a",{value:7}).a}})).a}))?se:Z,ce=function(e,t){var r=re[e]=w(W);return H(r,{type:j,tag:e,description:t}),c||(r.description=t),r},ue=function(e,t,r){e===G&&ue(ne,t,r),p(e);var n=d(t);return p(r),l(re,n)?(r.enumerable?(l(e,F)&&e[F][n]&&(e[F][n]=!1),r=w(r,{enumerable:m(0,!1)})):(l(e,F)||Z(e,F,m(1,w(null))),e[F][n]=!0),oe(e,n,r)):Z(e,n,r)},he=function(e,t){p(e);var r=f(t),n=v(r).concat(fe(r));return N(n,(function(t){c&&!a(le,r,t)||ue(e,t,r[t])})),e},le=function(e){var t=d(e),r=a(ee,this,t);return!(this===G&&l(re,t)&&!l(ne,t))&&(!(r||!l(this,t)||!l(re,t)||l(this,F)&&this[F][t])||r)},ye=function(e,t){var r=f(e),n=d(t);if(r!==G||!l(re,n)||l(ne,n)){var i=Q(r,n);return!i||!l(re,n)||l(r,F)&&r[F][n]||(i.enumerable=!0),i}},pe=function(e){var t=J(f(e)),r=[];return N(t,(function(e){l(re,e)||l(I,e)||te(r,e)})),r},fe=function(e){var t=e===G,r=J(t?ne:f(e)),n=[];return N(r,(function(e){!l(re,e)||t&&!l(G,e)||te(n,re[e])})),n};u||(P(W=(V=function(){if(y(W,this))throw new Y("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?g(arguments[0]):void 0,t=_(e),r=function(e){var n=void 0===this?i:this;n===G&&a(r,ne,e),l(n,F)&&l(n[F],t)&&(n[F][t]=!1);var s=m(1,e);try{oe(n,t,s)}catch(e){if(!(e instanceof $))throw e;se(n,t,s)}};return c&&ae&&oe(G,t,{configurable:!0,set:r}),ce(t,e)})[z],"toString",(function(){return q(this).tag})),P(V,"withoutSetter",(function(e){return ce(_(e),e)})),K.f=le,S.f=ue,x.f=he,E.f=ye,b.f=k.f=pe,A.f=fe,R.f=function(e){return ce(T(e),e)},c&&(D(W,"description",{configurable:!0,get:function(){return q(this).description}}),o||P(G,"propertyIsEnumerable",le,{unsafe:!0}))),n({global:!0,constructor:!0,wrap:!0,forced:!u,sham:!u},{Symbol:V}),N(v(ie),(function(e){M(e)})),n({target:j,stat:!0,forced:!u},{useSetter:function(){ae=!0},useSimple:function(){ae=!1}}),n({target:"Object",stat:!0,forced:!u,sham:!c},{create:function(e,t){return void 0===t?w(e):he(w(e),t)},defineProperty:ue,defineProperties:he,getOwnPropertyDescriptor:ye}),n({target:"Object",stat:!0,forced:!u},{getOwnPropertyNames:pe}),O(),B(V,j),I[F]=!0},5772:(e,t,r)=>{var n=r(95460),i=r(89160),a=r(60899),s=r(18256),o=r(57204),c=r(65156),u=r(11808),h=r(99552),l=r(95139),y=r(1747),p=a.Symbol,f=p&&p.prototype;if(i&&c(p)&&(!("description"in f)||void 0!==p().description)){var d={},g=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:h(arguments[0]),t=u(f,this)?new p(e):void 0===e?p():p(e);return""===e&&(d[t]=!0),t};y(g,p),g.prototype=f,f.constructor=g;var m="Symbol(description detection)"===String(p("description detection")),w=s(f.valueOf),v=s(f.toString),b=/^Symbol\((.*)\)[^)]+$/,k=s("".replace),A=s("".slice);l(f,"description",{configurable:!0,get:function(){var e=w(this);if(o(d,e))return"";var t=v(e),r=m?A(t,7,-1):k(t,b,"$1");return""===r?void 0:r}}),n({global:!0,constructor:!0,forced:!0},{Symbol:g})}},32044:(e,t,r)=>{var n=r(95460),i=r(6960),a=r(57204),s=r(99552),o=r(85340),c=r(9152),u=o("string-to-symbol-registry"),h=o("symbol-to-string-registry");n({target:"Symbol",stat:!0,forced:!c},{for:function(e){var t=s(e);if(a(u,t))return u[t];var r=i("Symbol")(t);return u[t]=r,h[r]=t,r}})},58632:(e,t,r)=>{r(59680)("hasInstance")},34504:(e,t,r)=>{r(59680)("isConcatSpreadable")},54820:(e,t,r)=>{r(59680)("iterator")},31192:(e,t,r)=>{r(73616),r(32044),r(23484),r(21336),r(82480)},23484:(e,t,r)=>{var n=r(95460),i=r(57204),a=r(63232),s=r(20580),o=r(85340),c=r(9152),u=o("symbol-to-string-registry");n({target:"Symbol",stat:!0,forced:!c},{keyFor:function(e){if(!a(e))throw new TypeError(s(e)+" is not a symbol");if(i(u,e))return u[e]}})},92064:(e,t,r)=>{r(59680)("matchAll")},78144:(e,t,r)=>{r(59680)("match")},33216:(e,t,r)=>{r(59680)("replace")},98200:(e,t,r)=>{r(59680)("search")},77188:(e,t,r)=>{r(59680)("species")},76036:(e,t,r)=>{r(59680)("split")},31712:(e,t,r)=>{var n=r(59680),i=r(44992);n("toPrimitive"),i()},24e3:(e,t,r)=>{var n=r(6960),i=r(59680),a=r(77104);i("toStringTag"),a(n("Symbol"),"Symbol")},73748:(e,t,r)=>{r(59680)("unscopables")},35596:(e,t,r)=>{var n=r(79932),i=r(85827),a=r(40496),s=n.aTypedArray;(0,n.exportTypedArrayMethod)("at",(function(e){var t=s(this),r=i(t),n=a(e),o=n>=0?n:r+n;return o<0||o>=r?void 0:t[o]}))},39900:(e,t,r)=>{var n=r(18256),i=r(79932),a=n(r(500)),s=i.aTypedArray;(0,i.exportTypedArrayMethod)("copyWithin",(function(e,t){return a(s(this),e,t,arguments.length>2?arguments[2]:void 0)}))},47096:(e,t,r)=>{var n=r(79932),i=r(16840).every,a=n.aTypedArray;(0,n.exportTypedArrayMethod)("every",(function(e){return i(a(this),e,arguments.length>1?arguments[1]:void 0)}))},94016:(e,t,r)=>{var n=r(79932),i=r(49724),a=r(52832),s=r(50264),o=r(82884),c=r(18256),u=r(22088),h=n.aTypedArray,l=n.exportTypedArrayMethod,y=c("".slice);l("fill",(function(e){var t=arguments.length;h(this);var r="Big"===y(s(this),0,3)?a(e):+e;return o(i,this,r,t>1?arguments[1]:void 0,t>2?arguments[2]:void 0)}),u((function(){var e=0;return new Int8Array(2).fill({valueOf:function(){return e++}}),1!==e})))},82208:(e,t,r)=>{var n=r(79932),i=r(16840).filter,a=r(29164),s=n.aTypedArray;(0,n.exportTypedArrayMethod)("filter",(function(e){var t=i(s(this),e,arguments.length>1?arguments[1]:void 0);return a(this,t)}))},24332:(e,t,r)=>{var n=r(79932),i=r(16840).findIndex,a=n.aTypedArray;(0,n.exportTypedArrayMethod)("findIndex",(function(e){return i(a(this),e,arguments.length>1?arguments[1]:void 0)}))},37168:(e,t,r)=>{var n=r(79932),i=r(75467).findLastIndex,a=n.aTypedArray;(0,n.exportTypedArrayMethod)("findLastIndex",(function(e){return i(a(this),e,arguments.length>1?arguments[1]:void 0)}))},47788:(e,t,r)=>{var n=r(79932),i=r(75467).findLast,a=n.aTypedArray;(0,n.exportTypedArrayMethod)("findLast",(function(e){return i(a(this),e,arguments.length>1?arguments[1]:void 0)}))},97176:(e,t,r)=>{var n=r(79932),i=r(16840).find,a=n.aTypedArray;(0,n.exportTypedArrayMethod)("find",(function(e){return i(a(this),e,arguments.length>1?arguments[1]:void 0)}))},45608:(e,t,r)=>{r(31552)("Float32",(function(e){return function(t,r,n){return e(this,t,r,n)}}))},15147:(e,t,r)=>{r(31552)("Float64",(function(e){return function(t,r,n){return e(this,t,r,n)}}))},2156:(e,t,r)=>{var n=r(79932),i=r(16840).forEach,a=n.aTypedArray;(0,n.exportTypedArrayMethod)("forEach",(function(e){i(a(this),e,arguments.length>1?arguments[1]:void 0)}))},34992:(e,t,r)=>{var n=r(3576);(0,r(79932).exportTypedArrayStaticMethod)("from",r(15420),n)},34448:(e,t,r)=>{var n=r(79932),i=r(18880).includes,a=n.aTypedArray;(0,n.exportTypedArrayMethod)("includes",(function(e){return i(a(this),e,arguments.length>1?arguments[1]:void 0)}))},92520:(e,t,r)=>{var n=r(79932),i=r(18880).indexOf,a=n.aTypedArray;(0,n.exportTypedArrayMethod)("indexOf",(function(e){return i(a(this),e,arguments.length>1?arguments[1]:void 0)}))},79920:(e,t,r)=>{r(31552)("Int16",(function(e){return function(t,r,n){return e(this,t,r,n)}}))},51340:(e,t,r)=>{r(31552)("Int32",(function(e){return function(t,r,n){return e(this,t,r,n)}}))},46804:(e,t,r)=>{r(31552)("Int8",(function(e){return function(t,r,n){return e(this,t,r,n)}}))},49476:(e,t,r)=>{var n=r(60899),i=r(22088),a=r(18256),s=r(79932),o=r(57864),c=r(61720)("iterator"),u=n.Uint8Array,h=a(o.values),l=a(o.keys),y=a(o.entries),p=s.aTypedArray,f=s.exportTypedArrayMethod,d=u&&u.prototype,g=!i((function(){d[c].call([1])})),m=!!d&&d.values&&d[c]===d.values&&"values"===d.values.name,w=function(){return h(p(this))};f("entries",(function(){return y(p(this))}),g),f("keys",(function(){return l(p(this))}),g),f("values",w,g||!m,{name:"values"}),f(c,w,g||!m,{name:"values"})},47028:(e,t,r)=>{var n=r(79932),i=r(18256),a=n.aTypedArray,s=n.exportTypedArrayMethod,o=i([].join);s("join",(function(e){return o(a(this),e)}))},55760:(e,t,r)=>{var n=r(79932),i=r(10004),a=r(3e3),s=n.aTypedArray;(0,n.exportTypedArrayMethod)("lastIndexOf",(function(e){var t=arguments.length;return i(a,s(this),t>1?[e,arguments[1]]:[e])}))},52136:(e,t,r)=>{var n=r(79932),i=r(16840).map,a=r(77864),s=n.aTypedArray;(0,n.exportTypedArrayMethod)("map",(function(e){return i(s(this),e,arguments.length>1?arguments[1]:void 0,(function(e,t){return new(a(e))(t)}))}))},7969:(e,t,r)=>{var n=r(79932),i=r(3576),a=n.aTypedArrayConstructor;(0,n.exportTypedArrayStaticMethod)("of",(function(){for(var e=0,t=arguments.length,r=new(a(this))(t);t>e;)r[e]=arguments[e++];return r}),i)},66504:(e,t,r)=>{var n=r(79932),i=r(8716).right,a=n.aTypedArray;(0,n.exportTypedArrayMethod)("reduceRight",(function(e){var t=arguments.length;return i(a(this),e,t,t>1?arguments[1]:void 0)}))},30092:(e,t,r)=>{var n=r(79932),i=r(8716).left,a=n.aTypedArray;(0,n.exportTypedArrayMethod)("reduce",(function(e){var t=arguments.length;return i(a(this),e,t,t>1?arguments[1]:void 0)}))},67331:(e,t,r)=>{var n=r(79932),i=n.aTypedArray,a=n.exportTypedArrayMethod,s=Math.floor;a("reverse",(function(){for(var e,t=this,r=i(t).length,n=s(r/2),a=0;a<n;)e=t[a],t[a++]=t[--r],t[r]=e;return t}))},66640:(e,t,r)=>{var n=r(60899),i=r(82884),a=r(79932),s=r(85827),o=r(82232),c=r(22032),u=r(22088),h=n.RangeError,l=n.Int8Array,y=l&&l.prototype,p=y&&y.set,f=a.aTypedArray,d=a.exportTypedArrayMethod,g=!u((function(){var e=new Uint8ClampedArray(2);return i(p,e,{length:1,0:3},1),3!==e[1]})),m=g&&a.NATIVE_ARRAY_BUFFER_VIEWS&&u((function(){var e=new l(2);return e.set(1),e.set("2",1),0!==e[0]||2!==e[1]}));d("set",(function(e){f(this);var t=o(arguments.length>1?arguments[1]:void 0,1),r=c(e);if(g)return i(p,this,r,t);var n=this.length,a=s(r),u=0;if(a+t>n)throw new h("Wrong length");for(;u<a;)this[t+u]=r[u++]}),!g||m)},46640:(e,t,r)=>{var n=r(79932),i=r(77864),a=r(22088),s=r(70220),o=n.aTypedArray;(0,n.exportTypedArrayMethod)("slice",(function(e,t){for(var r=s(o(this),e,t),n=i(this),a=0,c=r.length,u=new n(c);c>a;)u[a]=r[a++];return u}),a((function(){new Int8Array(1).slice()})))},65184:(e,t,r)=>{var n=r(79932),i=r(16840).some,a=n.aTypedArray;(0,n.exportTypedArrayMethod)("some",(function(e){return i(a(this),e,arguments.length>1?arguments[1]:void 0)}))},24096:(e,t,r)=>{var n=r(60899),i=r(41724),a=r(22088),s=r(46580),o=r(79312),c=r(79932),u=r(86396),h=r(93e3),l=r(5556),y=r(72456),p=c.aTypedArray,f=c.exportTypedArrayMethod,d=n.Uint16Array,g=d&&i(d.prototype.sort),m=!(!g||a((function(){g(new d(2),null)}))&&a((function(){g(new d(2),{})}))),w=!!g&&!a((function(){if(l)return l<74;if(u)return u<67;if(h)return!0;if(y)return y<602;var e,t,r=new d(516),n=Array(516);for(e=0;e<516;e++)t=e%4,r[e]=515-e,n[e]=e-2*t+3;for(g(r,(function(e,t){return(e/4|0)-(t/4|0)})),e=0;e<516;e++)if(r[e]!==n[e])return!0}));f("sort",(function(e){return void 0!==e&&s(e),w?g(this,e):o(p(this),function(e){return function(t,r){return void 0!==e?+e(t,r)||0:r!=r?-1:t!=t?1:0===t&&0===r?1/t>0&&1/r<0?1:-1:t>r}}(e))}),!w||m)},52248:(e,t,r)=>{var n=r(79932),i=r(82440),a=r(31212),s=r(77864),o=n.aTypedArray;(0,n.exportTypedArrayMethod)("subarray",(function(e,t){var r=o(this),n=r.length,c=a(e,n);return new(s(r))(r.buffer,r.byteOffset+c*r.BYTES_PER_ELEMENT,i((void 0===t?n:a(t,n))-c))}))},51552:(e,t,r)=>{var n=r(60899),i=r(10004),a=r(79932),s=r(22088),o=r(70220),c=n.Int8Array,u=a.aTypedArray,h=a.exportTypedArrayMethod,l=[].toLocaleString,y=!!c&&s((function(){l.call(new c(1))}));h("toLocaleString",(function(){return i(l,y?o(u(this)):u(this),o(arguments))}),s((function(){return[1,2].toLocaleString()!==new c([1,2]).toLocaleString()}))||!s((function(){c.prototype.toLocaleString.call([1,2])})))},66484:(e,t,r)=>{var n=r(98588),i=r(79932),a=i.aTypedArray,s=i.exportTypedArrayMethod,o=i.getTypedArrayConstructor;s("toReversed",(function(){return n(a(this),o(this))}))},23152:(e,t,r)=>{var n=r(79932),i=r(18256),a=r(46580),s=r(86224),o=n.aTypedArray,c=n.getTypedArrayConstructor,u=n.exportTypedArrayMethod,h=i(n.TypedArrayPrototype.sort);u("toSorted",(function(e){void 0!==e&&a(e);var t=o(this),r=s(c(t),t);return h(r,e)}))},57088:(e,t,r)=>{var n=r(79932).exportTypedArrayMethod,i=r(22088),a=r(60899),s=r(18256),o=a.Uint8Array,c=o&&o.prototype||{},u=[].toString,h=s([].join);i((function(){u.call({})}))&&(u=function(){return h(this)});var l=c.toString!==u;n("toString",u,l)},96556:(e,t,r)=>{r(31552)("Uint16",(function(e){return function(t,r,n){return e(this,t,r,n)}}))},64076:(e,t,r)=>{r(31552)("Uint32",(function(e){return function(t,r,n){return e(this,t,r,n)}}))},10284:(e,t,r)=>{r(31552)("Uint8",(function(e){return function(t,r,n){return e(this,t,r,n)}}))},22384:(e,t,r)=>{r(31552)("Uint8",(function(e){return function(t,r,n){return e(this,t,r,n)}}),!0)},45800:(e,t,r)=>{var n=r(10604),i=r(79932),a=r(96060),s=r(40496),o=r(52832),c=i.aTypedArray,u=i.getTypedArrayConstructor,h=i.exportTypedArrayMethod,l=!!function(){try{new Int8Array(1).with(2,{valueOf:function(){throw 8}})}catch(e){return 8===e}}();h("with",{with:function(e,t){var r=c(this),i=s(e),h=a(r)?o(t):+t;return n(r,u(r),i,h)}}.with,!l)},47724:(e,t,r)=>{var n=r(95460),i=r(18256),a=r(99552),s=String.fromCharCode,o=i("".charAt),c=i(/./.exec),u=i("".slice),h=/^[\da-f]{2}$/i,l=/^[\da-f]{4}$/i;n({global:!0},{unescape:function(e){for(var t,r,n=a(e),i="",y=n.length,p=0;p<y;){if("%"===(t=o(n,p++)))if("u"===o(n,p)){if(r=u(n,p+1,p+5),c(l,r)){i+=s(parseInt(r,16)),p+=5;continue}}else if(r=u(n,p,p+2),c(h,r)){i+=s(parseInt(r,16)),p+=2;continue}i+=t}return i}})},35912:(e,t,r)=>{var n,i=r(98120),a=r(60899),s=r(18256),o=r(71604),c=r(6661),u=r(46171),h=r(90872),l=r(74436),y=r(95355).enforce,p=r(22088),f=r(1792),d=Object,g=Array.isArray,m=d.isExtensible,w=d.isFrozen,v=d.isSealed,b=d.freeze,k=d.seal,A=!a.ActiveXObject&&"ActiveXObject"in a,E=function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},S=u("WeakMap",E,h),x=S.prototype,K=s(x.set);if(f)if(A){n=h.getConstructor(E,"WeakMap",!0),c.enable();var P=s(x.delete),D=s(x.has),U=s(x.get);o(x,{delete:function(e){if(l(e)&&!m(e)){var t=y(this);return t.frozen||(t.frozen=new n),P(this,e)||t.frozen.delete(e)}return P(this,e)},has:function(e){if(l(e)&&!m(e)){var t=y(this);return t.frozen||(t.frozen=new n),D(this,e)||t.frozen.has(e)}return D(this,e)},get:function(e){if(l(e)&&!m(e)){var t=y(this);return t.frozen||(t.frozen=new n),D(this,e)?U(this,e):t.frozen.get(e)}return U(this,e)},set:function(e,t){if(l(e)&&!m(e)){var r=y(this);r.frozen||(r.frozen=new n),D(this,e)?K(this,e,t):r.frozen.set(e,t)}else K(this,e,t);return this}})}else i&&p((function(){var e=b([]);return K(new S,e,1),!w(e)}))&&o(x,{set:function(e,t){var r;return g(e)&&(w(e)?r=b:v(e)&&(r=k)),K(this,e,t),r&&r(e),this}})},92200:(e,t,r)=>{r(35912)},81336:(e,t,r)=>{r(46171)("WeakSet",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),r(90872))},34760:(e,t,r)=>{r(81336)},83944:(e,t,r)=>{var n=r(95460),i=r(60899),a=r(6960),s=r(18256),o=r(82884),c=r(22088),u=r(99552),h=r(3932),l=r(80848).c2i,y=/[^\d+/a-z]/i,p=/[\t\n\f\r ]+/g,f=/[=]{1,2}$/,d=a("atob"),g=String.fromCharCode,m=s("".charAt),w=s("".replace),v=s(y.exec),b=!!d&&!c((function(){return"hi"!==d("aGk=")})),k=b&&c((function(){return""!==d(" ")})),A=b&&!c((function(){d("a")})),E=b&&!c((function(){d()})),S=b&&1!==d.length;n({global:!0,bind:!0,enumerable:!0,forced:!b||k||A||E||S},{atob:function(e){if(h(arguments.length,1),b&&!k&&!A)return o(d,i,e);var t,r,n,s=w(u(e),p,""),c="",E=0,S=0;if(s.length%4==0&&(s=w(s,f,"")),(t=s.length)%4==1||v(y,s))throw new(a("DOMException"))("The string is not correctly encoded","InvalidCharacterError");for(;E<t;)r=m(s,E++),n=S%4?64*n+l[r]:l[r],S++%4&&(c+=g(255&n>>(-2*S&6)));return c}})},56696:(e,t,r)=>{var n=r(95460),i=r(60899),a=r(6960),s=r(18256),o=r(82884),c=r(22088),u=r(99552),h=r(3932),l=r(80848).i2c,y=a("btoa"),p=s("".charAt),f=s("".charCodeAt),d=!!y&&!c((function(){return"aGk="!==y("hi")})),g=d&&!c((function(){y()})),m=d&&c((function(){return"bnVsbA=="!==y(null)})),w=d&&1!==y.length;n({global:!0,bind:!0,enumerable:!0,forced:!d||g||m||w},{btoa:function(e){if(h(arguments.length,1),d)return o(y,i,u(e));for(var t,r,n=u(e),s="",c=0,g=l;p(n,c)||(g="=",c%1);){if((r=f(n,c+=3/4))>255)throw new(a("DOMException"))("The string contains characters outside of the Latin1 range","InvalidCharacterError");s+=p(g,63&(t=t<<8|r)>>8-c%1*8)}return s}})},720:(e,t,r)=>{var n=r(95460),i=r(60899),a=r(38868).clear;n({global:!0,bind:!0,enumerable:!0,forced:i.clearImmediate!==a},{clearImmediate:a})},19556:(e,t,r)=>{var n=r(60899),i=r(90384),a=r(31616),s=r(61176),o=r(34952),c=function(e){if(e&&e.forEach!==s)try{o(e,"forEach",s)}catch(t){e.forEach=s}};for(var u in i)i[u]&&c(n[u]&&n[u].prototype);c(a)},52632:(e,t,r)=>{var n=r(60899),i=r(90384),a=r(31616),s=r(57864),o=r(34952),c=r(77104),u=r(61720)("iterator"),h=s.values,l=function(e,t){if(e){if(e[u]!==h)try{o(e,u,h)}catch(t){e[u]=h}if(c(e,t,!0),i[t])for(var r in s)if(e[r]!==s[r])try{o(e,r,s[r])}catch(t){e[r]=s[r]}}};for(var y in i)l(n[y]&&n[y].prototype,y);l(a,"DOMTokenList")},8024:(e,t,r)=>{var n=r(95460),i=r(18141),a=r(6960),s=r(22088),o=r(24728),c=r(61520),u=r(48712).f,h=r(88788),l=r(95139),y=r(57204),p=r(9856),f=r(26928),d=r(13652),g=r(12148),m=r(28836),w=r(12824),v=r(95355),b=r(89160),k=r(65428),A="DOMException",E="DATA_CLONE_ERR",S=a("Error"),x=a(A)||function(){try{(new(a("MessageChannel")||i("worker_threads").MessageChannel)).port1.postMessage(new WeakMap)}catch(e){if(e.name===E&&25===e.code)return e.constructor}}(),K=x&&x.prototype,P=S.prototype,D=v.set,U=v.getterFor(A),C="stack"in new S(A),I=function(e){return y(m,e)&&m[e].m?m[e].c:0},_=function(){p(this,T);var e=arguments.length,t=g(e<1?void 0:arguments[0]),r=g(e<2?void 0:arguments[1],"Error"),n=I(r);if(D(this,{type:A,name:r,message:t,code:n}),b||(this.name=r,this.message=t,this.code=n),C){var i=new S(t);i.name=A,u(this,"stack",c(1,w(i.stack,1)))}},T=_.prototype=o(P),R=function(e){return{enumerable:!0,configurable:!0,get:e}},M=function(e){return R((function(){return U(this)[e]}))};b&&(l(T,"code",M("code")),l(T,"message",M("message")),l(T,"name",M("name"))),u(T,"constructor",c(1,_));var O=s((function(){return!(new x instanceof S)})),B=O||s((function(){return P.toString!==d||"2: 1"!==String(new x(1,2))})),L=O||s((function(){return 25!==new x(1,"DataCloneError").code})),N=O||25!==x[E]||25!==K[E],F=k?B||L||N:O;n({global:!0,constructor:!0,forced:F},{DOMException:F?_:x});var j=a(A),z=j.prototype;for(var H in B&&(k||x===j)&&h(z,"toString",d),L&&b&&x===j&&l(z,"code",R((function(){return I(f(this).name)}))),m)if(y(m,H)){var q=m[H],G=q.s,V=c(6,q.c);y(j,G)||u(j,G,V),y(z,G)||u(z,G,V)}},51144:(e,t,r)=>{var n=r(95460),i=r(60899),a=r(6960),s=r(61520),o=r(48712).f,c=r(57204),u=r(9856),h=r(85432),l=r(12148),y=r(28836),p=r(12824),f=r(89160),d=r(65428),g="DOMException",m=a("Error"),w=a(g),v=function(){u(this,b);var e=arguments.length,t=l(e<1?void 0:arguments[0]),r=l(e<2?void 0:arguments[1],"Error"),n=new w(t,r),i=new m(t);return i.name=g,o(n,"stack",s(1,p(i.stack,1))),h(n,this,v),n},b=v.prototype=w.prototype,k="stack"in new m(g),A="stack"in new w(1,2),E=w&&f&&Object.getOwnPropertyDescriptor(i,g),S=!(!E||E.writable&&E.configurable),x=k&&!S&&!A;n({global:!0,constructor:!0,forced:d||x},{DOMException:x?v:w});var K=a(g),P=K.prototype;if(P.constructor!==K)for(var D in d||o(P,"constructor",s(1,K)),y)if(c(y,D)){var U=y[D],C=U.s;c(K,C)||o(K,C,s(6,U.c))}},55872:(e,t,r)=>{var n=r(6960),i="DOMException";r(77104)(n(i),i)},18696:(e,t,r)=>{r(720),r(89632)},96744:(e,t,r)=>{var n=r(95460),i=r(60192),a=r(46580),s=r(3932);n({global:!0,enumerable:!0,dontCallGetSet:!0},{queueMicrotask:function(e){s(arguments.length,1),i(a(e))}})},29184:(e,t,r)=>{var n=r(95460),i=r(60899),a=r(95139),s=r(89160),o=TypeError,c=Object.defineProperty,u=i.self!==i;try{if(s){var h=Object.getOwnPropertyDescriptor(i,"self");!u&&h&&h.get&&h.enumerable||a(i,"self",{get:function(){return i},set:function(e){if(this!==i)throw new o("Illegal invocation");c(i,"self",{value:e,writable:!0,configurable:!0,enumerable:!0})},configurable:!0,enumerable:!0})}else n({global:!0,simple:!0,forced:u},{self:i})}catch(e){}},89632:(e,t,r)=>{var n=r(95460),i=r(60899),a=r(38868).set,s=r(33656),o=i.setImmediate?s(a,!1):a;n({global:!0,bind:!0,enumerable:!0,forced:i.setImmediate!==o},{setImmediate:o})},53524:(e,t,r)=>{var n=r(95460),i=r(60899),a=r(33656)(i.setInterval,!0);n({global:!0,bind:!0,forced:i.setInterval!==a},{setInterval:a})},14448:(e,t,r)=>{var n=r(95460),i=r(60899),a=r(33656)(i.setTimeout,!0);n({global:!0,bind:!0,forced:i.setTimeout!==a},{setTimeout:a})},57980:(e,t,r)=>{var n,i=r(65428),a=r(95460),s=r(60899),o=r(6960),c=r(18256),u=r(22088),h=r(55436),l=r(65156),y=r(31044),p=r(83344),f=r(74436),d=r(63232),g=r(24664),m=r(26928),w=r(50264),v=r(57204),b=r(11108),k=r(34952),A=r(85827),E=r(3932),S=r(60824),x=r(77752),K=r(66704),P=r(58020),D=r(30456),U=r(65552),C=r(67816),I=s.Object,_=s.Array,T=s.Date,R=s.Error,M=s.TypeError,O=s.PerformanceMark,B=o("DOMException"),L=x.Map,N=x.has,F=x.get,j=x.set,z=K.Set,H=K.add,q=K.has,G=o("Object","keys"),V=c([].push),W=c((!0).valueOf),$=c(1..valueOf),Y=c("".valueOf),X=c(T.prototype.getTime),Q=h("structuredClone"),Z="DataCloneError",J="Transferring",ee=function(e){return!u((function(){var t=new s.Set([7]),r=e(t),n=e(I(7));return r===t||!r.has(7)||!f(n)||7!=+n}))&&e},te=function(e,t){return!u((function(){var r=new t,n=e({a:r,b:r});return!(n&&n.a===n.b&&n.a instanceof t&&n.a.stack===r.stack)}))},re=s.structuredClone,ne=i||!te(re,R)||!te(re,B)||(n=re,!!u((function(){var e=n(new s.AggregateError([1],Q,{cause:3}));return"AggregateError"!==e.name||1!==e.errors[0]||e.message!==Q||3!==e.cause}))),ie=!re&&ee((function(e){return new O(Q,{detail:e}).detail})),ae=ee(re)||ie,se=function(e){throw new B("Uncloneable type: "+e,Z)},oe=function(e,t){throw new B((t||"Cloning")+" of "+e+" cannot be properly polyfilled in this engine",Z)},ce=function(e,t){return ae||oe(t),ae(e)},ue=function(e,t,r){if(N(t,e))return F(t,e);var n,i,a,o,c,u;if("SharedArrayBuffer"===(r||w(e)))n=ae?ae(e):e;else{var h=s.DataView;h||l(e.slice)||oe("ArrayBuffer");try{if(l(e.slice)&&!e.resizable)n=e.slice(0);else{i=e.byteLength,a="maxByteLength"in e?{maxByteLength:e.maxByteLength}:void 0,n=new ArrayBuffer(i,a),o=new h(e),c=new h(n);for(u=0;u<i;u++)c.setUint8(u,o.getUint8(u))}}catch(e){throw new B("ArrayBuffer is detached",Z)}}return j(t,e,n),n},he=function(e,t){if(d(e)&&se("Symbol"),!f(e))return e;if(t){if(N(t,e))return F(t,e)}else t=new L;var r,n,i,a,c,u,h,y,p=w(e);switch(p){case"Array":i=_(A(e));break;case"Object":i={};break;case"Map":i=new L;break;case"Set":i=new z;break;case"RegExp":i=new RegExp(e.source,S(e));break;case"Error":switch(n=e.name){case"AggregateError":i=new(o(n))([]);break;case"EvalError":case"RangeError":case"ReferenceError":case"SuppressedError":case"SyntaxError":case"TypeError":case"URIError":i=new(o(n));break;case"CompileError":case"LinkError":case"RuntimeError":i=new(o("WebAssembly",n));break;default:i=new R}break;case"DOMException":i=new B(e.message,e.name);break;case"ArrayBuffer":case"SharedArrayBuffer":i=ue(e,t,p);break;case"DataView":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float16Array":case"Float32Array":case"Float64Array":case"BigInt64Array":case"BigUint64Array":u="DataView"===p?e.byteLength:e.length,i=function(e,t,r,n,i){var a=s[t];return f(a)||oe(t),new a(ue(e.buffer,i),r,n)}(e,p,e.byteOffset,u,t);break;case"DOMQuad":try{i=new DOMQuad(he(e.p1,t),he(e.p2,t),he(e.p3,t),he(e.p4,t))}catch(t){i=ce(e,p)}break;case"File":if(ae)try{i=ae(e),w(i)!==p&&(i=void 0)}catch(e){}if(!i)try{i=new File([e],e.name,e)}catch(e){}i||oe(p);break;case"FileList":if(a=function(){var e;try{e=new s.DataTransfer}catch(t){try{e=new s.ClipboardEvent("").clipboardData}catch(e){}}return e&&e.items&&e.files?e:null}()){for(c=0,u=A(e);c<u;c++)a.items.add(he(e[c],t));i=a.files}else i=ce(e,p);break;case"ImageData":try{i=new ImageData(he(e.data,t),e.width,e.height,{colorSpace:e.colorSpace})}catch(t){i=ce(e,p)}break;default:if(ae)i=ae(e);else switch(p){case"BigInt":i=I(e.valueOf());break;case"Boolean":i=I(W(e));break;case"Number":i=I($(e));break;case"String":i=I(Y(e));break;case"Date":i=new T(X(e));break;case"Blob":try{i=e.slice(0,e.size,e.type)}catch(e){oe(p)}break;case"DOMPoint":case"DOMPointReadOnly":r=s[p];try{i=r.fromPoint?r.fromPoint(e):new r(e.x,e.y,e.z,e.w)}catch(e){oe(p)}break;case"DOMRect":case"DOMRectReadOnly":r=s[p];try{i=r.fromRect?r.fromRect(e):new r(e.x,e.y,e.width,e.height)}catch(e){oe(p)}break;case"DOMMatrix":case"DOMMatrixReadOnly":r=s[p];try{i=r.fromMatrix?r.fromMatrix(e):new r(e)}catch(e){oe(p)}break;case"AudioData":case"VideoFrame":l(e.clone)||oe(p);try{i=e.clone()}catch(e){se(p)}break;case"CropTarget":case"CryptoKey":case"FileSystemDirectoryHandle":case"FileSystemFileHandle":case"FileSystemHandle":case"GPUCompilationInfo":case"GPUCompilationMessage":case"ImageBitmap":case"RTCCertificate":case"WebAssembly.Module":oe(p);default:se(p)}}switch(j(t,e,i),p){case"Array":case"Object":for(h=G(e),c=0,u=A(h);c<u;c++)y=h[c],b(i,y,he(e[y],t));break;case"Map":e.forEach((function(e,r){j(i,he(r,t),he(e,t))}));break;case"Set":e.forEach((function(e){H(i,he(e,t))}));break;case"Error":k(i,"message",he(e.message,t)),v(e,"cause")&&k(i,"cause",he(e.cause,t)),"AggregateError"===n?i.errors=he(e.errors,t):"SuppressedError"===n&&(i.error=he(e.error,t),i.suppressed=he(e.suppressed,t));case"DOMException":U&&k(i,"stack",he(e.stack,t))}return i};a({global:!0,enumerable:!0,sham:!C,forced:ne},{structuredClone:function(e){var t,r,n=E(arguments.length,1)>1&&!p(arguments[1])?m(arguments[1]):void 0,i=n?n.transfer:void 0;void 0!==i&&(r=function(e,t){if(!f(e))throw new M("Transfer option cannot be converted to a sequence");var r=[];g(e,(function(e){V(r,m(e))}));for(var n,i,a,o,c,u=0,h=A(r),p=new z;u<h;){if(n=r[u++],"ArrayBuffer"===(i=w(n))?q(p,n):N(t,n))throw new B("Duplicate transferable",Z);if("ArrayBuffer"!==i){if(C)o=re(n,{transfer:[n]});else switch(i){case"ImageBitmap":a=s.OffscreenCanvas,y(a)||oe(i,J);try{(c=new a(n.width,n.height)).getContext("bitmaprenderer").transferFromImageBitmap(n),o=c.transferToImageBitmap()}catch(e){}break;case"AudioData":case"VideoFrame":l(n.clone)&&l(n.close)||oe(i,J);try{o=n.clone(),n.close()}catch(e){}break;case"MediaSourceHandle":case"MessagePort":case"OffscreenCanvas":case"ReadableStream":case"TransformStream":case"WritableStream":oe(i,J)}if(void 0===o)throw new B("This object cannot be transferred: "+i,Z);j(t,n,o)}else H(p,n)}return p}(i,t=new L));var a=he(e,t);return r&&function(e){P(e,(function(e){C?ae(e,{transfer:[e]}):l(e.transfer)?e.transfer():D?D(e):oe("ArrayBuffer",J)}))}(r),a}})},84516:(e,t,r)=>{r(53524),r(14448)},1728:(e,t,r)=>{r(57864);var n=r(95460),i=r(60899),a=r(96016),s=r(82884),o=r(18256),c=r(89160),u=r(28988),h=r(88788),l=r(95139),y=r(71604),p=r(77104),f=r(90509),d=r(95355),g=r(9856),m=r(65156),w=r(57204),v=r(66588),b=r(50264),k=r(26928),A=r(74436),E=r(99552),S=r(24728),x=r(61520),K=r(60900),P=r(27716),D=r(45684),U=r(3932),C=r(61720),I=r(79312),_=C("iterator"),T="URLSearchParams",R=T+"Iterator",M=d.set,O=d.getterFor(T),B=d.getterFor(R),L=a("fetch"),N=a("Request"),F=a("Headers"),j=N&&N.prototype,z=F&&F.prototype,H=i.RegExp,q=i.TypeError,G=i.decodeURIComponent,V=i.encodeURIComponent,W=o("".charAt),$=o([].join),Y=o([].push),X=o("".replace),Q=o([].shift),Z=o([].splice),J=o("".split),ee=o("".slice),te=/\+/g,re=Array(4),ne=function(e){return re[e-1]||(re[e-1]=H("((?:%[\\da-f]{2}){"+e+"})","gi"))},ie=function(e){try{return G(e)}catch(t){return e}},ae=function(e){var t=X(e,te," "),r=4;try{return G(t)}catch(e){for(;r;)t=X(t,ne(r--),ie);return t}},se=/[!'()~]|%20/g,oe={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},ce=function(e){return oe[e]},ue=function(e){return X(V(e),se,ce)},he=f((function(e,t){M(this,{type:R,target:O(e).entries,index:0,kind:t})}),T,(function(){var e=B(this),t=e.target,r=e.index++;if(!t||r>=t.length)return e.target=void 0,D(void 0,!0);var n=t[r];switch(e.kind){case"keys":return D(n.key,!1);case"values":return D(n.value,!1)}return D([n.key,n.value],!1)}),!0),le=function(e){this.entries=[],this.url=null,void 0!==e&&(A(e)?this.parseObject(e):this.parseQuery("string"==typeof e?"?"===W(e,0)?ee(e,1):e:E(e)))};le.prototype={type:T,bindURL:function(e){this.url=e,this.update()},parseObject:function(e){var t,r,n,i,a,o,c,u=this.entries,h=P(e);if(h)for(r=(t=K(e,h)).next;!(n=s(r,t)).done;){if(a=(i=K(k(n.value))).next,(o=s(a,i)).done||(c=s(a,i)).done||!s(a,i).done)throw new q("Expected sequence with length 2");Y(u,{key:E(o.value),value:E(c.value)})}else for(var l in e)w(e,l)&&Y(u,{key:l,value:E(e[l])})},parseQuery:function(e){if(e)for(var t,r,n=this.entries,i=J(e,"&"),a=0;a<i.length;)(t=i[a++]).length&&(r=J(t,"="),Y(n,{key:ae(Q(r)),value:ae($(r,"="))}))},serialize:function(){for(var e,t=this.entries,r=[],n=0;n<t.length;)e=t[n++],Y(r,ue(e.key)+"="+ue(e.value));return $(r,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var ye=function(){g(this,pe);var e=M(this,new le(arguments.length>0?arguments[0]:void 0));c||(this.size=e.entries.length)},pe=ye.prototype;if(y(pe,{append:function(e,t){var r=O(this);U(arguments.length,2),Y(r.entries,{key:E(e),value:E(t)}),c||this.length++,r.updateURL()},delete:function(e){for(var t=O(this),r=U(arguments.length,1),n=t.entries,i=E(e),a=r<2?void 0:arguments[1],s=void 0===a?a:E(a),o=0;o<n.length;){var u=n[o];if(u.key!==i||void 0!==s&&u.value!==s)o++;else if(Z(n,o,1),void 0!==s)break}c||(this.size=n.length),t.updateURL()},get:function(e){var t=O(this).entries;U(arguments.length,1);for(var r=E(e),n=0;n<t.length;n++)if(t[n].key===r)return t[n].value;return null},getAll:function(e){var t=O(this).entries;U(arguments.length,1);for(var r=E(e),n=[],i=0;i<t.length;i++)t[i].key===r&&Y(n,t[i].value);return n},has:function(e){for(var t=O(this).entries,r=U(arguments.length,1),n=E(e),i=r<2?void 0:arguments[1],a=void 0===i?i:E(i),s=0;s<t.length;){var o=t[s++];if(o.key===n&&(void 0===a||o.value===a))return!0}return!1},set:function(e,t){var r=O(this);U(arguments.length,1);for(var n,i=r.entries,a=!1,s=E(e),o=E(t),u=0;u<i.length;u++)(n=i[u]).key===s&&(a?Z(i,u--,1):(a=!0,n.value=o));a||Y(i,{key:s,value:o}),c||(this.size=i.length),r.updateURL()},sort:function(){var e=O(this);I(e.entries,(function(e,t){return e.key>t.key?1:-1})),e.updateURL()},forEach:function(e){for(var t,r=O(this).entries,n=v(e,arguments.length>1?arguments[1]:void 0),i=0;i<r.length;)n((t=r[i++]).value,t.key,this)},keys:function(){return new he(this,"keys")},values:function(){return new he(this,"values")},entries:function(){return new he(this,"entries")}},{enumerable:!0}),h(pe,_,pe.entries,{name:"entries"}),h(pe,"toString",(function(){return O(this).serialize()}),{enumerable:!0}),c&&l(pe,"size",{get:function(){return O(this).entries.length},configurable:!0,enumerable:!0}),p(ye,T),n({global:!0,constructor:!0,forced:!u},{URLSearchParams:ye}),!u&&m(F)){var fe=o(z.has),de=o(z.set),ge=function(e){if(A(e)){var t,r=e.body;if(b(r)===T)return t=e.headers?new F(e.headers):new F,fe(t,"content-type")||de(t,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),S(e,{body:x(0,E(r)),headers:x(0,t)})}return e};if(m(L)&&n({global:!0,enumerable:!0,dontCallGetSet:!0,forced:!0},{fetch:function(e){return L(e,arguments.length>1?ge(arguments[1]):{})}}),m(N)){var me=function(e){return g(this,j),new N(e,arguments.length>1?ge(arguments[1]):{})};j.constructor=me,me.prototype=j,n({global:!0,constructor:!0,dontCallGetSet:!0,forced:!0},{Request:me})}}e.exports={URLSearchParams:ye,getState:O}},30388:(e,t,r)=>{var n=r(88788),i=r(18256),a=r(99552),s=r(3932),o=URLSearchParams,c=o.prototype,u=i(c.append),h=i(c.delete),l=i(c.forEach),y=i([].push),p=new o("a=1&a=2&b=3");p.delete("a",1),p.delete("b",void 0),p+""!="a=2"&&n(c,"delete",(function(e){var t=arguments.length,r=t<2?void 0:arguments[1];if(t&&void 0===r)return h(this,e);var n=[];l(this,(function(e,t){y(n,{key:t,value:e})})),s(t,1);for(var i,o=a(e),c=a(r),p=0,f=0,d=!1,g=n.length;p<g;)i=n[p++],d||i.key===o?(d=!0,h(this,i.key)):f++;for(;f<g;)(i=n[f++]).key===o&&i.value===c||u(this,i.key,i.value)}),{enumerable:!0,unsafe:!0})},80512:(e,t,r)=>{var n=r(88788),i=r(18256),a=r(99552),s=r(3932),o=URLSearchParams,c=o.prototype,u=i(c.getAll),h=i(c.has),l=new o("a=1");!l.has("a",2)&&l.has("a",void 0)||n(c,"has",(function(e){var t=arguments.length,r=t<2?void 0:arguments[1];if(t&&void 0===r)return h(this,e);var n=u(this,e);s(t,1);for(var i=a(r),o=0;o<n.length;)if(n[o++]===i)return!0;return!1}),{enumerable:!0,unsafe:!0})},4612:(e,t,r)=>{r(1728)},22368:(e,t,r)=>{var n=r(89160),i=r(18256),a=r(95139),s=URLSearchParams.prototype,o=i(s.forEach);n&&!("size"in s)&&a(s,"size",{get:function(){var e=0;return o(this,(function(){e++})),e},configurable:!0,enumerable:!0})},6512:(e,t,r)=>{var n=r(95460),i=r(6960),a=r(22088),s=r(3932),o=r(99552),c=r(28988),u=i("URL");n({target:"URL",stat:!0,forced:!(c&&a((function(){u.canParse()})))},{canParse:function(e){var t=s(arguments.length,1),r=o(e),n=t<2||void 0===arguments[1]?void 0:o(arguments[1]);try{return!!new u(r,n)}catch(e){return!1}}})},18744:(e,t,r)=>{r(4156);var n,i=r(95460),a=r(89160),s=r(28988),o=r(60899),c=r(66588),u=r(18256),h=r(88788),l=r(95139),y=r(9856),p=r(57204),f=r(50456),d=r(30107),g=r(70220),m=r(71904).codeAt,w=r(11232),v=r(99552),b=r(77104),k=r(3932),A=r(1728),E=r(95355),S=E.set,x=E.getterFor("URL"),K=A.URLSearchParams,P=A.getState,D=o.URL,U=o.TypeError,C=o.parseInt,I=Math.floor,_=Math.pow,T=u("".charAt),R=u(/./.exec),M=u([].join),O=u(1..toString),B=u([].pop),L=u([].push),N=u("".replace),F=u([].shift),j=u("".split),z=u("".slice),H=u("".toLowerCase),q=u([].unshift),G="Invalid scheme",V="Invalid host",W="Invalid port",$=/[a-z]/i,Y=/[\d+-.a-z]/i,X=/\d/,Q=/^0x/i,Z=/^[0-7]+$/,J=/^\d+$/,ee=/^[\da-f]+$/i,te=/[\0\t\n\r #%/:<>?@[\\\]^|]/,re=/[\0\t\n\r #/:<>?@[\\\]^|]/,ne=/^[\u0000-\u0020]+/,ie=/(^|[^\u0000-\u0020])[\u0000-\u0020]+$/,ae=/[\t\n\r]/g,se=function(e){var t,r,n,i;if("number"==typeof e){for(t=[],r=0;r<4;r++)q(t,e%256),e=I(e/256);return M(t,".")}if("object"==typeof e){for(t="",n=function(e){for(var t=null,r=1,n=null,i=0,a=0;a<8;a++)0!==e[a]?(i>r&&(t=n,r=i),n=null,i=0):(null===n&&(n=a),++i);return i>r&&(t=n,r=i),t}(e),r=0;r<8;r++)i&&0===e[r]||(i&&(i=!1),n===r?(t+=r?":":"::",i=!0):(t+=O(e[r],16),r<7&&(t+=":")));return"["+t+"]"}return e},oe={},ce=f({},oe,{" ":1,'"':1,"<":1,">":1,"`":1}),ue=f({},ce,{"#":1,"?":1,"{":1,"}":1}),he=f({},ue,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),le=function(e,t){var r=m(e,0);return r>32&&r<127&&!p(t,e)?e:encodeURIComponent(e)},ye={ftp:21,file:null,http:80,https:443,ws:80,wss:443},pe=function(e,t){var r;return 2===e.length&&R($,T(e,0))&&(":"===(r=T(e,1))||!t&&"|"===r)},fe=function(e){var t;return e.length>1&&pe(z(e,0,2))&&(2===e.length||"/"===(t=T(e,2))||"\\"===t||"?"===t||"#"===t)},de=function(e){return"."===e||"%2e"===H(e)},ge={},me={},we={},ve={},be={},ke={},Ae={},Ee={},Se={},xe={},Ke={},Pe={},De={},Ue={},Ce={},Ie={},_e={},Te={},Re={},Me={},Oe={},Be=function(e,t,r){var n,i,a,s=v(e);if(t){if(i=this.parse(s))throw new U(i);this.searchParams=null}else{if(void 0!==r&&(n=new Be(r,!0)),i=this.parse(s,null,n))throw new U(i);(a=P(new K)).bindURL(this),this.searchParams=a}};Be.prototype={type:"URL",parse:function(e,t,r){var i,a,s,o,c,u=this,h=t||ge,l=0,y="",f=!1,m=!1,w=!1;for(e=v(e),t||(u.scheme="",u.username="",u.password="",u.host=null,u.port=null,u.path=[],u.query=null,u.fragment=null,u.cannotBeABaseURL=!1,e=N(e,ne,""),e=N(e,ie,"$1")),e=N(e,ae,""),i=d(e);l<=i.length;){switch(a=i[l],h){case ge:if(!a||!R($,a)){if(t)return G;h=we;continue}y+=H(a),h=me;break;case me:if(a&&(R(Y,a)||"+"===a||"-"===a||"."===a))y+=H(a);else{if(":"!==a){if(t)return G;y="",h=we,l=0;continue}if(t&&(u.isSpecial()!==p(ye,y)||"file"===y&&(u.includesCredentials()||null!==u.port)||"file"===u.scheme&&!u.host))return;if(u.scheme=y,t)return void(u.isSpecial()&&ye[u.scheme]===u.port&&(u.port=null));y="","file"===u.scheme?h=Ue:u.isSpecial()&&r&&r.scheme===u.scheme?h=ve:u.isSpecial()?h=Ee:"/"===i[l+1]?(h=be,l++):(u.cannotBeABaseURL=!0,L(u.path,""),h=Re)}break;case we:if(!r||r.cannotBeABaseURL&&"#"!==a)return G;if(r.cannotBeABaseURL&&"#"===a){u.scheme=r.scheme,u.path=g(r.path),u.query=r.query,u.fragment="",u.cannotBeABaseURL=!0,h=Oe;break}h="file"===r.scheme?Ue:ke;continue;case ve:if("/"!==a||"/"!==i[l+1]){h=ke;continue}h=Se,l++;break;case be:if("/"===a){h=xe;break}h=Te;continue;case ke:if(u.scheme=r.scheme,a===n)u.username=r.username,u.password=r.password,u.host=r.host,u.port=r.port,u.path=g(r.path),u.query=r.query;else if("/"===a||"\\"===a&&u.isSpecial())h=Ae;else if("?"===a)u.username=r.username,u.password=r.password,u.host=r.host,u.port=r.port,u.path=g(r.path),u.query="",h=Me;else{if("#"!==a){u.username=r.username,u.password=r.password,u.host=r.host,u.port=r.port,u.path=g(r.path),u.path.length--,h=Te;continue}u.username=r.username,u.password=r.password,u.host=r.host,u.port=r.port,u.path=g(r.path),u.query=r.query,u.fragment="",h=Oe}break;case Ae:if(!u.isSpecial()||"/"!==a&&"\\"!==a){if("/"!==a){u.username=r.username,u.password=r.password,u.host=r.host,u.port=r.port,h=Te;continue}h=xe}else h=Se;break;case Ee:if(h=Se,"/"!==a||"/"!==T(y,l+1))continue;l++;break;case Se:if("/"!==a&&"\\"!==a){h=xe;continue}break;case xe:if("@"===a){f&&(y="%40"+y),f=!0,s=d(y);for(var b=0;b<s.length;b++){var k=s[b];if(":"!==k||w){var A=le(k,he);w?u.password+=A:u.username+=A}else w=!0}y=""}else if(a===n||"/"===a||"?"===a||"#"===a||"\\"===a&&u.isSpecial()){if(f&&""===y)return"Invalid authority";l-=d(y).length+1,y="",h=Ke}else y+=a;break;case Ke:case Pe:if(t&&"file"===u.scheme){h=Ie;continue}if(":"!==a||m){if(a===n||"/"===a||"?"===a||"#"===a||"\\"===a&&u.isSpecial()){if(u.isSpecial()&&""===y)return V;if(t&&""===y&&(u.includesCredentials()||null!==u.port))return;if(o=u.parseHost(y))return o;if(y="",h=_e,t)return;continue}"["===a?m=!0:"]"===a&&(m=!1),y+=a}else{if(""===y)return V;if(o=u.parseHost(y))return o;if(y="",h=De,t===Pe)return}break;case De:if(!R(X,a)){if(a===n||"/"===a||"?"===a||"#"===a||"\\"===a&&u.isSpecial()||t){if(""!==y){var E=C(y,10);if(E>65535)return W;u.port=u.isSpecial()&&E===ye[u.scheme]?null:E,y=""}if(t)return;h=_e;continue}return W}y+=a;break;case Ue:if(u.scheme="file","/"===a||"\\"===a)h=Ce;else{if(!r||"file"!==r.scheme){h=Te;continue}switch(a){case n:u.host=r.host,u.path=g(r.path),u.query=r.query;break;case"?":u.host=r.host,u.path=g(r.path),u.query="",h=Me;break;case"#":u.host=r.host,u.path=g(r.path),u.query=r.query,u.fragment="",h=Oe;break;default:fe(M(g(i,l),""))||(u.host=r.host,u.path=g(r.path),u.shortenPath()),h=Te;continue}}break;case Ce:if("/"===a||"\\"===a){h=Ie;break}r&&"file"===r.scheme&&!fe(M(g(i,l),""))&&(pe(r.path[0],!0)?L(u.path,r.path[0]):u.host=r.host),h=Te;continue;case Ie:if(a===n||"/"===a||"\\"===a||"?"===a||"#"===a){if(!t&&pe(y))h=Te;else if(""===y){if(u.host="",t)return;h=_e}else{if(o=u.parseHost(y))return o;if("localhost"===u.host&&(u.host=""),t)return;y="",h=_e}continue}y+=a;break;case _e:if(u.isSpecial()){if(h=Te,"/"!==a&&"\\"!==a)continue}else if(t||"?"!==a)if(t||"#"!==a){if(a!==n&&(h=Te,"/"!==a))continue}else u.fragment="",h=Oe;else u.query="",h=Me;break;case Te:if(a===n||"/"===a||"\\"===a&&u.isSpecial()||!t&&("?"===a||"#"===a)){if(".."===(c=H(c=y))||"%2e."===c||".%2e"===c||"%2e%2e"===c?(u.shortenPath(),"/"===a||"\\"===a&&u.isSpecial()||L(u.path,"")):de(y)?"/"===a||"\\"===a&&u.isSpecial()||L(u.path,""):("file"===u.scheme&&!u.path.length&&pe(y)&&(u.host&&(u.host=""),y=T(y,0)+":"),L(u.path,y)),y="","file"===u.scheme&&(a===n||"?"===a||"#"===a))for(;u.path.length>1&&""===u.path[0];)F(u.path);"?"===a?(u.query="",h=Me):"#"===a&&(u.fragment="",h=Oe)}else y+=le(a,ue);break;case Re:"?"===a?(u.query="",h=Me):"#"===a?(u.fragment="",h=Oe):a!==n&&(u.path[0]+=le(a,oe));break;case Me:t||"#"!==a?a!==n&&("'"===a&&u.isSpecial()?u.query+="%27":u.query+="#"===a?"%23":le(a,oe)):(u.fragment="",h=Oe);break;case Oe:a!==n&&(u.fragment+=le(a,ce))}l++}},parseHost:function(e){var t,r,n;if("["===T(e,0)){if("]"!==T(e,e.length-1))return V;if(t=function(e){var t,r,n,i,a,s,o,c=[0,0,0,0,0,0,0,0],u=0,h=null,l=0,y=function(){return T(e,l)};if(":"===y()){if(":"!==T(e,1))return;l+=2,h=++u}for(;y();){if(8===u)return;if(":"!==y()){for(t=r=0;r<4&&R(ee,y());)t=16*t+C(y(),16),l++,r++;if("."===y()){if(0===r)return;if(l-=r,u>6)return;for(n=0;y();){if(i=null,n>0){if(!("."===y()&&n<4))return;l++}if(!R(X,y()))return;for(;R(X,y());){if(a=C(y(),10),null===i)i=a;else{if(0===i)return;i=10*i+a}if(i>255)return;l++}c[u]=256*c[u]+i,2!=++n&&4!==n||u++}if(4!==n)return;break}if(":"===y()){if(l++,!y())return}else if(y())return;c[u++]=t}else{if(null!==h)return;l++,h=++u}}if(null!==h)for(s=u-h,u=7;0!==u&&s>0;)o=c[u],c[u--]=c[h+s-1],c[h+--s]=o;else if(8!==u)return;return c}(z(e,1,-1)),!t)return V;this.host=t}else if(this.isSpecial()){if(e=w(e),R(te,e))return V;if(t=function(e){var t,r,n,i,a,s,o,c=j(e,".");if(c.length&&""===c[c.length-1]&&c.length--,(t=c.length)>4)return e;for(r=[],n=0;n<t;n++){if(""===(i=c[n]))return e;if(a=10,i.length>1&&"0"===T(i,0)&&(a=R(Q,i)?16:8,i=z(i,8===a?1:2)),""===i)s=0;else{if(!R(10===a?J:8===a?Z:ee,i))return e;s=C(i,a)}L(r,s)}for(n=0;n<t;n++)if(s=r[n],n===t-1){if(s>=_(256,5-t))return null}else if(s>255)return null;for(o=B(r),n=0;n<r.length;n++)o+=r[n]*_(256,3-n);return o}(e),null===t)return V;this.host=t}else{if(R(re,e))return V;for(t="",r=d(e),n=0;n<r.length;n++)t+=le(r[n],oe);this.host=t}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||"file"===this.scheme},includesCredentials:function(){return""!==this.username||""!==this.password},isSpecial:function(){return p(ye,this.scheme)},shortenPath:function(){var e=this.path,t=e.length;!t||"file"===this.scheme&&1===t&&pe(e[0],!0)||e.length--},serialize:function(){var e=this,t=e.scheme,r=e.username,n=e.password,i=e.host,a=e.port,s=e.path,o=e.query,c=e.fragment,u=t+":";return null!==i?(u+="//",e.includesCredentials()&&(u+=r+(n?":"+n:"")+"@"),u+=se(i),null!==a&&(u+=":"+a)):"file"===t&&(u+="//"),u+=e.cannotBeABaseURL?s[0]:s.length?"/"+M(s,"/"):"",null!==o&&(u+="?"+o),null!==c&&(u+="#"+c),u},setHref:function(e){var t=this.parse(e);if(t)throw new U(t);this.searchParams.update()},getOrigin:function(){var e=this.scheme,t=this.port;if("blob"===e)try{return new Le(e.path[0]).origin}catch(e){return"null"}return"file"!==e&&this.isSpecial()?e+"://"+se(this.host)+(null!==t?":"+t:""):"null"},getProtocol:function(){return this.scheme+":"},setProtocol:function(e){this.parse(v(e)+":",ge)},getUsername:function(){return this.username},setUsername:function(e){var t=d(v(e));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var r=0;r<t.length;r++)this.username+=le(t[r],he)}},getPassword:function(){return this.password},setPassword:function(e){var t=d(v(e));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var r=0;r<t.length;r++)this.password+=le(t[r],he)}},getHost:function(){var e=this.host,t=this.port;return null===e?"":null===t?se(e):se(e)+":"+t},setHost:function(e){this.cannotBeABaseURL||this.parse(e,Ke)},getHostname:function(){var e=this.host;return null===e?"":se(e)},setHostname:function(e){this.cannotBeABaseURL||this.parse(e,Pe)},getPort:function(){var e=this.port;return null===e?"":v(e)},setPort:function(e){this.cannotHaveUsernamePasswordPort()||(""===(e=v(e))?this.port=null:this.parse(e,De))},getPathname:function(){var e=this.path;return this.cannotBeABaseURL?e[0]:e.length?"/"+M(e,"/"):""},setPathname:function(e){this.cannotBeABaseURL||(this.path=[],this.parse(e,_e))},getSearch:function(){var e=this.query;return e?"?"+e:""},setSearch:function(e){""===(e=v(e))?this.query=null:("?"===T(e,0)&&(e=z(e,1)),this.query="",this.parse(e,Me)),this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var e=this.fragment;return e?"#"+e:""},setHash:function(e){""!==(e=v(e))?("#"===T(e,0)&&(e=z(e,1)),this.fragment="",this.parse(e,Oe)):this.fragment=null},update:function(){this.query=this.searchParams.serialize()||null}};var Le=function(e){var t=y(this,Ne),r=k(arguments.length,1)>1?arguments[1]:void 0,n=S(t,new Be(e,!1,r));a||(t.href=n.serialize(),t.origin=n.getOrigin(),t.protocol=n.getProtocol(),t.username=n.getUsername(),t.password=n.getPassword(),t.host=n.getHost(),t.hostname=n.getHostname(),t.port=n.getPort(),t.pathname=n.getPathname(),t.search=n.getSearch(),t.searchParams=n.getSearchParams(),t.hash=n.getHash())},Ne=Le.prototype,Fe=function(e,t){return{get:function(){return x(this)[e]()},set:t&&function(e){return x(this)[t](e)},configurable:!0,enumerable:!0}};if(a&&(l(Ne,"href",Fe("serialize","setHref")),l(Ne,"origin",Fe("getOrigin")),l(Ne,"protocol",Fe("getProtocol","setProtocol")),l(Ne,"username",Fe("getUsername","setUsername")),l(Ne,"password",Fe("getPassword","setPassword")),l(Ne,"host",Fe("getHost","setHost")),l(Ne,"hostname",Fe("getHostname","setHostname")),l(Ne,"port",Fe("getPort","setPort")),l(Ne,"pathname",Fe("getPathname","setPathname")),l(Ne,"search",Fe("getSearch","setSearch")),l(Ne,"searchParams",Fe("getSearchParams")),l(Ne,"hash",Fe("getHash","setHash"))),h(Ne,"toJSON",(function(){return x(this).serialize()}),{enumerable:!0}),h(Ne,"toString",(function(){return x(this).serialize()}),{enumerable:!0}),D){var je=D.createObjectURL,ze=D.revokeObjectURL;je&&h(Le,"createObjectURL",c(je,D)),ze&&h(Le,"revokeObjectURL",c(ze,D))}b(Le,"URL"),i({global:!0,constructor:!0,forced:!s,sham:!a},{URL:Le})},66087:(e,t,r)=>{r(18744)},7248:(e,t,r)=>{var n=r(95460),i=r(82884);n({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return i(URL.prototype.toString,this)}})},97912:(e,t,r)=>{r(31192),r(5772),r(60068),r(58632),r(34504),r(54820),r(78144),r(92064),r(33216),r(98200),r(77188),r(76036),r(31712),r(24e3),r(73748),r(33492),r(85956),r(17252),r(76280),r(91552),r(59752),r(13472),r(52504),r(87656),r(27432),r(80780),r(57564),r(14636),r(8956),r(84780),r(7120),r(80760),r(26444),r(97016),r(53920),r(61128),r(57864),r(66560),r(14e3),r(40280),r(82992),r(79344),r(3444),r(45488),r(26084),r(77904),r(99244),r(61500),r(6800),r(74072),r(60792),r(33792),r(12644),r(11228),r(32728),r(98888),r(93640),r(74496),r(86608),r(34216),r(92428),r(97192),r(11447),r(88800),r(41344),r(91008),r(97080),r(3936),r(67840),r(77172),r(16316),r(61880),r(82989),r(35960),r(21336),r(52600),r(48760),r(41764),r(744),r(18860),r(83480),r(27312),r(17564),r(15128),r(5828),r(7080),r(17096),r(52224),r(9652),r(74548),r(51656),r(83048),r(56083),r(25796),r(52072),r(90272),r(98384),r(57752),r(976),r(89904),r(84400),r(63260),r(63204),r(15347),r(67516),r(59456),r(84416),r(71352),r(86084),r(3688),r(31472),r(10432),r(24896),r(42696),r(44376),r(18088),r(69580),r(42684),r(33741),r(92588),r(45412),r(47020),r(89356),r(34200),r(25608),r(89008),r(86856),r(62856),r(61133),r(54928),r(35632),r(58064),r(51504),r(46596),r(54216),r(77149),r(54600),r(30220),r(21052),r(61864),r(99136),r(39816),r(91004),r(1e3),r(27052),r(14064),r(54692),r(52427),r(33052),r(3184),r(99484),r(73656),r(25496),r(88892),r(91872),r(96132),r(96344),r(45840),r(88180),r(48860),r(69e3),r(69528),r(51180),r(23424),r(10784),r(22772),r(52744),r(2616),r(27644),r(67276),r(172),r(78932),r(4156),r(87811),r(5224),r(87680),r(43192),r(93304),r(72800),r(98032),r(34144),r(18364),r(61832),r(54784),r(16731),r(35296),r(6944),r(88820),r(13828),r(64176),r(4157),r(42608),r(85504),r(8120),r(13736),r(69916),r(33320),r(32644),r(57008),r(82128),r(65912),r(81600),r(45608),r(15147),r(46804),r(79920),r(51340),r(10284),r(22384),r(96556),r(64076),r(35596),r(39900),r(47096),r(94016),r(82208),r(97176),r(24332),r(47788),r(37168),r(2156),r(34992),r(34448),r(92520),r(49476),r(47028),r(55760),r(52136),r(7969),r(30092),r(66504),r(67331),r(66640),r(46640),r(65184),r(24096),r(52248),r(51552),r(66484),r(23152),r(57088),r(45800),r(47724),r(92200),r(34760),r(83944),r(56696),r(19556),r(52632),r(8024),r(51144),r(55872),r(18696),r(96744),r(29184),r(57980),r(84516),r(66087),r(6512),r(7248),r(4612),r(30388),r(80512),r(22368),r(27192)}},t={};function r(n){var i=t[n];if(void 0!==i)return i.exports;var a=t[n]={id:n,loaded:!1,exports:{}};return e[n].call(a.exports,a,a.exports,r),a.loaded=!0,a.exports}r.m=e,r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.f={},r.e=e=>Promise.all(Object.keys(r.f).reduce(((t,n)=>(r.f[n](e,t),t)),[])),r.u=e=>"chunk."+e+".js",r.miniCssF=e=>{},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),r.p="/",(()=>{var e={6164:1};r.f.i=(t,n)=>{e[t]||importScripts(r.p+r.u(t))};var t=globalThis.webpackChunkproton_pass_extension=globalThis.webpackChunkproton_pass_extension||[],n=t.push.bind(t);t.push=t=>{var[i,a,s]=t;for(var o in a)r.o(a,o)&&(r.m[o]=a[o]);for(s&&s(r);i.length;)e[i.pop()]=1;n(t)}})(),(()=>{
/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
const e=Symbol("Comlink.proxy"),t=Symbol("Comlink.endpoint"),n=Symbol("Comlink.releaseProxy"),i=Symbol("Comlink.finalizer"),a=Symbol("Comlink.thrown"),s=e=>"object"==typeof e&&null!==e||"function"==typeof e,o=new Map([["proxy",{canHandle:t=>s(t)&&t[e],serialize(e){const{port1:t,port2:r}=new MessageChannel;return c(e,t),[r,[r]]},deserialize(e){return e.start(),f(e,[],t);var t}}],["throw",{canHandle:e=>s(e)&&a in e,serialize({value:e}){let t;return t=e instanceof Error?{isError:!0,value:{message:e.message,name:e.name,stack:e.stack}}:{isError:!1,value:e},[t,[]]},deserialize(e){if(e.isError)throw Object.assign(new Error(e.value.message),e.value);throw e.value}}]]);function c(t,r=globalThis,n=["*"]){r.addEventListener("message",(function s(o){if(!o||!o.data)return;if(!function(e,t){for(const r of e){if(t===r||"*"===r)return!0;if(r instanceof RegExp&&r.test(t))return!0}return!1}(n,o.origin))return void console.warn(`Invalid origin '${o.origin}' for comlink proxy`);const{id:h,type:l,path:y}=Object.assign({path:[]},o.data),p=(o.data.argumentList||[]).map(w);let f;try{const r=y.slice(0,-1).reduce(((e,t)=>e[t]),t),n=y.reduce(((e,t)=>e[t]),t);switch(l){case"GET":f=n;break;case"SET":r[y.slice(-1)[0]]=w(o.data.value),f=!0;break;case"APPLY":f=n.apply(r,p);break;case"CONSTRUCT":f=function(t){return Object.assign(t,{[e]:!0})}(new n(...p));break;case"ENDPOINT":{const{port1:e,port2:r}=new MessageChannel;c(t,r),f=function(e,t){return g.set(e,t),e}(e,[e])}break;case"RELEASE":f=void 0;break;default:return}}catch(e){f={value:e,[a]:0}}Promise.resolve(f).catch((e=>({value:e,[a]:0}))).then((e=>{const[n,a]=m(e);r.postMessage(Object.assign(Object.assign({},n),{id:h}),a),"RELEASE"===l&&(r.removeEventListener("message",s),u(r),i in t&&"function"==typeof t[i]&&t[i]())})).catch((e=>{const[t,n]=m({value:new TypeError("Unserializable return value"),[a]:0});r.postMessage(Object.assign(Object.assign({},t),{id:h}),n)}))})),r.start&&r.start()}function u(e){(function(e){return"MessagePort"===e.constructor.name})(e)&&e.close()}function h(e){if(e)throw new Error("Proxy has been released and is not useable")}function l(e){return v(e,{type:"RELEASE"}).then((()=>{u(e)}))}const y=new WeakMap,p="FinalizationRegistry"in globalThis&&new FinalizationRegistry((e=>{const t=(y.get(e)||0)-1;y.set(e,t),0===t&&l(e)}));function f(e,r=[],i=function(){}){let a=!1;const s=new Proxy(i,{get(t,i){if(h(a),i===n)return()=>{!function(e){p&&p.unregister(e)}(s),l(e),a=!0};if("then"===i){if(0===r.length)return{then:()=>s};const t=v(e,{type:"GET",path:r.map((e=>e.toString()))}).then(w);return t.then.bind(t)}return f(e,[...r,i])},set(t,n,i){h(a);const[s,o]=m(i);return v(e,{type:"SET",path:[...r,n].map((e=>e.toString())),value:s},o).then(w)},apply(n,i,s){h(a);const o=r[r.length-1];if(o===t)return v(e,{type:"ENDPOINT"}).then(w);if("bind"===o)return f(e,r.slice(0,-1));const[c,u]=d(s);return v(e,{type:"APPLY",path:r.map((e=>e.toString())),argumentList:c},u).then(w)},construct(t,n){h(a);const[i,s]=d(n);return v(e,{type:"CONSTRUCT",path:r.map((e=>e.toString())),argumentList:i},s).then(w)}});return function(e,t){const r=(y.get(t)||0)+1;y.set(t,r),p&&p.register(e,t,e)}(s,e),s}function d(e){const t=e.map(m);return[t.map((e=>e[0])),(r=t.map((e=>e[1])),Array.prototype.concat.apply([],r))];var r}const g=new WeakMap;function m(e){for(const[t,r]of o)if(r.canHandle(e)){const[n,i]=r.serialize(e);return[{type:"HANDLER",name:t,value:n},i]}return[{type:"RAW",value:e},g.get(e)||[]]}function w(e){switch(e.type){case"HANDLER":return o.get(e.name).deserialize(e.value);case"RAW":return e.value}}function v(e,t,r){return new Promise((n=>{const i=new Array(4).fill(0).map((()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16))).join("-");e.addEventListener("message",(function t(r){r.data&&r.data.id&&r.data.id===i&&(e.removeEventListener("message",t),n(r.data))})),e.start&&e.start(),e.postMessage(Object.assign({id:i},t),r)}))}r(97912);
/*! OpenPGP.js v6.0.0-alpha.0 - 2023-12-12 - this is LGPL licensed code, see LICENSE/our website https://openpgpjs.org/ for more information. */
const b="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},k=Symbol("doneWritingPromise"),A=Symbol("doneWritingResolve"),E=Symbol("doneWritingReject"),S=Symbol("readingIndex");class x extends Array{constructor(){super(),Object.setPrototypeOf(this,x.prototype),this[k]=new Promise(((e,t)=>{this[A]=e,this[E]=t})),this[k].catch((()=>{}))}}function K(e){return e&&e.getReader&&Array.isArray(e)}function P(e){if(!K(e)){const t=e.getWriter(),r=t.releaseLock;return t.releaseLock=()=>{t.closed.catch((function(){})),r.call(t)},t}this.stream=e}x.prototype.getReader=function(){return void 0===this[S]&&(this[S]=0),{read:async()=>(await this[k],this[S]===this.length?{value:void 0,done:!0}:{value:this[this[S]++],done:!1})}},x.prototype.readToEnd=async function(e){await this[k];const t=e(this.slice(this[S]));return this.length=0,t},x.prototype.clone=function(){const e=new x;return e[k]=this[k].then((()=>{e.push(...this)})),e},P.prototype.write=async function(e){this.stream.push(e)},P.prototype.close=async function(){this.stream[A]()},P.prototype.abort=async function(e){return this.stream[E](e),e},P.prototype.releaseLock=function(){};const D=null,U=null,C=null;function I(e){return K(e)?"array":b.ReadableStream&&b.ReadableStream.prototype.isPrototypeOf(e)?"web":!(!e||!e.getReader)&&"web-like"}function _(e){return Uint8Array.prototype.isPrototypeOf(e)}function T(e){if(1===e.length)return e[0];let t=0;for(let r=0;r<e.length;r++){if(!_(e[r]))throw Error("concatUint8Array: Data must be in the form of a Uint8Array");t+=e[r].length}const r=new Uint8Array(t);let n=0;return e.forEach((function(e){r.set(e,n),n+=e.length})),r}"object"==typeof b.process&&b.process.versions;const R=new WeakSet,M=Symbol("externalBuffer");function O(e){if(this.stream=e,e[M]&&(this[M]=e[M].slice()),K(e)){const t=e.getReader();return this._read=t.read.bind(t),this._releaseLock=()=>{},void(this._cancel=()=>{})}let t=I(e);if("node"===t&&(e=C(e)),t){const t=e.getReader();return this._read=t.read.bind(t),this._releaseLock=()=>{t.closed.catch((function(){})),t.releaseLock()},void(this._cancel=t.cancel.bind(t))}let r=!1;this._read=async()=>r||R.has(e)?{value:void 0,done:!0}:(r=!0,{value:e,done:!1}),this._releaseLock=()=>{if(r)try{R.add(e)}catch(e){}}}function B(e){let t=I(e);return"node"===t?C(e):t?e:new ReadableStream({start(t){t.enqueue(e),t.close()}})}function L(e){if(I(e))return e;const t=new x;return(async()=>{const r=ee(t);await r.write(e),await r.close()})(),t}function N(e){return e.some((e=>I(e)&&!K(e)))?function(e){e=e.map(B);const t=z((async function(e){await Promise.all(n.map((t=>Q(t,e))))}));let r=Promise.resolve();const n=e.map(((n,i)=>q(n,((n,a)=>(r=r.then((()=>F(n,t.writable,{preventClose:i!==e.length-1}))),r)))));return t.readable}(e):e.some((e=>K(e)))?function(e){const t=new x;let r=Promise.resolve();return e.forEach(((n,i)=>(r=r.then((()=>F(n,t,{preventClose:i!==e.length-1}))),r))),t}(e):"string"==typeof e[0]?e.join(""):T(e)}async function F(e,t,{preventClose:r=!1,preventAbort:n=!1,preventCancel:i=!1}={}){if(I(e)&&!K(e)){e=B(e);try{if(e[M]){const r=ee(t);for(let t=0;t<e[M].length;t++)await r.ready,await r.write(e[M][t]);r.releaseLock()}await e.pipeTo(t,{preventClose:r,preventAbort:n,preventCancel:i})}catch(e){}return}const a=J(e=L(e)),s=ee(t);try{for(;;){await s.ready;const{done:e,value:t}=await a.read();if(e){r||await s.close();break}await s.write(t)}}catch(e){n||await s.abort(e)}finally{a.releaseLock(),s.releaseLock()}}function j(e,t){const r=new TransformStream(t);return F(e,r.writable),r.readable}function z(e){let t,r,n=!1;return{readable:new ReadableStream({start(e){r=e},pull(){t?t():n=!0},cancel:e},{highWaterMark:0}),writable:new WritableStream({write:async function(e){r.enqueue(e),n?n=!1:(await new Promise((e=>{t=e})),t=null)},close:r.close.bind(r),abort:r.error.bind(r)})}}function H(e,t=(()=>{}),r=(()=>{})){if(K(e)){const n=new x;return(async()=>{const i=ee(n);try{const n=await X(e),a=t(n),s=r();let o;o=void 0!==a&&void 0!==s?N([a,s]):void 0!==a?a:s,await i.write(o),await i.close()}catch(e){await i.abort(e)}})(),n}if(I(e))return j(e,{async transform(e,r){try{const n=await t(e);void 0!==n&&r.enqueue(n)}catch(e){r.error(e)}},async flush(e){try{const t=await r();void 0!==t&&e.enqueue(t)}catch(t){e.error(t)}}});const n=t(e),i=r();return void 0!==n&&void 0!==i?N([n,i]):void 0!==n?n:i}function q(e,t){if(I(e)&&!K(e)){let r;const n=new TransformStream({start(e){r=e}}),i=F(e,n.writable),a=z((async function(e){r.error(e),await i,await new Promise(setTimeout)}));return t(n.readable,a.writable),a.readable}e=L(e);const r=new x;return t(e,r),r}function G(e,t){let r;const n=q(e,((e,i)=>{const a=J(e);a.remainder=()=>(a.releaseLock(),F(e,i),n),r=t(a)}));return r}function V(e){if(K(e))return e.clone();if(I(e)){const t=function(e){if(K(e))throw Error("ArrayStream cannot be tee()d, use clone() instead");if(I(e)){const t=B(e).tee();return t[0][M]=t[1][M]=e[M],t}return[Y(e),Y(e)]}(e);return $(e,t[0]),t[1]}return Y(e)}function W(e){return K(e)?V(e):I(e)?new ReadableStream({start(t){const r=q(e,(async(e,r)=>{const n=J(e),i=ee(r);try{for(;;){await i.ready;const{done:r,value:a}=await n.read();if(r){try{t.close()}catch(e){}return void await i.close()}try{t.enqueue(a)}catch(e){}await i.write(a)}}catch(e){t.error(e),await i.abort(e)}}));$(e,r)}}):Y(e)}function $(e,t){Object.entries(Object.getOwnPropertyDescriptors(e.constructor.prototype)).forEach((([r,n])=>{"constructor"!==r&&(n.value?n.value=n.value.bind(t):n.get=n.get.bind(t),Object.defineProperty(e,r,n))}))}function Y(e,t=0,r=1/0){if(K(e))throw Error("Not implemented");if(I(e)){if(t>=0&&r>=0){let n=0;return j(e,{transform(e,i){n<r?(n+e.length>=t&&i.enqueue(Y(e,Math.max(t-n,0),r-n)),n+=e.length):i.terminate()}})}if(t<0&&(r<0||r===1/0)){let n=[];return H(e,(e=>{e.length>=-t?n=[e]:n.push(e)}),(()=>Y(N(n),t,r)))}if(0===t&&r<0){let n;return H(e,(e=>{const i=n?N([n,e]):e;if(i.length>=-r)return n=Y(i,r),Y(i,t,r);n=i}))}return console.warn(`stream.slice(input, ${t}, ${r}) not implemented efficiently.`),Z((async()=>Y(await X(e),t,r)))}return e[M]&&(e=N(e[M].concat([e]))),_(e)&&!D?(r===1/0&&(r=e.length),e.subarray(t,r)):e.slice(t,r)}async function X(e,t=N){return K(e)?e.readToEnd(t):I(e)?J(e).readToEnd(t):e}async function Q(e,t){if(I(e)){if(e.cancel){const r=await e.cancel(t);return await new Promise(setTimeout),r}if(e.destroy)return e.destroy(t),await new Promise(setTimeout),t}}function Z(e){const t=new x;return(async()=>{const r=ee(t);try{await r.write(await e()),await r.close()}catch(e){await r.abort(e)}})(),t}function J(e){return new O(e)}function ee(e){return new P(e)}O.prototype.read=async function(){return this[M]&&this[M].length?{done:!1,value:this[M].shift()}:this._read()},O.prototype.releaseLock=function(){this[M]&&(this.stream[M]=this[M]),this._releaseLock()},O.prototype.cancel=function(e){return this._cancel(e)},O.prototype.readLine=async function(){let e,t=[];for(;!e;){let{done:r,value:n}=await this.read();if(n+="",r)return t.length?N(t):void 0;const i=n.indexOf("\n")+1;i&&(e=N(t.concat(n.substr(0,i))),t=[]),i!==n.length&&t.push(n.substr(i))}return this.unshift(...t),e},O.prototype.readByte=async function(){const{done:e,value:t}=await this.read();if(e)return;const r=t[0];return this.unshift(Y(t,1)),r},O.prototype.readBytes=async function(e){const t=[];let r=0;for(;;){const{done:n,value:i}=await this.read();if(n)return t.length?N(t):void 0;if(t.push(i),r+=i.length,r>=e){const r=N(t);return this.unshift(Y(r,e)),Y(r,0,e)}}},O.prototype.peekBytes=async function(e){const t=await this.readBytes(e);return this.unshift(t),t},O.prototype.unshift=function(...e){this[M]||(this[M]=[]),1===e.length&&_(e[0])&&this[M].length&&e[0].length&&this[M][0].byteOffset>=e[0].length?this[M][0]=new Uint8Array(this[M][0].buffer,this[M][0].byteOffset-e[0].length,this[M][0].byteLength+e[0].length):this[M].unshift(...e.filter((e=>e&&e.length)))},O.prototype.readToEnd=async function(e=N){const t=[];for(;;){const{done:e,value:r}=await this.read();if(e)break;t.push(r)}return e(t)};const te=Symbol("byValue");var re={curve:{p256:"p256","P-256":"p256",secp256r1:"p256",prime256v1:"p256","1.2.840.10045.3.1.7":"p256","2a8648ce3d030107":"p256","2A8648CE3D030107":"p256",p384:"p384","P-384":"p384",secp384r1:"p384","1.3.132.0.34":"p384","2b81040022":"p384","2B81040022":"p384",p521:"p521","P-521":"p521",secp521r1:"p521","1.3.132.0.35":"p521","2b81040023":"p521","2B81040023":"p521",secp256k1:"secp256k1","1.3.132.0.10":"secp256k1","2b8104000a":"secp256k1","2B8104000A":"secp256k1",ed25519Legacy:"ed25519Legacy",ED25519:"ed25519Legacy",ed25519:"ed25519Legacy",Ed25519:"ed25519Legacy","1.3.6.1.4.1.11591.15.1":"ed25519Legacy","2b06010401da470f01":"ed25519Legacy","2B06010401DA470F01":"ed25519Legacy",curve25519Legacy:"curve25519Legacy",X25519:"curve25519Legacy",cv25519:"curve25519Legacy",curve25519:"curve25519Legacy",Curve25519:"curve25519Legacy","1.3.6.1.4.1.3029.1.5.1":"curve25519Legacy","2b060104019755010501":"curve25519Legacy","2B060104019755010501":"curve25519Legacy",brainpoolP256r1:"brainpoolP256r1","1.3.36.3.3.2.8.1.1.7":"brainpoolP256r1","2b2403030208010107":"brainpoolP256r1","2B2403030208010107":"brainpoolP256r1",brainpoolP384r1:"brainpoolP384r1","1.3.36.3.3.2.8.1.1.11":"brainpoolP384r1","2b240303020801010b":"brainpoolP384r1","2B240303020801010B":"brainpoolP384r1",brainpoolP512r1:"brainpoolP512r1","1.3.36.3.3.2.8.1.1.13":"brainpoolP512r1","2b240303020801010d":"brainpoolP512r1","2B240303020801010D":"brainpoolP512r1"},kdfFlags:{replace_fingerprint:1,replace_kdf_params:2},s2k:{simple:0,salted:1,iterated:3,argon2:4,gnu:101},publicKey:{rsaEncryptSign:1,rsaEncrypt:2,rsaSign:3,elgamal:16,dsa:17,ecdh:18,ecdsa:19,eddsaLegacy:22,aedh:23,aedsa:24,x25519:25,x448:26,ed25519:27,ed448:28,aead:100,hmac:101},symmetric:{idea:1,tripledes:2,cast5:3,blowfish:4,aes128:7,aes192:8,aes256:9,twofish:10},compression:{uncompressed:0,zip:1,zlib:2,bzip2:3},hash:{md5:1,sha1:2,ripemd:3,sha256:8,sha384:9,sha512:10,sha224:11,sha3_256:12,sha3_512:14},webHash:{"SHA-1":2,"SHA-256":8,"SHA-384":9,"SHA-512":10},aead:{eax:1,ocb:2,gcm:3,experimentalGCM:100},packet:{publicKeyEncryptedSessionKey:1,signature:2,symEncryptedSessionKey:3,onePassSignature:4,secretKey:5,publicKey:6,secretSubkey:7,compressedData:8,symmetricallyEncryptedData:9,marker:10,literalData:11,trust:12,userID:13,publicSubkey:14,userAttribute:17,symEncryptedIntegrityProtectedData:18,modificationDetectionCode:19,aeadEncryptedData:20,padding:21},literal:{binary:98,text:116,utf8:117,mime:109},signature:{binary:0,text:1,standalone:2,certGeneric:16,certPersona:17,certCasual:18,certPositive:19,certRevocation:48,subkeyBinding:24,keyBinding:25,key:31,keyRevocation:32,subkeyRevocation:40,timestamp:64,thirdParty:80},signatureSubpacket:{signatureCreationTime:2,signatureExpirationTime:3,exportableCertification:4,trustSignature:5,regularExpression:6,revocable:7,keyExpirationTime:9,placeholderBackwardsCompatibility:10,preferredSymmetricAlgorithms:11,revocationKey:12,issuerKeyID:16,notationData:20,preferredHashAlgorithms:21,preferredCompressionAlgorithms:22,keyServerPreferences:23,preferredKeyServer:24,primaryUserID:25,policyURI:26,keyFlags:27,signersUserID:28,reasonForRevocation:29,features:30,signatureTarget:31,embeddedSignature:32,issuerFingerprint:33,preferredAEADAlgorithms:34,preferredCipherSuites:39},keyFlags:{certifyKeys:1,signData:2,encryptCommunication:4,encryptStorage:8,splitPrivateKey:16,authentication:32,forwardedCommunication:64,sharedPrivateKey:128},armor:{multipartSection:0,multipartLast:1,signed:2,message:3,publicKey:4,privateKey:5,signature:6},reasonForRevocation:{noReason:0,keySuperseded:1,keyCompromised:2,keyRetired:3,userIDInvalid:32},features:{modificationDetection:1,aead:2,v5Keys:4,seipdv2:8},write:function(e,t){if("number"==typeof t&&(t=this.read(e,t)),void 0!==e[t])return e[t];throw Error("Invalid enum value.")},read:function(e,t){if(e[te]||(e[te]=[],Object.entries(e).forEach((([t,r])=>{e[te][r]=t}))),void 0!==e[te][t])return e[te][t];throw Error("Invalid enum value.")}},ne={preferredHashAlgorithm:re.hash.sha256,preferredSymmetricAlgorithm:re.symmetric.aes256,preferredCompressionAlgorithm:re.compression.uncompressed,deflateLevel:6,aeadProtect:!1,preferredAEADAlgorithm:re.aead.gcm,aeadChunkSizeByte:12,v6Keys:!1,s2kType:re.s2k.iterated,s2kIterationCountByte:224,s2kArgon2Params:{passes:3,parallelism:4,memoryExponent:16},allowUnauthenticatedMessages:!1,allowUnauthenticatedStream:!1,allowForwardedMessages:!1,minRSABits:2047,passwordCollisionCheck:!1,revocationsExpire:!1,allowInsecureDecryptionWithSigningKeys:!1,allowInsecureVerificationWithReformattedKeys:!1,allowMissingKeyFlags:!1,constantTimePKCS1Decryption:!1,constantTimePKCS1DecryptionSupportedSymmetricAlgorithms:new Set([re.symmetric.aes128,re.symmetric.aes192,re.symmetric.aes256]),ignoreUnsupportedPackets:!0,ignoreMalformedPackets:!1,additionalAllowedPackets:[],showVersion:!1,showComment:!1,versionString:"OpenPGP.js 6.0.0-alpha.0",commentString:"https://openpgpjs.org",maxUserIDLength:5120,knownNotations:[],useEllipticFallback:!0,rejectHashAlgorithms:new Set([re.hash.md5,re.hash.ripemd]),rejectMessageHashAlgorithms:new Set([re.hash.md5,re.hash.ripemd,re.hash.sha1]),rejectPublicKeyAlgorithms:new Set([re.publicKey.elgamal,re.publicKey.dsa]),rejectCurves:new Set([re.curve.secp256k1]),checkEdDSAFaultySignatures:!0};const ie=(()=>{try{return!1}catch(e){}return!1})(),ae={isString:function(e){return"string"==typeof e||e instanceof String},nodeRequire:()=>{},isArray:function(e){return e instanceof Array},isUint8Array:_,isStream:I,getBigInteger:async function(){if("undefined"!=typeof BigInt){const{default:e}=await r.e(2772).then(r.bind(r,32772));return e}{const{default:e}=await r.e(1016).then(r.bind(r,31016));return e}},getNobleCurve:async(e,t)=>{if(!ne.useEllipticFallback)throw Error("This curve is only supported in the full build of OpenPGP.js");const{nobleCurves:n}=await r.e(4584).then(r.bind(r,74584));switch(e){case re.publicKey.ecdh:case re.publicKey.ecdsa:{const e=n.get(t);if(!e)throw Error("Unsupported curve");return e}case re.publicKey.x448:return n.get("x448");case re.publicKey.ed448:return n.get("ed448");default:throw Error("Unsupported curve")}},readNumber:function(e){let t=0;for(let r=0;r<e.length;r++)t+=256**r*e[e.length-1-r];return t},writeNumber:function(e,t){const r=new Uint8Array(t);for(let n=0;n<t;n++)r[n]=e>>8*(t-n-1)&255;return r},readDate:function(e){const t=ae.readNumber(e);return new Date(1e3*t)},writeDate:function(e){const t=Math.floor(e.getTime()/1e3);return ae.writeNumber(t,4)},normalizeDate:function(e=Date.now()){return null===e||e===1/0?e:new Date(1e3*Math.floor(+e/1e3))},readMPI:function(e){const t=7+(e[0]<<8|e[1])>>>3;return ae.readExactSubarray(e,2,2+t)},readExactSubarray:function(e,t,r){if(e.length<r-t)throw Error("Input array too short");return e.subarray(t,r)},leftPad(e,t){const r=new Uint8Array(t),n=t-e.length;return r.set(e,n),r},uint8ArrayToMPI:function(e){const t=ae.uint8ArrayBitLength(e);if(0===t)throw Error("Zero MPI");const r=e.subarray(e.length-Math.ceil(t/8)),n=new Uint8Array([(65280&t)>>8,255&t]);return ae.concatUint8Array([n,r])},uint8ArrayBitLength:function(e){let t;for(t=0;t<e.length&&0===e[t];t++);if(t===e.length)return 0;const r=e.subarray(t);return 8*(r.length-1)+ae.nbits(r[0])},hexToUint8Array:function(e){const t=new Uint8Array(e.length>>1);for(let r=0;r<e.length>>1;r++)t[r]=parseInt(e.substr(r<<1,2),16);return t},uint8ArrayToHex:function(e){const t="0123456789abcdef";let r="";return e.forEach((e=>{r+=t[e>>4]+t[15&e]})),r},stringToUint8Array:function(e){return H(e,(e=>{if(!ae.isString(e))throw Error("stringToUint8Array: Data must be in the form of a string");const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}))},uint8ArrayToString:function(e){const t=[],r=16384,n=(e=new Uint8Array(e)).length;for(let i=0;i<n;i+=r)t.push(String.fromCharCode.apply(String,e.subarray(i,i+r<n?i+r:n)));return t.join("")},encodeUTF8:function(e){const t=new TextEncoder("utf-8");function r(e,r=!1){return t.encode(e,{stream:!r})}return H(e,r,(()=>r("",!0)))},decodeUTF8:function(e){const t=new TextDecoder("utf-8");function r(e,r=!1){return t.decode(e,{stream:!r})}return H(e,r,(()=>r(new Uint8Array,!0)))},concat:N,concatUint8Array:T,equalsUint8Array:function(e,t){if(!ae.isUint8Array(e)||!ae.isUint8Array(t))throw Error("Data must be in the form of a Uint8Array");if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0},writeChecksum:function(e){let t=0;for(let r=0;r<e.length;r++)t=t+e[r]&65535;return ae.writeNumber(t,2)},printDebug:function(e){ie&&console.log("[OpenPGP.js debug]",e)},printDebugError:function(e){ie&&console.error("[OpenPGP.js debug]",e)},nbits:function(e){let t=1,r=e>>>16;return 0!==r&&(e=r,t+=16),r=e>>8,0!==r&&(e=r,t+=8),r=e>>4,0!==r&&(e=r,t+=4),r=e>>2,0!==r&&(e=r,t+=2),r=e>>1,0!==r&&(e=r,t+=1),t},double:function(e){const t=new Uint8Array(e.length),r=e.length-1;for(let n=0;n<r;n++)t[n]=e[n]<<1^e[n+1]>>7;return t[r]=e[r]<<1^135*(e[0]>>7),t},shiftRight:function(e,t){if(t)for(let r=e.length-1;r>=0;r--)e[r]>>=t,r>0&&(e[r]|=e[r-1]<<8-t);return e},getWebCrypto:function(){return void 0!==b&&b.crypto&&b.crypto.subtle},getNodeCrypto:function(){return this.nodeRequire("crypto")},getNodeZlib:function(){return this.nodeRequire("zlib")},getNodeBuffer:function(){return(this.nodeRequire("buffer")||{}).Buffer},getHardwareConcurrency:function(){return"undefined"!=typeof navigator?navigator.hardwareConcurrency||1:this.nodeRequire("os").cpus().length},isEmailAddress:function(e){return!!ae.isString(e)&&/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+([a-zA-Z]{2,}[0-9]*|xn--[a-zA-Z\-0-9]+)))$/.test(e)},canonicalizeEOL:function(e){let t=!1;return H(e,(e=>{let r;t&&(e=ae.concatUint8Array([new Uint8Array([13]),e])),13===e[e.length-1]?(t=!0,e=e.subarray(0,-1)):t=!1;const n=[];for(let t=0;r=e.indexOf(10,t)+1,r;t=r)13!==e[r-2]&&n.push(r);if(!n.length)return e;const i=new Uint8Array(e.length+n.length);let a=0;for(let t=0;t<n.length;t++){const r=e.subarray(n[t-1]||0,n[t]);i.set(r,a),a+=r.length,i[a-1]=13,i[a]=10,a++}return i.set(e.subarray(n[n.length-1]||0),a),i}),(()=>t?new Uint8Array([13]):void 0))},nativeEOL:function(e){let t=!1;return H(e,(e=>{let r;13===(e=t&&10!==e[0]?ae.concatUint8Array([new Uint8Array([13]),e]):new Uint8Array(e))[e.length-1]?(t=!0,e=e.subarray(0,-1)):t=!1;let n=0;for(let t=0;t!==e.length;t=r){r=e.indexOf(13,t)+1,r||(r=e.length);const i=r-(10===e[r]?1:0);t&&e.copyWithin(n,t,i),n+=i-t}return e.subarray(0,n)}),(()=>t?new Uint8Array([13]):void 0))},removeTrailingSpaces:function(e){return e.split("\n").map((e=>{let t=e.length-1;for(;t>=0&&(" "===e[t]||"\t"===e[t]||"\r"===e[t]);t--);return e.substr(0,t+1)})).join("\n")},wrapError:function(e,t){if(!t)return Error(e);try{t.message=e+": "+t.message}catch(e){}return t},constructAllowedPackets:function(e){const t={};return e.forEach((e=>{if(!e.tag)throw Error("Invalid input: expected a packet class");t[e.tag]=e})),t},anyPromise:function(e){return new Promise((async(t,r)=>{let n;await Promise.all(e.map((async e=>{try{t(await e)}catch(e){n=e}}))),r(n)}))},selectUint8Array:function(e,t,r){const n=Math.max(t.length,r.length),i=new Uint8Array(n);let a=0;for(let n=0;n<i.length;n++)i[n]=t[n]&256-e|r[n]&255+e,a+=e&n<t.length|1-e&n<r.length;return i.subarray(0,a)},selectUint8:function(e,t,r){return t&256-e|r&255+e},isAES:function(e){return e===re.symmetric.aes128||e===re.symmetric.aes192||e===re.symmetric.aes256}},se=ae.getNodeBuffer();let oe,ce;function ue(e){let t=new Uint8Array;return H(e,(e=>{t=ae.concatUint8Array([t,e]);const r=[],n=Math.floor(t.length/45),i=45*n,a=oe(t.subarray(0,i));for(let e=0;e<n;e++)r.push(a.substr(60*e,60)),r.push("\n");return t=t.subarray(i),r.join("")}),(()=>t.length?oe(t)+"\n":""))}function he(e){let t="";return H(e,(e=>{t+=e;let r=0;const n=[" ","\t","\r","\n"];for(let e=0;e<n.length;e++){const i=n[e];for(let e=t.indexOf(i);-1!==e;e=t.indexOf(i,e+1))r++}let i=t.length;for(;i>0&&(i-r)%4!=0;i--)n.includes(t[i])&&r--;const a=ce(t.substr(0,i));return t=t.substr(i),a}),(()=>ce(t)))}function le(e){return he(e.replace(/-/g,"+").replace(/_/g,"/"))}function ye(e,t){let r=ue(e).replace(/[\r\n]/g,"");return t&&(r=r.replace(/[+]/g,"-").replace(/[/]/g,"_").replace(/[=]/g,"")),r}function pe(e){const t=e.match(/^-----BEGIN PGP (MESSAGE, PART \d+\/\d+|MESSAGE, PART \d+|SIGNED MESSAGE|MESSAGE|PUBLIC KEY BLOCK|PRIVATE KEY BLOCK|SIGNATURE)-----$/m);if(!t)throw Error("Unknown ASCII armor type");return/MESSAGE, PART \d+\/\d+/.test(t[1])?re.armor.multipartSection:/MESSAGE, PART \d+/.test(t[1])?re.armor.multipartLast:/SIGNED MESSAGE/.test(t[1])?re.armor.signed:/MESSAGE/.test(t[1])?re.armor.message:/PUBLIC KEY BLOCK/.test(t[1])?re.armor.publicKey:/PRIVATE KEY BLOCK/.test(t[1])?re.armor.privateKey:/SIGNATURE/.test(t[1])?re.armor.signature:void 0}function fe(e,t){let r="";return t.showVersion&&(r+="Version: "+t.versionString+"\n"),t.showComment&&(r+="Comment: "+t.commentString+"\n"),e&&(r+="Comment: "+e+"\n"),r+="\n",r}function de(e){for(let t=0;t<e.length;t++)/^([^\s:]|[^\s:][^:]*[^\s:]): .+$/.test(e[t])||ae.printDebugError(Error("Improperly formatted armor header: "+e[t])),/^(Version|Comment|MessageID|Hash|Charset): .+$/.test(e[t])||ae.printDebugError(Error("Unknown header: "+e[t]))}function ge(e){let t=e;const r=e.lastIndexOf("=");return r>=0&&r!==e.length-1&&(t=e.slice(0,r)),t}function me(e){return new Promise((async(t,r)=>{try{const n=/^-----[^-]+-----$/m,i=/^[ \f\r\t\u00a0\u2000-\u200a\u202f\u205f\u3000]*$/;let a;const s=[];let o,c,u=s,h=[];const l=he(q(e,(async(e,y)=>{const p=J(e);try{for(;;){let e=await p.readLine();if(void 0===e)throw Error("Misformed armored text");if(e=ae.removeTrailingSpaces(e.replace(/[\r\n]/g,"")),a)if(o)c||a!==re.armor.signed||(n.test(e)?(h=h.join("\r\n"),c=!0,de(u),u=[],o=!1):h.push(e.replace(/^- /,"")));else if(n.test(e)&&r(Error("Mandatory blank line missing between armor headers and armor data")),i.test(e)){if(de(u),o=!0,c||a!==re.armor.signed){t({text:h,data:l,headers:s,type:a});break}}else u.push(e);else n.test(e)&&(a=pe(e))}}catch(e){return void r(e)}const f=ee(y);try{for(;;){await f.ready;const{done:e,value:t}=await p.read();if(e)throw Error("Misformed armored text");const r=t+"";if(-1!==r.indexOf("=")||-1!==r.indexOf("-")){let e=await p.readToEnd();e.length||(e=""),e=r+e,e=ae.removeTrailingSpaces(e.replace(/\r/g,""));const t=e.split(n);if(1===t.length)throw Error("Misformed armored text");const i=ge(t[0].slice(0,-1));await f.write(i);break}await f.write(r)}await f.ready,await f.close()}catch(e){await f.abort(e)}})))}catch(e){r(e)}})).then((async e=>(K(e.data)&&(e.data=await X(e.data)),e)))}function we(e,t,r,n,i,a=ne){let s,o;e===re.armor.signed&&(s=t.text,o=t.hash,t=t.data);const c=[];switch(e){case re.armor.multipartSection:c.push("-----BEGIN PGP MESSAGE, PART "+r+"/"+n+"-----\n"),c.push(fe(i,a)),c.push(ue(t)),c.push("-----END PGP MESSAGE, PART "+r+"/"+n+"-----\n");break;case re.armor.multipartLast:c.push("-----BEGIN PGP MESSAGE, PART "+r+"-----\n"),c.push(fe(i,a)),c.push(ue(t)),c.push("-----END PGP MESSAGE, PART "+r+"-----\n");break;case re.armor.signed:c.push("-----BEGIN PGP SIGNED MESSAGE-----\n"),c.push(o?`Hash: ${o}\n\n`:"\n"),c.push(s.replace(/^-/gm,"- -")),c.push("\n-----BEGIN PGP SIGNATURE-----\n"),c.push(fe(i,a)),c.push(ue(t)),c.push("-----END PGP SIGNATURE-----\n");break;case re.armor.message:c.push("-----BEGIN PGP MESSAGE-----\n"),c.push(fe(i,a)),c.push(ue(t)),c.push("-----END PGP MESSAGE-----\n");break;case re.armor.publicKey:c.push("-----BEGIN PGP PUBLIC KEY BLOCK-----\n"),c.push(fe(i,a)),c.push(ue(t)),c.push("-----END PGP PUBLIC KEY BLOCK-----\n");break;case re.armor.privateKey:c.push("-----BEGIN PGP PRIVATE KEY BLOCK-----\n"),c.push(fe(i,a)),c.push(ue(t)),c.push("-----END PGP PRIVATE KEY BLOCK-----\n");break;case re.armor.signature:c.push("-----BEGIN PGP SIGNATURE-----\n"),c.push(fe(i,a)),c.push(ue(t)),c.push("-----END PGP SIGNATURE-----\n")}return ae.concat(c)}se?(oe=e=>se.from(e).toString("base64"),ce=e=>{const t=se.from(e,"base64");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}):(oe=e=>btoa(ae.uint8ArrayToString(e)),ce=e=>ae.stringToUint8Array(atob(e)));var ve=function(){var e,t,r=!1;function n(r,n){var i=e[(t[r]+t[n])%255];return 0!==r&&0!==n||(i=0),i}var i,a,s,o,c=!1;function u(){function u(r){var n,i,a;for(i=a=function(r){var n=e[255-t[r]];return 0===r&&(n=0),n}(r),n=0;n<4;n++)a^=i=255&(i<<1|i>>>7);return 99^a}r||function(){e=[],t=[];var n,i,a=1;for(n=0;n<255;n++)e[n]=a,i=128&a,a<<=1,a&=255,128===i&&(a^=27),a^=e[n],t[e[n]]=n;e[255]=e[0],t[0]=0,r=!0}(),i=[],a=[],s=[[],[],[],[]],o=[[],[],[],[]];for(var h=0;h<256;h++){var l=u(h);i[h]=l,a[l]=h,s[0][h]=n(2,l)<<24|l<<16|l<<8|n(3,l),o[0][l]=n(14,h)<<24|n(9,h)<<16|n(13,h)<<8|n(11,h);for(var y=1;y<4;y++)s[y][h]=s[y-1][h]>>>8|s[y-1][h]<<24,o[y][l]=o[y-1][l]>>>8|o[y-1][l]<<24}c=!0}var h=function(e,t){c||u();var r=new Uint32Array(t);r.set(i,512),r.set(a,768);for(var n=0;n<4;n++)r.set(s[n],4096+1024*n>>2),r.set(o[n],8192+1024*n>>2);var h=function(e,t,r){"use asm";var n=0,i=0,a=0,s=0,o=0,c=0,u=0,h=0,l=0,y=0,p=0,f=0,d=0,g=0,m=0,w=0,v=0,b=0,k=0,A=0,E=0;var S=new e.Uint32Array(r),x=new e.Uint8Array(r);function K(e,t,r,o,c,u,h,l){e=e|0;t=t|0;r=r|0;o=o|0;c=c|0;u=u|0;h=h|0;l=l|0;var y=0,p=0,f=0,d=0,g=0,m=0,w=0,v=0;y=r|0x400,p=r|0x800,f=r|0xc00;c=c^S[(e|0)>>2],u=u^S[(e|4)>>2],h=h^S[(e|8)>>2],l=l^S[(e|12)>>2];for(v=16;(v|0)<=o<<4;v=v+16|0){d=S[(r|c>>22&1020)>>2]^S[(y|u>>14&1020)>>2]^S[(p|h>>6&1020)>>2]^S[(f|l<<2&1020)>>2]^S[(e|v|0)>>2],g=S[(r|u>>22&1020)>>2]^S[(y|h>>14&1020)>>2]^S[(p|l>>6&1020)>>2]^S[(f|c<<2&1020)>>2]^S[(e|v|4)>>2],m=S[(r|h>>22&1020)>>2]^S[(y|l>>14&1020)>>2]^S[(p|c>>6&1020)>>2]^S[(f|u<<2&1020)>>2]^S[(e|v|8)>>2],w=S[(r|l>>22&1020)>>2]^S[(y|c>>14&1020)>>2]^S[(p|u>>6&1020)>>2]^S[(f|h<<2&1020)>>2]^S[(e|v|12)>>2];c=d,u=g,h=m,l=w}n=S[(t|c>>22&1020)>>2]<<24^S[(t|u>>14&1020)>>2]<<16^S[(t|h>>6&1020)>>2]<<8^S[(t|l<<2&1020)>>2]^S[(e|v|0)>>2],i=S[(t|u>>22&1020)>>2]<<24^S[(t|h>>14&1020)>>2]<<16^S[(t|l>>6&1020)>>2]<<8^S[(t|c<<2&1020)>>2]^S[(e|v|4)>>2],a=S[(t|h>>22&1020)>>2]<<24^S[(t|l>>14&1020)>>2]<<16^S[(t|c>>6&1020)>>2]<<8^S[(t|u<<2&1020)>>2]^S[(e|v|8)>>2],s=S[(t|l>>22&1020)>>2]<<24^S[(t|c>>14&1020)>>2]<<16^S[(t|u>>6&1020)>>2]<<8^S[(t|h<<2&1020)>>2]^S[(e|v|12)>>2]}function P(e,t,r,n){e=e|0;t=t|0;r=r|0;n=n|0;K(0x0000,0x0800,0x1000,E,e,t,r,n)}function D(e,t,r,n){e=e|0;t=t|0;r=r|0;n=n|0;var a=0;K(0x0400,0x0c00,0x2000,E,e,n,r,t);a=i,i=s,s=a}function U(e,t,r,l){e=e|0;t=t|0;r=r|0;l=l|0;K(0x0000,0x0800,0x1000,E,o^e,c^t,u^r,h^l);o=n,c=i,u=a,h=s}function C(e,t,r,l){e=e|0;t=t|0;r=r|0;l=l|0;var y=0;K(0x0400,0x0c00,0x2000,E,e,l,r,t);y=i,i=s,s=y;n=n^o,i=i^c,a=a^u,s=s^h;o=e,c=t,u=r,h=l}function I(e,t,r,l){e=e|0;t=t|0;r=r|0;l=l|0;K(0x0000,0x0800,0x1000,E,o,c,u,h);o=n=n^e,c=i=i^t,u=a=a^r,h=s=s^l}function _(e,t,r,l){e=e|0;t=t|0;r=r|0;l=l|0;K(0x0000,0x0800,0x1000,E,o,c,u,h);n=n^e,i=i^t,a=a^r,s=s^l;o=e,c=t,u=r,h=l}function T(e,t,r,l){e=e|0;t=t|0;r=r|0;l=l|0;K(0x0000,0x0800,0x1000,E,o,c,u,h);o=n,c=i,u=a,h=s;n=n^e,i=i^t,a=a^r,s=s^l}function R(e,t,r,o){e=e|0;t=t|0;r=r|0;o=o|0;K(0x0000,0x0800,0x1000,E,l,y,p,f);f=~w&f|w&f+1;p=~m&p|m&p+((f|0)==0);y=~g&y|g&y+((p|0)==0);l=~d&l|d&l+((y|0)==0);n=n^e;i=i^t;a=a^r;s=s^o}function M(e,t,r,n){e=e|0;t=t|0;r=r|0;n=n|0;var i=0,a=0,s=0,l=0,y=0,p=0,f=0,d=0,g=0,m=0;e=e^o,t=t^c,r=r^u,n=n^h;i=v|0,a=b|0,s=k|0,l=A|0;for(;(g|0)<128;g=g+1|0){if(i>>>31){y=y^e,p=p^t,f=f^r,d=d^n}i=i<<1|a>>>31,a=a<<1|s>>>31,s=s<<1|l>>>31,l=l<<1;m=n&1;n=n>>>1|r<<31,r=r>>>1|t<<31,t=t>>>1|e<<31,e=e>>>1;if(m)e=e^0xe1000000}o=y,c=p,u=f,h=d}function O(e){e=e|0;E=e}function B(e,t,r,o){e=e|0;t=t|0;r=r|0;o=o|0;n=e,i=t,a=r,s=o}function L(e,t,r,n){e=e|0;t=t|0;r=r|0;n=n|0;o=e,c=t,u=r,h=n}function N(e,t,r,n){e=e|0;t=t|0;r=r|0;n=n|0;l=e,y=t,p=r,f=n}function F(e,t,r,n){e=e|0;t=t|0;r=r|0;n=n|0;d=e,g=t,m=r,w=n}function j(e,t,r,n){e=e|0;t=t|0;r=r|0;n=n|0;f=~w&f|w&n,p=~m&p|m&r,y=~g&y|g&t,l=~d&l|d&e}function z(e){e=e|0;if(e&15)return-1;x[e|0]=n>>>24,x[e|1]=n>>>16&255,x[e|2]=n>>>8&255,x[e|3]=n&255,x[e|4]=i>>>24,x[e|5]=i>>>16&255,x[e|6]=i>>>8&255,x[e|7]=i&255,x[e|8]=a>>>24,x[e|9]=a>>>16&255,x[e|10]=a>>>8&255,x[e|11]=a&255,x[e|12]=s>>>24,x[e|13]=s>>>16&255,x[e|14]=s>>>8&255,x[e|15]=s&255;return 16}function H(e){e=e|0;if(e&15)return-1;x[e|0]=o>>>24,x[e|1]=o>>>16&255,x[e|2]=o>>>8&255,x[e|3]=o&255,x[e|4]=c>>>24,x[e|5]=c>>>16&255,x[e|6]=c>>>8&255,x[e|7]=c&255,x[e|8]=u>>>24,x[e|9]=u>>>16&255,x[e|10]=u>>>8&255,x[e|11]=u&255,x[e|12]=h>>>24,x[e|13]=h>>>16&255,x[e|14]=h>>>8&255,x[e|15]=h&255;return 16}function q(){P(0,0,0,0);v=n,b=i,k=a,A=s}function G(e,t,r){e=e|0;t=t|0;r=r|0;var o=0;if(t&15)return-1;while((r|0)>=16){W[e&7](x[t|0]<<24|x[t|1]<<16|x[t|2]<<8|x[t|3],x[t|4]<<24|x[t|5]<<16|x[t|6]<<8|x[t|7],x[t|8]<<24|x[t|9]<<16|x[t|10]<<8|x[t|11],x[t|12]<<24|x[t|13]<<16|x[t|14]<<8|x[t|15]);x[t|0]=n>>>24,x[t|1]=n>>>16&255,x[t|2]=n>>>8&255,x[t|3]=n&255,x[t|4]=i>>>24,x[t|5]=i>>>16&255,x[t|6]=i>>>8&255,x[t|7]=i&255,x[t|8]=a>>>24,x[t|9]=a>>>16&255,x[t|10]=a>>>8&255,x[t|11]=a&255,x[t|12]=s>>>24,x[t|13]=s>>>16&255,x[t|14]=s>>>8&255,x[t|15]=s&255;o=o+16|0,t=t+16|0,r=r-16|0}return o|0}function V(e,t,r){e=e|0;t=t|0;r=r|0;var n=0;if(t&15)return-1;while((r|0)>=16){$[e&1](x[t|0]<<24|x[t|1]<<16|x[t|2]<<8|x[t|3],x[t|4]<<24|x[t|5]<<16|x[t|6]<<8|x[t|7],x[t|8]<<24|x[t|9]<<16|x[t|10]<<8|x[t|11],x[t|12]<<24|x[t|13]<<16|x[t|14]<<8|x[t|15]);n=n+16|0,t=t+16|0,r=r-16|0}return n|0}var W=[P,D,U,C,I,_,T,R];var $=[U,M];return{set_rounds:O,set_state:B,set_iv:L,set_nonce:N,set_mask:F,set_counter:j,get_state:z,get_iv:H,gcm_init:q,cipher:G,mac:V}}({Uint8Array,Uint32Array},e,t);return h.set_key=function(e,t,n,a,s,c,u,l,y){var p=r.subarray(0,60),f=r.subarray(256,316);p.set([t,n,a,s,c,u,l,y]);for(var d=e,g=1;d<4*e+28;d++){var m=p[d-1];(d%e==0||8===e&&d%e==4)&&(m=i[m>>>24]<<24^i[m>>>16&255]<<16^i[m>>>8&255]<<8^i[255&m]),d%e==0&&(m=m<<8^m>>>24^g<<24,g=g<<1^(128&g?27:0)),p[d]=p[d-e]^m}for(var w=0;w<d;w+=4)for(var v=0;v<4;v++)m=p[d-(4+w)+(4-v)%4],f[w+v]=w<4||w>=d-4?m:o[0][i[m>>>24]]^o[1][i[m>>>16&255]]^o[2][i[m>>>8&255]]^o[3][i[255&m]];h.set_rounds(e+5)},h};return h.ENC={ECB:0,CBC:2,CFB:4,OFB:6,CTR:7},h.DEC={ECB:1,CBC:3,CFB:5,OFB:6,CTR:7},h.MAC={CBC:0,GCM:1},h.HEAP_DATA=16384,h}();function be(e){return e instanceof Uint8Array}function ke(e,t,r,n,i){const a=e.length-t,s=a<i?a:i;return e.set(r.subarray(n,n+s),t),s}function Ae(...e){const t=e.reduce(((e,t)=>e+t.length),0),r=new Uint8Array(t);let n=0;for(let t=0;t<e.length;t++)r.set(e[t],n),n+=e[t].length;return r}class Ee extends Error{constructor(...e){super(...e)}}class Se extends Error{constructor(...e){super(...e)}}class xe extends Error{constructor(...e){super(...e)}}const Ke=[],Pe=[];class De{constructor(e,t,r=!0,n,i,a){this.pos=0,this.len=0,this.mode=n,this.pos=0,this.len=0,this.key=e,this.iv=t,this.padding=r,this.acquire_asm(i,a)}acquire_asm(e,t){return void 0!==this.heap&&void 0!==this.asm||(this.heap=e||Ke.pop()||function(e,t){const r=65536;return new Uint8Array(new ArrayBuffer(r))}().subarray(ve.HEAP_DATA),this.asm=t||Pe.pop()||new ve(null,this.heap.buffer),this.reset(this.key,this.iv)),{heap:this.heap,asm:this.asm}}release_asm(){void 0!==this.heap&&void 0!==this.asm&&(Ke.push(this.heap),Pe.push(this.asm)),this.heap=void 0,this.asm=void 0}reset(e,t){const{asm:r}=this.acquire_asm(),n=e.length;if(16!==n&&24!==n&&32!==n)throw new Se("illegal key size");const i=new DataView(e.buffer,e.byteOffset,e.byteLength);if(r.set_key(n>>2,i.getUint32(0),i.getUint32(4),i.getUint32(8),i.getUint32(12),n>16?i.getUint32(16):0,n>16?i.getUint32(20):0,n>24?i.getUint32(24):0,n>24?i.getUint32(28):0),void 0!==t){if(16!==t.length)throw new Se("illegal iv size");let e=new DataView(t.buffer,t.byteOffset,t.byteLength);r.set_iv(e.getUint32(0),e.getUint32(4),e.getUint32(8),e.getUint32(12))}else r.set_iv(0,0,0,0)}AES_Encrypt_process(e){if(!be(e))throw new TypeError("data isn't of expected type");let{heap:t,asm:r}=this.acquire_asm(),n=ve.ENC[this.mode],i=ve.HEAP_DATA,a=this.pos,s=this.len,o=0,c=e.length||0,u=0,h=0,l=new Uint8Array(s+c&-16);for(;c>0;)h=ke(t,a+s,e,o,c),s+=h,o+=h,c-=h,h=r.cipher(n,i+a,s),h&&l.set(t.subarray(a,a+h),u),u+=h,h<s?(a+=h,s-=h):(a=0,s=0);return this.pos=a,this.len=s,l}AES_Encrypt_finish(){let{heap:e,asm:t}=this.acquire_asm(),r=ve.ENC[this.mode],n=ve.HEAP_DATA,i=this.pos,a=this.len,s=16-a%16,o=a;if(this.hasOwnProperty("padding")){if(this.padding){for(let t=0;t<s;++t)e[i+a+t]=s;a+=s,o=a}else if(a%16)throw new Se("data length must be a multiple of the block size")}else a+=s;const c=new Uint8Array(o);return a&&t.cipher(r,n+i,a),o&&c.set(e.subarray(i,i+o)),this.pos=0,this.len=0,this.release_asm(),c}AES_Decrypt_process(e){if(!be(e))throw new TypeError("data isn't of expected type");let{heap:t,asm:r}=this.acquire_asm(),n=ve.DEC[this.mode],i=ve.HEAP_DATA,a=this.pos,s=this.len,o=0,c=e.length||0,u=0,h=s+c&-16,l=0,y=0;this.padding&&(l=s+c-h||16,h-=l);const p=new Uint8Array(h);for(;c>0;)y=ke(t,a+s,e,o,c),s+=y,o+=y,c-=y,y=r.cipher(n,i+a,s-(c?0:l)),y&&p.set(t.subarray(a,a+y),u),u+=y,y<s?(a+=y,s-=y):(a=0,s=0);return this.pos=a,this.len=s,p}AES_Decrypt_finish(){let{heap:e,asm:t}=this.acquire_asm(),r=ve.DEC[this.mode],n=ve.HEAP_DATA,i=this.pos,a=this.len,s=a;if(a>0){if(a%16){if(this.hasOwnProperty("padding"))throw new Se("data length must be a multiple of the block size");a+=16-a%16}if(t.cipher(r,n+i,a),this.hasOwnProperty("padding")&&this.padding){let t=e[i+s-1];if(t<1||t>16||t>s)throw new xe("bad padding");let r=0;for(let n=t;n>1;n--)r|=t^e[i+s-n];if(r)throw new xe("bad padding");s-=t}}const o=new Uint8Array(s);return s>0&&o.set(e.subarray(i,i+s)),this.pos=0,this.len=0,this.release_asm(),o}}class Ue{static encrypt(e,t,r=!1){return new Ue(t,r).encrypt(e)}static decrypt(e,t,r=!1){return new Ue(t,r).decrypt(e)}constructor(e,t=!1,r){this.aes=r||new De(e,void 0,t,"ECB")}encrypt(e){return Ae(this.aes.AES_Encrypt_process(e),this.aes.AES_Encrypt_finish())}decrypt(e){return Ae(this.aes.AES_Decrypt_process(e),this.aes.AES_Decrypt_finish())}}function Ce(e){const t=function(e){const t=new Ue(e);this.encrypt=function(e){return t.encrypt(e)},this.decrypt=function(e){return t.decrypt(e)}};return t.blockSize=t.prototype.blockSize=16,t.keySize=t.prototype.keySize=e/8,t}function Ie(e,t,r,n,i,a){const s=[16843776,0,65536,16843780,16842756,66564,4,65536,1024,16843776,16843780,1024,16778244,16842756,16777216,4,1028,16778240,16778240,66560,66560,16842752,16842752,16778244,65540,16777220,16777220,65540,0,1028,66564,16777216,65536,16843780,4,16842752,16843776,16777216,16777216,1024,16842756,65536,66560,16777220,1024,4,16778244,66564,16843780,65540,16842752,16778244,16777220,1028,66564,16843776,1028,16778240,16778240,0,65540,66560,0,16842756],o=[-2146402272,-2147450880,32768,1081376,1048576,32,-2146435040,-2147450848,-2147483616,-2146402272,-2146402304,-2147483648,-2147450880,1048576,32,-2146435040,1081344,1048608,-2147450848,0,-2147483648,32768,1081376,-2146435072,1048608,-2147483616,0,1081344,32800,-2146402304,-2146435072,32800,0,1081376,-2146435040,1048576,-2147450848,-2146435072,-2146402304,32768,-2146435072,-2147450880,32,-2146402272,1081376,32,32768,-2147483648,32800,-2146402304,1048576,-2147483616,1048608,-2147450848,-2147483616,1048608,1081344,0,-2147450880,32800,-2147483648,-2146435040,-2146402272,1081344],c=[520,134349312,0,134348808,134218240,0,131592,134218240,131080,134217736,134217736,131072,134349320,131080,134348800,520,134217728,8,134349312,512,131584,134348800,134348808,131592,134218248,131584,131072,134218248,8,134349320,512,134217728,134349312,134217728,131080,520,131072,134349312,134218240,0,512,131080,134349320,134218240,134217736,512,0,134348808,134218248,131072,134217728,134349320,8,131592,131584,134217736,134348800,134218248,520,134348800,131592,8,134348808,131584],u=[8396801,8321,8321,128,8396928,8388737,8388609,8193,0,8396800,8396800,8396929,129,0,8388736,8388609,1,8192,8388608,8396801,128,8388608,8193,8320,8388737,1,8320,8388736,8192,8396928,8396929,129,8388736,8388609,8396800,8396929,129,0,0,8396800,8320,8388736,8388737,1,8396801,8321,8321,128,8396929,129,1,8192,8388609,8193,8396928,8388737,8193,8320,8388608,8396801,128,8388608,8192,8396928],h=[256,34078976,34078720,1107296512,524288,256,1073741824,34078720,1074266368,524288,33554688,1074266368,1107296512,1107820544,524544,1073741824,33554432,1074266112,1074266112,0,1073742080,1107820800,1107820800,33554688,1107820544,1073742080,0,1107296256,34078976,33554432,1107296256,524544,524288,1107296512,256,33554432,1073741824,34078720,1107296512,1074266368,33554688,1073741824,1107820544,34078976,1074266368,256,33554432,1107820544,1107820800,524544,1107296256,1107820800,34078720,0,1074266112,1107296256,524544,33554688,1073742080,524288,0,1074266112,34078976,1073742080],l=[536870928,541065216,16384,541081616,541065216,16,541081616,4194304,536887296,4210704,4194304,536870928,4194320,536887296,536870912,16400,0,4194320,536887312,16384,4210688,536887312,16,541065232,541065232,0,4210704,541081600,16400,4210688,541081600,536870912,536887296,16,541065232,4210688,541081616,4194304,16400,536870928,4194304,536887296,536870912,16400,536870928,541081616,4210688,541065216,4210704,541081600,0,541065232,16,16384,541065216,4210704,16384,4194320,536887312,0,541081600,536870912,4194320,536887312],y=[2097152,69206018,67110914,0,2048,67110914,2099202,69208064,69208066,2097152,0,67108866,2,67108864,69206018,2050,67110912,2099202,2097154,67110912,67108866,69206016,69208064,2097154,69206016,2048,2050,69208066,2099200,2,67108864,2099200,67108864,2099200,2097152,67110914,67110914,69206018,69206018,2,2097154,67108864,67110912,2097152,69208064,2050,2099202,69208064,2050,67108866,69208066,69206016,2099200,0,2,69208066,0,2099202,69206016,2048,67108866,67110912,2048,2097154],p=[268439616,4096,262144,268701760,268435456,268439616,64,268435456,262208,268697600,268701760,266240,268701696,266304,4096,64,268697600,268435520,268439552,4160,266240,262208,268697664,268701696,4160,0,0,268697664,268435520,268439552,266304,262144,266304,262144,268701696,4096,64,268697664,4096,266304,268439552,64,268435520,268697600,268697664,268435456,262144,268439616,0,268701760,262208,268435520,268697600,268439552,268439616,0,268701760,266240,266240,4160,4160,262208,268435456,268701696];let f,d,g,m,w,v,b,k,A,E,S,x,K,P,D=0,U=t.length;const C=32===e.length?3:9;k=3===C?r?[0,32,2]:[30,-2,-2]:r?[0,32,2,62,30,-2,64,96,2]:[94,62,-2,32,64,2,30,-2,-2],r&&(t=function(e,t){const r=8-e.length%8;let n;if(2===t&&r<8)n=32;else if(1===t)n=r;else{if(t||!(r<8)){if(8===r)return e;throw Error("des: invalid padding")}n=0}const i=new Uint8Array(e.length+r);for(let t=0;t<e.length;t++)i[t]=e[t];for(let t=0;t<r;t++)i[e.length+t]=n;return i}(t,a),U=t.length);let I=new Uint8Array(U),_=0;for(1===n&&(A=i[D++]<<24|i[D++]<<16|i[D++]<<8|i[D++],S=i[D++]<<24|i[D++]<<16|i[D++]<<8|i[D++],D=0);D<U;){for(v=t[D++]<<24|t[D++]<<16|t[D++]<<8|t[D++],b=t[D++]<<24|t[D++]<<16|t[D++]<<8|t[D++],1===n&&(r?(v^=A,b^=S):(E=A,x=S,A=v,S=b)),g=252645135&(v>>>4^b),b^=g,v^=g<<4,g=65535&(v>>>16^b),b^=g,v^=g<<16,g=858993459&(b>>>2^v),v^=g,b^=g<<2,g=16711935&(b>>>8^v),v^=g,b^=g<<8,g=1431655765&(v>>>1^b),b^=g,v^=g<<1,v=v<<1|v>>>31,b=b<<1|b>>>31,d=0;d<C;d+=3){for(K=k[d+1],P=k[d+2],f=k[d];f!==K;f+=P)m=b^e[f],w=(b>>>4|b<<28)^e[f+1],g=v,v=b,b=g^(o[m>>>24&63]|u[m>>>16&63]|l[m>>>8&63]|p[63&m]|s[w>>>24&63]|c[w>>>16&63]|h[w>>>8&63]|y[63&w]);g=v,v=b,b=g}v=v>>>1|v<<31,b=b>>>1|b<<31,g=1431655765&(v>>>1^b),b^=g,v^=g<<1,g=16711935&(b>>>8^v),v^=g,b^=g<<8,g=858993459&(b>>>2^v),v^=g,b^=g<<2,g=65535&(v>>>16^b),b^=g,v^=g<<16,g=252645135&(v>>>4^b),b^=g,v^=g<<4,1===n&&(r?(A=v,S=b):(v^=E,b^=x)),I[_++]=v>>>24,I[_++]=v>>>16&255,I[_++]=v>>>8&255,I[_++]=255&v,I[_++]=b>>>24,I[_++]=b>>>16&255,I[_++]=b>>>8&255,I[_++]=255&b}return r||(I=function(e,t){let r,n=null;if(2===t)r=32;else if(1===t)n=e[e.length-1];else{if(t)throw Error("des: invalid padding");r=0}if(!n){for(n=1;e[e.length-n]===r;)n++;n--}return e.subarray(0,e.length-n)}(I,a)),I}function _e(e){const t=[0,4,536870912,536870916,65536,65540,536936448,536936452,512,516,536871424,536871428,66048,66052,536936960,536936964],r=[0,1,1048576,1048577,67108864,67108865,68157440,68157441,256,257,1048832,1048833,67109120,67109121,68157696,68157697],n=[0,8,2048,2056,16777216,16777224,16779264,16779272,0,8,2048,2056,16777216,16777224,16779264,16779272],i=[0,2097152,134217728,136314880,8192,2105344,134225920,136323072,131072,2228224,134348800,136445952,139264,2236416,134356992,136454144],a=[0,262144,16,262160,0,262144,16,262160,4096,266240,4112,266256,4096,266240,4112,266256],s=[0,1024,32,1056,0,1024,32,1056,33554432,33555456,33554464,33555488,33554432,33555456,33554464,33555488],o=[0,268435456,524288,268959744,2,268435458,524290,268959746,0,268435456,524288,268959744,2,268435458,524290,268959746],c=[0,65536,2048,67584,536870912,536936448,536872960,536938496,131072,196608,133120,198656,537001984,537067520,537004032,537069568],u=[0,262144,0,262144,2,262146,2,262146,33554432,33816576,33554432,33816576,33554434,33816578,33554434,33816578],h=[0,268435456,8,268435464,0,268435456,8,268435464,1024,268436480,1032,268436488,1024,268436480,1032,268436488],l=[0,32,0,32,1048576,1048608,1048576,1048608,8192,8224,8192,8224,1056768,1056800,1056768,1056800],y=[0,16777216,512,16777728,2097152,18874368,2097664,18874880,67108864,83886080,67109376,83886592,69206016,85983232,69206528,85983744],p=[0,4096,134217728,134221824,524288,528384,134742016,134746112,16,4112,134217744,134221840,524304,528400,134742032,134746128],f=[0,4,256,260,0,4,256,260,1,5,257,261,1,5,257,261],d=e.length>8?3:1,g=Array(32*d),m=[0,0,1,1,1,1,1,1,0,1,1,1,1,1,1,0];let w,v,b,k=0,A=0;for(let E=0;E<d;E++){let d=e[k++]<<24|e[k++]<<16|e[k++]<<8|e[k++],E=e[k++]<<24|e[k++]<<16|e[k++]<<8|e[k++];b=252645135&(d>>>4^E),E^=b,d^=b<<4,b=65535&(E>>>-16^d),d^=b,E^=b<<-16,b=858993459&(d>>>2^E),E^=b,d^=b<<2,b=65535&(E>>>-16^d),d^=b,E^=b<<-16,b=1431655765&(d>>>1^E),E^=b,d^=b<<1,b=16711935&(E>>>8^d),d^=b,E^=b<<8,b=1431655765&(d>>>1^E),E^=b,d^=b<<1,b=d<<8|E>>>20&240,d=E<<24|E<<8&16711680|E>>>8&65280|E>>>24&240,E=b;for(let e=0;e<16;e++)m[e]?(d=d<<2|d>>>26,E=E<<2|E>>>26):(d=d<<1|d>>>27,E=E<<1|E>>>27),d&=-15,E&=-15,w=t[d>>>28]|r[d>>>24&15]|n[d>>>20&15]|i[d>>>16&15]|a[d>>>12&15]|s[d>>>8&15]|o[d>>>4&15],v=c[E>>>28]|u[E>>>24&15]|h[E>>>20&15]|l[E>>>16&15]|y[E>>>12&15]|p[E>>>8&15]|f[E>>>4&15],b=65535&(v>>>16^w),g[A++]=w^b,g[A++]=v^b<<16}return g}function Te(e){this.key=[];for(let t=0;t<3;t++)this.key.push(new Uint8Array(e.subarray(8*t,8*t+8)));this.encrypt=function(e){return Ie(_e(this.key[2]),Ie(_e(this.key[1]),Ie(_e(this.key[0]),e,!0,0,null,null),!1,0,null,null),!0,0,null,null)}}function Re(){this.BlockSize=8,this.KeySize=16,this.setKey=function(e){if(this.masking=Array(16),this.rotate=Array(16),this.reset(),e.length!==this.KeySize)throw Error("CAST-128: keys must be 16 bytes");return this.keySchedule(e),!0},this.reset=function(){for(let e=0;e<16;e++)this.masking[e]=0,this.rotate[e]=0},this.getBlockSize=function(){return this.BlockSize},this.encrypt=function(e){const t=Array(e.length);for(let a=0;a<e.length;a+=8){let s,o=e[a]<<24|e[a+1]<<16|e[a+2]<<8|e[a+3],c=e[a+4]<<24|e[a+5]<<16|e[a+6]<<8|e[a+7];s=c,c=o^r(c,this.masking[0],this.rotate[0]),o=s,s=c,c=o^n(c,this.masking[1],this.rotate[1]),o=s,s=c,c=o^i(c,this.masking[2],this.rotate[2]),o=s,s=c,c=o^r(c,this.masking[3],this.rotate[3]),o=s,s=c,c=o^n(c,this.masking[4],this.rotate[4]),o=s,s=c,c=o^i(c,this.masking[5],this.rotate[5]),o=s,s=c,c=o^r(c,this.masking[6],this.rotate[6]),o=s,s=c,c=o^n(c,this.masking[7],this.rotate[7]),o=s,s=c,c=o^i(c,this.masking[8],this.rotate[8]),o=s,s=c,c=o^r(c,this.masking[9],this.rotate[9]),o=s,s=c,c=o^n(c,this.masking[10],this.rotate[10]),o=s,s=c,c=o^i(c,this.masking[11],this.rotate[11]),o=s,s=c,c=o^r(c,this.masking[12],this.rotate[12]),o=s,s=c,c=o^n(c,this.masking[13],this.rotate[13]),o=s,s=c,c=o^i(c,this.masking[14],this.rotate[14]),o=s,s=c,c=o^r(c,this.masking[15],this.rotate[15]),o=s,t[a]=c>>>24&255,t[a+1]=c>>>16&255,t[a+2]=c>>>8&255,t[a+3]=255&c,t[a+4]=o>>>24&255,t[a+5]=o>>>16&255,t[a+6]=o>>>8&255,t[a+7]=255&o}return t},this.decrypt=function(e){const t=Array(e.length);for(let a=0;a<e.length;a+=8){let s,o=e[a]<<24|e[a+1]<<16|e[a+2]<<8|e[a+3],c=e[a+4]<<24|e[a+5]<<16|e[a+6]<<8|e[a+7];s=c,c=o^r(c,this.masking[15],this.rotate[15]),o=s,s=c,c=o^i(c,this.masking[14],this.rotate[14]),o=s,s=c,c=o^n(c,this.masking[13],this.rotate[13]),o=s,s=c,c=o^r(c,this.masking[12],this.rotate[12]),o=s,s=c,c=o^i(c,this.masking[11],this.rotate[11]),o=s,s=c,c=o^n(c,this.masking[10],this.rotate[10]),o=s,s=c,c=o^r(c,this.masking[9],this.rotate[9]),o=s,s=c,c=o^i(c,this.masking[8],this.rotate[8]),o=s,s=c,c=o^n(c,this.masking[7],this.rotate[7]),o=s,s=c,c=o^r(c,this.masking[6],this.rotate[6]),o=s,s=c,c=o^i(c,this.masking[5],this.rotate[5]),o=s,s=c,c=o^n(c,this.masking[4],this.rotate[4]),o=s,s=c,c=o^r(c,this.masking[3],this.rotate[3]),o=s,s=c,c=o^i(c,this.masking[2],this.rotate[2]),o=s,s=c,c=o^n(c,this.masking[1],this.rotate[1]),o=s,s=c,c=o^r(c,this.masking[0],this.rotate[0]),o=s,t[a]=c>>>24&255,t[a+1]=c>>>16&255,t[a+2]=c>>>8&255,t[a+3]=255&c,t[a+4]=o>>>24&255,t[a+5]=o>>16&255,t[a+6]=o>>8&255,t[a+7]=255&o}return t};const e=[,,,,];e[0]=[,,,,],e[0][0]=[4,0,13,15,12,14,8],e[0][1]=[5,2,16,18,17,19,10],e[0][2]=[6,3,23,22,21,20,9],e[0][3]=[7,1,26,25,27,24,11],e[1]=[,,,,],e[1][0]=[0,6,21,23,20,22,16],e[1][1]=[1,4,0,2,1,3,18],e[1][2]=[2,5,7,6,5,4,17],e[1][3]=[3,7,10,9,11,8,19],e[2]=[,,,,],e[2][0]=[4,0,13,15,12,14,8],e[2][1]=[5,2,16,18,17,19,10],e[2][2]=[6,3,23,22,21,20,9],e[2][3]=[7,1,26,25,27,24,11],e[3]=[,,,,],e[3][0]=[0,6,21,23,20,22,16],e[3][1]=[1,4,0,2,1,3,18],e[3][2]=[2,5,7,6,5,4,17],e[3][3]=[3,7,10,9,11,8,19];const t=[,,,,];function r(e,t,r){const n=t+e,i=n<<r|n>>>32-r;return(a[0][i>>>24]^a[1][i>>>16&255])-a[2][i>>>8&255]+a[3][255&i]}function n(e,t,r){const n=t^e,i=n<<r|n>>>32-r;return a[0][i>>>24]-a[1][i>>>16&255]+a[2][i>>>8&255]^a[3][255&i]}function i(e,t,r){const n=t-e,i=n<<r|n>>>32-r;return(a[0][i>>>24]+a[1][i>>>16&255]^a[2][i>>>8&255])-a[3][255&i]}t[0]=[,,,,],t[0][0]=[24,25,23,22,18],t[0][1]=[26,27,21,20,22],t[0][2]=[28,29,19,18,25],t[0][3]=[30,31,17,16,28],t[1]=[,,,,],t[1][0]=[3,2,12,13,8],t[1][1]=[1,0,14,15,13],t[1][2]=[7,6,8,9,3],t[1][3]=[5,4,10,11,7],t[2]=[,,,,],t[2][0]=[19,18,28,29,25],t[2][1]=[17,16,30,31,28],t[2][2]=[23,22,24,25,18],t[2][3]=[21,20,26,27,22],t[3]=[,,,,],t[3][0]=[8,9,7,6,3],t[3][1]=[10,11,5,4,7],t[3][2]=[12,13,3,2,8],t[3][3]=[14,15,1,0,13],this.keySchedule=function(r){const n=[,,,,,,,,],i=Array(32);let s;for(let e=0;e<4;e++)s=4*e,n[e]=r[s]<<24|r[s+1]<<16|r[s+2]<<8|r[s+3];const o=[6,7,4,5];let c,u=0;for(let r=0;r<2;r++)for(let r=0;r<4;r++){for(s=0;s<4;s++){const t=e[r][s];c=n[t[1]],c^=a[4][n[t[2]>>>2]>>>24-8*(3&t[2])&255],c^=a[5][n[t[3]>>>2]>>>24-8*(3&t[3])&255],c^=a[6][n[t[4]>>>2]>>>24-8*(3&t[4])&255],c^=a[7][n[t[5]>>>2]>>>24-8*(3&t[5])&255],c^=a[o[s]][n[t[6]>>>2]>>>24-8*(3&t[6])&255],n[t[0]]=c}for(s=0;s<4;s++){const e=t[r][s];c=a[4][n[e[0]>>>2]>>>24-8*(3&e[0])&255],c^=a[5][n[e[1]>>>2]>>>24-8*(3&e[1])&255],c^=a[6][n[e[2]>>>2]>>>24-8*(3&e[2])&255],c^=a[7][n[e[3]>>>2]>>>24-8*(3&e[3])&255],c^=a[4+s][n[e[4]>>>2]>>>24-8*(3&e[4])&255],i[u]=c,u++}}for(let e=0;e<16;e++)this.masking[e]=i[e],this.rotate[e]=31&i[16+e]};const a=[,,,,,,,,];a[0]=[821772500,2678128395,1810681135,1059425402,505495343,2617265619,1610868032,3483355465,3218386727,2294005173,3791863952,2563806837,1852023008,365126098,3269944861,584384398,677919599,3229601881,4280515016,2002735330,1136869587,3744433750,2289869850,2731719981,2714362070,879511577,1639411079,575934255,717107937,2857637483,576097850,2731753936,1725645e3,2810460463,5111599,767152862,2543075244,1251459544,1383482551,3052681127,3089939183,3612463449,1878520045,1510570527,2189125840,2431448366,582008916,3163445557,1265446783,1354458274,3529918736,3202711853,3073581712,3912963487,3029263377,1275016285,4249207360,2905708351,3304509486,1442611557,3585198765,2712415662,2731849581,3248163920,2283946226,208555832,2766454743,1331405426,1447828783,3315356441,3108627284,2957404670,2981538698,3339933917,1669711173,286233437,1465092821,1782121619,3862771680,710211251,980974943,1651941557,430374111,2051154026,704238805,4128970897,3144820574,2857402727,948965521,3333752299,2227686284,718756367,2269778983,2731643755,718440111,2857816721,3616097120,1113355533,2478022182,410092745,1811985197,1944238868,2696854588,1415722873,1682284203,1060277122,1998114690,1503841958,82706478,2315155686,1068173648,845149890,2167947013,1768146376,1993038550,3566826697,3390574031,940016341,3355073782,2328040721,904371731,1205506512,4094660742,2816623006,825647681,85914773,2857843460,1249926541,1417871568,3287612,3211054559,3126306446,1975924523,1353700161,2814456437,2438597621,1800716203,722146342,2873936343,1151126914,4160483941,2877670899,458611604,2866078500,3483680063,770352098,2652916994,3367839148,3940505011,3585973912,3809620402,718646636,2504206814,2914927912,3631288169,2857486607,2860018678,575749918,2857478043,718488780,2069512688,3548183469,453416197,1106044049,3032691430,52586708,3378514636,3459808877,3211506028,1785789304,218356169,3571399134,3759170522,1194783844,1523787992,3007827094,1975193539,2555452411,1341901877,3045838698,3776907964,3217423946,2802510864,2889438986,1057244207,1636348243,3761863214,1462225785,2632663439,481089165,718503062,24497053,3332243209,3344655856,3655024856,3960371065,1195698900,2971415156,3710176158,2115785917,4027663609,3525578417,2524296189,2745972565,3564906415,1372086093,1452307862,2780501478,1476592880,3389271281,18495466,2378148571,901398090,891748256,3279637769,3157290713,2560960102,1447622437,4284372637,216884176,2086908623,1879786977,3588903153,2242455666,2938092967,3559082096,2810645491,758861177,1121993112,215018983,642190776,4169236812,1196255959,2081185372,3508738393,941322904,4124243163,2877523539,1848581667,2205260958,3180453958,2589345134,3694731276,550028657,2519456284,3789985535,2973870856,2093648313,443148163,46942275,2734146937,1117713533,1115362972,1523183689,3717140224,1551984063],a[1]=[522195092,4010518363,1776537470,960447360,4267822970,4005896314,1435016340,1929119313,2913464185,1310552629,3579470798,3724818106,2579771631,1594623892,417127293,2715217907,2696228731,1508390405,3994398868,3925858569,3695444102,4019471449,3129199795,3770928635,3520741761,990456497,4187484609,2783367035,21106139,3840405339,631373633,3783325702,532942976,396095098,3548038825,4267192484,2564721535,2011709262,2039648873,620404603,3776170075,2898526339,3612357925,4159332703,1645490516,223693667,1567101217,3362177881,1029951347,3470931136,3570957959,1550265121,119497089,972513919,907948164,3840628539,1613718692,3594177948,465323573,2659255085,654439692,2575596212,2699288441,3127702412,277098644,624404830,4100943870,2717858591,546110314,2403699828,3655377447,1321679412,4236791657,1045293279,4010672264,895050893,2319792268,494945126,1914543101,2777056443,3894764339,2219737618,311263384,4275257268,3458730721,669096869,3584475730,3835122877,3319158237,3949359204,2005142349,2713102337,2228954793,3769984788,569394103,3855636576,1425027204,108000370,2736431443,3671869269,3043122623,1750473702,2211081108,762237499,3972989403,2798899386,3061857628,2943854345,867476300,964413654,1591880597,1594774276,2179821409,552026980,3026064248,3726140315,2283577634,3110545105,2152310760,582474363,1582640421,1383256631,2043843868,3322775884,1217180674,463797851,2763038571,480777679,2718707717,2289164131,3118346187,214354409,200212307,3810608407,3025414197,2674075964,3997296425,1847405948,1342460550,510035443,4080271814,815934613,833030224,1620250387,1945732119,2703661145,3966000196,1388869545,3456054182,2687178561,2092620194,562037615,1356438536,3409922145,3261847397,1688467115,2150901366,631725691,3840332284,549916902,3455104640,394546491,837744717,2114462948,751520235,2221554606,2415360136,3999097078,2063029875,803036379,2702586305,821456707,3019566164,360699898,4018502092,3511869016,3677355358,2402471449,812317050,49299192,2570164949,3259169295,2816732080,3331213574,3101303564,2156015656,3705598920,3546263921,143268808,3200304480,1638124008,3165189453,3341807610,578956953,2193977524,3638120073,2333881532,807278310,658237817,2969561766,1641658566,11683945,3086995007,148645947,1138423386,4158756760,1981396783,2401016740,3699783584,380097457,2680394679,2803068651,3334260286,441530178,4016580796,1375954390,761952171,891809099,2183123478,157052462,3683840763,1592404427,341349109,2438483839,1417898363,644327628,2233032776,2353769706,2201510100,220455161,1815641738,182899273,2995019788,3627381533,3702638151,2890684138,1052606899,588164016,1681439879,4038439418,2405343923,4229449282,167996282,1336969661,1688053129,2739224926,1543734051,1046297529,1138201970,2121126012,115334942,1819067631,1902159161,1941945968,2206692869,1159982321],a[2]=[2381300288,637164959,3952098751,3893414151,1197506559,916448331,2350892612,2932787856,3199334847,4009478890,3905886544,1373570990,2450425862,4037870920,3778841987,2456817877,286293407,124026297,3001279700,1028597854,3115296800,4208886496,2691114635,2188540206,1430237888,1218109995,3572471700,308166588,570424558,2187009021,2455094765,307733056,1310360322,3135275007,1384269543,2388071438,863238079,2359263624,2801553128,3380786597,2831162807,1470087780,1728663345,4072488799,1090516929,532123132,2389430977,1132193179,2578464191,3051079243,1670234342,1434557849,2711078940,1241591150,3314043432,3435360113,3091448339,1812415473,2198440252,267246943,796911696,3619716990,38830015,1526438404,2806502096,374413614,2943401790,1489179520,1603809326,1920779204,168801282,260042626,2358705581,1563175598,2397674057,1356499128,2217211040,514611088,2037363785,2186468373,4022173083,2792511869,2913485016,1173701892,4200428547,3896427269,1334932762,2455136706,602925377,2835607854,1613172210,41346230,2499634548,2457437618,2188827595,41386358,4172255629,1313404830,2405527007,3801973774,2217704835,873260488,2528884354,2478092616,4012915883,2555359016,2006953883,2463913485,575479328,2218240648,2099895446,660001756,2341502190,3038761536,3888151779,3848713377,3286851934,1022894237,1620365795,3449594689,1551255054,15374395,3570825345,4249311020,4151111129,3181912732,310226346,1133119310,530038928,136043402,2476768958,3107506709,2544909567,1036173560,2367337196,1681395281,1758231547,3641649032,306774401,1575354324,3716085866,1990386196,3114533736,2455606671,1262092282,3124342505,2768229131,4210529083,1833535011,423410938,660763973,2187129978,1639812e3,3508421329,3467445492,310289298,272797111,2188552562,2456863912,310240523,677093832,1013118031,901835429,3892695601,1116285435,3036471170,1337354835,243122523,520626091,277223598,4244441197,4194248841,1766575121,594173102,316590669,742362309,3536858622,4176435350,3838792410,2501204839,1229605004,3115755532,1552908988,2312334149,979407927,3959474601,1148277331,176638793,3614686272,2083809052,40992502,1340822838,2731552767,3535757508,3560899520,1354035053,122129617,7215240,2732932949,3118912700,2718203926,2539075635,3609230695,3725561661,1928887091,2882293555,1988674909,2063640240,2491088897,1459647954,4189817080,2302804382,1113892351,2237858528,1927010603,4002880361,1856122846,1594404395,2944033133,3855189863,3474975698,1643104450,4054590833,3431086530,1730235576,2984608721,3084664418,2131803598,4178205752,267404349,1617849798,1616132681,1462223176,736725533,2327058232,551665188,2945899023,1749386277,2575514597,1611482493,674206544,2201269090,3642560800,728599968,1680547377,2620414464,1388111496,453204106,4156223445,1094905244,2754698257,2201108165,3757000246,2704524545,3922940700,3996465027],a[3]=[2645754912,532081118,2814278639,3530793624,1246723035,1689095255,2236679235,4194438865,2116582143,3859789411,157234593,2045505824,4245003587,1687664561,4083425123,605965023,672431967,1336064205,3376611392,214114848,4258466608,3232053071,489488601,605322005,3998028058,264917351,1912574028,756637694,436560991,202637054,135989450,85393697,2152923392,3896401662,2895836408,2145855233,3535335007,115294817,3147733898,1922296357,3464822751,4117858305,1037454084,2725193275,2127856640,1417604070,1148013728,1827919605,642362335,2929772533,909348033,1346338451,3547799649,297154785,1917849091,4161712827,2883604526,3968694238,1469521537,3780077382,3375584256,1763717519,136166297,4290970789,1295325189,2134727907,2798151366,1566297257,3672928234,2677174161,2672173615,965822077,2780786062,289653839,1133871874,3491843819,35685304,1068898316,418943774,672553190,642281022,2346158704,1954014401,3037126780,4079815205,2030668546,3840588673,672283427,1776201016,359975446,3750173538,555499703,2769985273,1324923,69110472,152125443,3176785106,3822147285,1340634837,798073664,1434183902,15393959,216384236,1303690150,3881221631,3711134124,3960975413,106373927,2578434224,1455997841,1801814300,1578393881,1854262133,3188178946,3258078583,2302670060,1539295533,3505142565,3078625975,2372746020,549938159,3278284284,2620926080,181285381,2865321098,3970029511,68876850,488006234,1728155692,2608167508,836007927,2435231793,919367643,3339422534,3655756360,1457871481,40520939,1380155135,797931188,234455205,2255801827,3990488299,397000196,739833055,3077865373,2871719860,4022553888,772369276,390177364,3853951029,557662966,740064294,1640166671,1699928825,3535942136,622006121,3625353122,68743880,1742502,219489963,1664179233,1577743084,1236991741,410585305,2366487942,823226535,1050371084,3426619607,3586839478,212779912,4147118561,1819446015,1911218849,530248558,3486241071,3252585495,2886188651,3410272728,2342195030,20547779,2982490058,3032363469,3631753222,312714466,1870521650,1493008054,3491686656,615382978,4103671749,2534517445,1932181,2196105170,278426614,6369430,3274544417,2913018367,697336853,2143000447,2946413531,701099306,1558357093,2805003052,3500818408,2321334417,3567135975,216290473,3591032198,23009561,1996984579,3735042806,2024298078,3739440863,569400510,2339758983,3016033873,3097871343,3639523026,3844324983,3256173865,795471839,2951117563,4101031090,4091603803,3603732598,971261452,534414648,428311343,3389027175,2844869880,694888862,1227866773,2456207019,3043454569,2614353370,3749578031,3676663836,459166190,4132644070,1794958188,51825668,2252611902,3084671440,2036672799,3436641603,1099053433,2469121526,3059204941,1323291266,2061838604,1018778475,2233344254,2553501054,334295216,3556750194,1065731521,183467730],a[4]=[2127105028,745436345,2601412319,2788391185,3093987327,500390133,1155374404,389092991,150729210,3891597772,3523549952,1935325696,716645080,946045387,2901812282,1774124410,3869435775,4039581901,3293136918,3438657920,948246080,363898952,3867875531,1286266623,1598556673,68334250,630723836,1104211938,1312863373,613332731,2377784574,1101634306,441780740,3129959883,1917973735,2510624549,3238456535,2544211978,3308894634,1299840618,4076074851,1756332096,3977027158,297047435,3790297736,2265573040,3621810518,1311375015,1667687725,47300608,3299642885,2474112369,201668394,1468347890,576830978,3594690761,3742605952,1958042578,1747032512,3558991340,1408974056,3366841779,682131401,1033214337,1545599232,4265137049,206503691,103024618,2855227313,1337551222,2428998917,2963842932,4015366655,3852247746,2796956967,3865723491,3747938335,247794022,3755824572,702416469,2434691994,397379957,851939612,2314769512,218229120,1380406772,62274761,214451378,3170103466,2276210409,3845813286,28563499,446592073,1693330814,3453727194,29968656,3093872512,220656637,2470637031,77972100,1667708854,1358280214,4064765667,2395616961,325977563,4277240721,4220025399,3605526484,3355147721,811859167,3069544926,3962126810,652502677,3075892249,4132761541,3498924215,1217549313,3250244479,3858715919,3053989961,1538642152,2279026266,2875879137,574252750,3324769229,2651358713,1758150215,141295887,2719868960,3515574750,4093007735,4194485238,1082055363,3417560400,395511885,2966884026,179534037,3646028556,3738688086,1092926436,2496269142,257381841,3772900718,1636087230,1477059743,2499234752,3811018894,2675660129,3285975680,90732309,1684827095,1150307763,1723134115,3237045386,1769919919,1240018934,815675215,750138730,2239792499,1234303040,1995484674,138143821,675421338,1145607174,1936608440,3238603024,2345230278,2105974004,323969391,779555213,3004902369,2861610098,1017501463,2098600890,2628620304,2940611490,2682542546,1171473753,3656571411,3687208071,4091869518,393037935,159126506,1662887367,1147106178,391545844,3452332695,1891500680,3016609650,1851642611,546529401,1167818917,3194020571,2848076033,3953471836,575554290,475796850,4134673196,450035699,2351251534,844027695,1080539133,86184846,1554234488,3692025454,1972511363,2018339607,1491841390,1141460869,1061690759,4244549243,2008416118,2351104703,2868147542,1598468138,722020353,1027143159,212344630,1387219594,1725294528,3745187956,2500153616,458938280,4129215917,1828119673,544571780,3503225445,2297937496,1241802790,267843827,2694610800,1397140384,1558801448,3782667683,1806446719,929573330,2234912681,400817706,616011623,4121520928,3603768725,1761550015,1968522284,4053731006,4192232858,4005120285,872482584,3140537016,3894607381,2287405443,1963876937,3663887957,1584857e3,2975024454,1833426440,4025083860],a[5]=[4143615901,749497569,1285769319,3795025788,2514159847,23610292,3974978748,844452780,3214870880,3751928557,2213566365,1676510905,448177848,3730751033,4086298418,2307502392,871450977,3222878141,4110862042,3831651966,2735270553,1310974780,2043402188,1218528103,2736035353,4274605013,2702448458,3936360550,2693061421,162023535,2827510090,687910808,23484817,3784910947,3371371616,779677500,3503626546,3473927188,4157212626,3500679282,4248902014,2466621104,3899384794,1958663117,925738300,1283408968,3669349440,1840910019,137959847,2679828185,1239142320,1315376211,1547541505,1690155329,739140458,3128809933,3933172616,3876308834,905091803,1548541325,4040461708,3095483362,144808038,451078856,676114313,2861728291,2469707347,993665471,373509091,2599041286,4025009006,4170239449,2149739950,3275793571,3749616649,2794760199,1534877388,572371878,2590613551,1753320020,3467782511,1405125690,4270405205,633333386,3026356924,3475123903,632057672,2846462855,1404951397,3882875879,3915906424,195638627,2385783745,3902872553,1233155085,3355999740,2380578713,2702246304,2144565621,3663341248,3894384975,2502479241,4248018925,3094885567,1594115437,572884632,3385116731,767645374,1331858858,1475698373,3793881790,3532746431,1321687957,619889600,1121017241,3440213920,2070816767,2833025776,1933951238,4095615791,890643334,3874130214,859025556,360630002,925594799,1764062180,3920222280,4078305929,979562269,2810700344,4087740022,1949714515,546639971,1165388173,3069891591,1495988560,922170659,1291546247,2107952832,1813327274,3406010024,3306028637,4241950635,153207855,2313154747,1608695416,1150242611,1967526857,721801357,1220138373,3691287617,3356069787,2112743302,3281662835,1111556101,1778980689,250857638,2298507990,673216130,2846488510,3207751581,3562756981,3008625920,3417367384,2198807050,529510932,3547516680,3426503187,2364944742,102533054,2294910856,1617093527,1204784762,3066581635,1019391227,1069574518,1317995090,1691889997,3661132003,510022745,3238594800,1362108837,1817929911,2184153760,805817662,1953603311,3699844737,120799444,2118332377,207536705,2282301548,4120041617,145305846,2508124933,3086745533,3261524335,1877257368,2977164480,3160454186,2503252186,4221677074,759945014,254147243,2767453419,3801518371,629083197,2471014217,907280572,3900796746,940896768,2751021123,2625262786,3161476951,3661752313,3260732218,1425318020,2977912069,1496677566,3988592072,2140652971,3126511541,3069632175,977771578,1392695845,1698528874,1411812681,1369733098,1343739227,3620887944,1142123638,67414216,3102056737,3088749194,1626167401,2546293654,3941374235,697522451,33404913,143560186,2595682037,994885535,1247667115,3859094837,2699155541,3547024625,4114935275,2968073508,3199963069,2732024527,1237921620,951448369,1898488916,1211705605,2790989240,2233243581,3598044975],a[6]=[2246066201,858518887,1714274303,3485882003,713916271,2879113490,3730835617,539548191,36158695,1298409750,419087104,1358007170,749914897,2989680476,1261868530,2995193822,2690628854,3443622377,3780124940,3796824509,2976433025,4259637129,1551479e3,512490819,1296650241,951993153,2436689437,2460458047,144139966,3136204276,310820559,3068840729,643875328,1969602020,1680088954,2185813161,3283332454,672358534,198762408,896343282,276269502,3014846926,84060815,197145886,376173866,3943890818,3813173521,3545068822,1316698879,1598252827,2633424951,1233235075,859989710,2358460855,3503838400,3409603720,1203513385,1193654839,2792018475,2060853022,207403770,1144516871,3068631394,1121114134,177607304,3785736302,326409831,1929119770,2983279095,4183308101,3474579288,3200513878,3228482096,119610148,1170376745,3378393471,3163473169,951863017,3337026068,3135789130,2907618374,1183797387,2015970143,4045674555,2182986399,2952138740,3928772205,384012900,2454997643,10178499,2879818989,2596892536,111523738,2995089006,451689641,3196290696,235406569,1441906262,3890558523,3013735005,4158569349,1644036924,376726067,1006849064,3664579700,2041234796,1021632941,1374734338,2566452058,371631263,4007144233,490221539,206551450,3140638584,1053219195,1853335209,3412429660,3562156231,735133835,1623211703,3104214392,2738312436,4096837757,3366392578,3110964274,3956598718,3196820781,2038037254,3877786376,2339753847,300912036,3766732888,2372630639,1516443558,4200396704,1574567987,4069441456,4122592016,2699739776,146372218,2748961456,2043888151,35287437,2596680554,655490400,1132482787,110692520,1031794116,2188192751,1324057718,1217253157,919197030,686247489,3261139658,1028237775,3135486431,3059715558,2460921700,986174950,2661811465,4062904701,2752986992,3709736643,367056889,1353824391,731860949,1650113154,1778481506,784341916,357075625,3608602432,1074092588,2480052770,3811426202,92751289,877911070,3600361838,1231880047,480201094,3756190983,3094495953,434011822,87971354,363687820,1717726236,1901380172,3926403882,2481662265,400339184,1490350766,2661455099,1389319756,2558787174,784598401,1983468483,30828846,3550527752,2716276238,3841122214,1765724805,1955612312,1277890269,1333098070,1564029816,2704417615,1026694237,3287671188,1260819201,3349086767,1016692350,1582273796,1073413053,1995943182,694588404,1025494639,3323872702,3551898420,4146854327,453260480,1316140391,1435673405,3038941953,3486689407,1622062951,403978347,817677117,950059133,4246079218,3278066075,1486738320,1417279718,481875527,2549965225,3933690356,760697757,1452955855,3897451437,1177426808,1702951038,4085348628,2447005172,1084371187,3516436277,3068336338,1073369276,1027665953,3284188590,1230553676,1368340146,2226246512,267243139,2274220762,4070734279,2497715176,2423353163,2504755875],a[7]=[3793104909,3151888380,2817252029,895778965,2005530807,3871412763,237245952,86829237,296341424,3851759377,3974600970,2475086196,709006108,1994621201,2972577594,937287164,3734691505,168608556,3189338153,2225080640,3139713551,3033610191,3025041904,77524477,185966941,1208824168,2344345178,1721625922,3354191921,1066374631,1927223579,1971335949,2483503697,1551748602,2881383779,2856329572,3003241482,48746954,1398218158,2050065058,313056748,4255789917,393167848,1912293076,940740642,3465845460,3091687853,2522601570,2197016661,1727764327,364383054,492521376,1291706479,3264136376,1474851438,1685747964,2575719748,1619776915,1814040067,970743798,1561002147,2925768690,2123093554,1880132620,3151188041,697884420,2550985770,2607674513,2659114323,110200136,1489731079,997519150,1378877361,3527870668,478029773,2766872923,1022481122,431258168,1112503832,897933369,2635587303,669726182,3383752315,918222264,163866573,3246985393,3776823163,114105080,1903216136,761148244,3571337562,1690750982,3166750252,1037045171,1888456500,2010454850,642736655,616092351,365016990,1185228132,4174898510,1043824992,2023083429,2241598885,3863320456,3279669087,3674716684,108438443,2132974366,830746235,606445527,4173263986,2204105912,1844756978,2532684181,4245352700,2969441100,3796921661,1335562986,4061524517,2720232303,2679424040,634407289,885462008,3294724487,3933892248,2094100220,339117932,4048830727,3202280980,1458155303,2689246273,1022871705,2464987878,3714515309,353796843,2822958815,4256850100,4052777845,551748367,618185374,3778635579,4020649912,1904685140,3069366075,2670879810,3407193292,2954511620,4058283405,2219449317,3135758300,1120655984,3447565834,1474845562,3577699062,550456716,3466908712,2043752612,881257467,869518812,2005220179,938474677,3305539448,3850417126,1315485940,3318264702,226533026,965733244,321539988,1136104718,804158748,573969341,3708209826,937399083,3290727049,2901666755,1461057207,4013193437,4066861423,3242773476,2421326174,1581322155,3028952165,786071460,3900391652,3918438532,1485433313,4023619836,3708277595,3678951060,953673138,1467089153,1930354364,1533292819,2492563023,1346121658,1685000834,1965281866,3765933717,4190206607,2052792609,3515332758,690371149,3125873887,2180283551,2903598061,3933952357,436236910,289419410,14314871,1242357089,2904507907,1616633776,2666382180,585885352,3471299210,2699507360,1432659641,277164553,3354103607,770115018,2303809295,3741942315,3177781868,2853364978,2269453327,3774259834,987383833,1290892879,225909803,1741533526,890078084,1496906255,1111072499,916028167,243534141,1252605537,2204162171,531204876,290011180,3916834213,102027703,237315147,209093447,1486785922,220223953,2758195998,4175039106,82940208,3127791296,2569425252,518464269,1353887104,3941492737,2377294467,3935040926]}function Me(e){this.cast5=new Re,this.cast5.setKey(e),this.encrypt=function(e){return this.cast5.encrypt(e)}}Te.keySize=Te.prototype.keySize=24,Te.blockSize=Te.prototype.blockSize=8,Me.blockSize=Me.prototype.blockSize=8,Me.keySize=Me.prototype.keySize=16;const Oe=4294967295;function Be(e,t){return(e<<t|e>>>32-t)&Oe}function Le(e,t){return e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24}function Ne(e,t,r){e.splice(t,4,255&r,r>>>8&255,r>>>16&255,r>>>24&255)}function Fe(e,t){return e>>>8*t&255}function je(e){this.tf=function(){let e=null,t=null,r=-1,n=[],i=[[],[],[],[]];function a(e){return i[0][Fe(e,0)]^i[1][Fe(e,1)]^i[2][Fe(e,2)]^i[3][Fe(e,3)]}function s(e){return i[0][Fe(e,3)]^i[1][Fe(e,0)]^i[2][Fe(e,1)]^i[3][Fe(e,2)]}function o(e,t){let r=a(t[0]),i=s(t[1]);t[2]=Be(t[2]^r+i+n[4*e+8]&Oe,31),t[3]=Be(t[3],1)^r+2*i+n[4*e+9]&Oe,r=a(t[2]),i=s(t[3]),t[0]=Be(t[0]^r+i+n[4*e+10]&Oe,31),t[1]=Be(t[1],1)^r+2*i+n[4*e+11]&Oe}function c(e,t){let r=a(t[0]),i=s(t[1]);t[2]=Be(t[2],1)^r+i+n[4*e+10]&Oe,t[3]=Be(t[3]^r+2*i+n[4*e+11]&Oe,31),r=a(t[2]),i=s(t[3]),t[0]=Be(t[0],1)^r+i+n[4*e+8]&Oe,t[1]=Be(t[1]^r+2*i+n[4*e+9]&Oe,31)}return{name:"twofish",blocksize:16,open:function(t){let r,a,s,o,c;e=t;const u=[],h=[],l=[];let y;const p=[];let f,d,g;const m=[[8,1,7,13,6,15,3,2,0,11,5,9,14,12,10,4],[2,8,11,13,15,7,6,14,3,1,9,4,0,10,12,5]],w=[[14,12,11,8,1,2,3,5,15,4,10,6,7,0,9,13],[1,14,2,11,4,12,3,7,6,13,10,5,15,9,0,8]],v=[[11,10,5,14,6,13,9,0,12,8,15,3,2,4,7,1],[4,12,7,5,1,6,9,10,0,14,13,8,2,11,3,15]],b=[[13,7,15,4,1,2,6,14,9,11,3,0,8,5,12,10],[11,9,5,1,12,3,13,14,6,4,7,15,2,0,8,10]],k=[0,8,1,9,2,10,3,11,4,12,5,13,6,14,7,15],A=[0,9,2,11,4,13,6,15,8,1,10,3,12,5,14,7],E=[[],[]],S=[[],[],[],[]];function x(e){return e^e>>2^[0,90,180,238][3&e]}function K(e){return e^e>>1^e>>2^[0,238,180,90][3&e]}function P(e,t){let r,n,i;for(r=0;r<8;r++)n=t>>>24,t=t<<8&Oe|e>>>24,e=e<<8&Oe,i=n<<1,128&n&&(i^=333),t^=n^i<<16,i^=n>>>1,1&n&&(i^=166),t^=i<<24|i<<8;return t}function D(e,t){const r=t>>4,n=15&t,i=m[e][r^n],a=w[e][k[n]^A[r]];return b[e][k[a]^A[i]]<<4|v[e][i^a]}function U(e,t){let r=Fe(e,0),n=Fe(e,1),i=Fe(e,2),a=Fe(e,3);switch(y){case 4:r=E[1][r]^Fe(t[3],0),n=E[0][n]^Fe(t[3],1),i=E[0][i]^Fe(t[3],2),a=E[1][a]^Fe(t[3],3);case 3:r=E[1][r]^Fe(t[2],0),n=E[1][n]^Fe(t[2],1),i=E[0][i]^Fe(t[2],2),a=E[0][a]^Fe(t[2],3);case 2:r=E[0][E[0][r]^Fe(t[1],0)]^Fe(t[0],0),n=E[0][E[1][n]^Fe(t[1],1)]^Fe(t[0],1),i=E[1][E[0][i]^Fe(t[1],2)]^Fe(t[0],2),a=E[1][E[1][a]^Fe(t[1],3)]^Fe(t[0],3)}return S[0][r]^S[1][n]^S[2][i]^S[3][a]}for(e=e.slice(0,32),r=e.length;16!==r&&24!==r&&32!==r;)e[r++]=0;for(r=0;r<e.length;r+=4)l[r>>2]=Le(e,r);for(r=0;r<256;r++)E[0][r]=D(0,r),E[1][r]=D(1,r);for(r=0;r<256;r++)f=E[1][r],d=x(f),g=K(f),S[0][r]=f+(d<<8)+(g<<16)+(g<<24),S[2][r]=d+(g<<8)+(f<<16)+(g<<24),f=E[0][r],d=x(f),g=K(f),S[1][r]=g+(g<<8)+(d<<16)+(f<<24),S[3][r]=d+(f<<8)+(g<<16)+(d<<24);for(y=l.length/2,r=0;r<y;r++)a=l[r+r],u[r]=a,s=l[r+r+1],h[r]=s,p[y-r-1]=P(a,s);for(r=0;r<40;r+=2)a=16843009*r,s=a+16843009,a=U(a,u),s=Be(U(s,h),8),n[r]=a+s&Oe,n[r+1]=Be(a+2*s,9);for(r=0;r<256;r++)switch(a=s=o=c=r,y){case 4:a=E[1][a]^Fe(p[3],0),s=E[0][s]^Fe(p[3],1),o=E[0][o]^Fe(p[3],2),c=E[1][c]^Fe(p[3],3);case 3:a=E[1][a]^Fe(p[2],0),s=E[1][s]^Fe(p[2],1),o=E[0][o]^Fe(p[2],2),c=E[0][c]^Fe(p[2],3);case 2:i[0][r]=S[0][E[0][E[0][a]^Fe(p[1],0)]^Fe(p[0],0)],i[1][r]=S[1][E[0][E[1][s]^Fe(p[1],1)]^Fe(p[0],1)],i[2][r]=S[2][E[1][E[0][o]^Fe(p[1],2)]^Fe(p[0],2)],i[3][r]=S[3][E[1][E[1][c]^Fe(p[1],3)]^Fe(p[0],3)]}},close:function(){n=[],i=[[],[],[],[]]},encrypt:function(e,i){t=e,r=i;const a=[Le(t,r)^n[0],Le(t,r+4)^n[1],Le(t,r+8)^n[2],Le(t,r+12)^n[3]];for(let e=0;e<8;e++)o(e,a);return Ne(t,r,a[2]^n[4]),Ne(t,r+4,a[3]^n[5]),Ne(t,r+8,a[0]^n[6]),Ne(t,r+12,a[1]^n[7]),r+=16,t},decrypt:function(e,i){t=e,r=i;const a=[Le(t,r)^n[4],Le(t,r+4)^n[5],Le(t,r+8)^n[6],Le(t,r+12)^n[7]];for(let e=7;e>=0;e--)c(e,a);Ne(t,r,a[2]^n[0]),Ne(t,r+4,a[3]^n[1]),Ne(t,r+8,a[0]^n[2]),Ne(t,r+12,a[1]^n[3]),r+=16},finalize:function(){return t}}}(),this.tf.open(Array.from(e),0),this.encrypt=function(e){return this.tf.encrypt(Array.from(e),0)}}function ze(){}function He(e){this.bf=new ze,this.bf.init(e),this.encrypt=function(e){return this.bf.encryptBlock(e)}}je.keySize=je.prototype.keySize=32,je.blockSize=je.prototype.blockSize=16,ze.prototype.BLOCKSIZE=8,ze.prototype.SBOXES=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]],ze.prototype.PARRAY=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],ze.prototype.NN=16,ze.prototype._clean=function(e){return e<0&&(e=2147483648+(2147483647&e)),e},ze.prototype._F=function(e){let t;const r=255&e,n=255&(e>>>=8),i=255&(e>>>=8),a=255&(e>>>=8);return t=this.sboxes[0][a]+this.sboxes[1][i],t^=this.sboxes[2][n],t+=this.sboxes[3][r],t},ze.prototype._encryptBlock=function(e){let t,r=e[0],n=e[1];for(t=0;t<this.NN;++t){r^=this.parray[t],n=this._F(r)^n;const e=r;r=n,n=e}r^=this.parray[this.NN+0],n^=this.parray[this.NN+1],e[0]=this._clean(n),e[1]=this._clean(r)},ze.prototype.encryptBlock=function(e){let t;const r=[0,0],n=this.BLOCKSIZE/2;for(t=0;t<this.BLOCKSIZE/2;++t)r[0]=r[0]<<8|255&e[t+0],r[1]=r[1]<<8|255&e[t+n];this._encryptBlock(r);const i=[];for(t=0;t<this.BLOCKSIZE/2;++t)i[t+0]=r[0]>>>24-8*t&255,i[t+n]=r[1]>>>24-8*t&255;return i},ze.prototype._decryptBlock=function(e){let t,r=e[0],n=e[1];for(t=this.NN+1;t>1;--t){r^=this.parray[t],n=this._F(r)^n;const e=r;r=n,n=e}r^=this.parray[1],n^=this.parray[0],e[0]=this._clean(n),e[1]=this._clean(r)},ze.prototype.init=function(e){let t,r=0;for(this.parray=[],t=0;t<this.NN+2;++t){let n=0;for(let t=0;t<4;++t)n=n<<8|255&e[r],++r>=e.length&&(r=0);this.parray[t]=this.PARRAY[t]^n}for(this.sboxes=[],t=0;t<4;++t)for(this.sboxes[t]=[],r=0;r<256;++r)this.sboxes[t][r]=this.SBOXES[t][r];const n=[0,0];for(t=0;t<this.NN+2;t+=2)this._encryptBlock(n),this.parray[t+0]=n[0],this.parray[t+1]=n[1];for(t=0;t<4;++t)for(r=0;r<256;r+=2)this._encryptBlock(n),this.sboxes[t][r+0]=n[0],this.sboxes[t][r+1]=n[1]},He.keySize=He.prototype.keySize=16,He.blockSize=He.prototype.blockSize=8;const qe=Ce(128),Ge=Ce(192),Ve=Ce(256);var We=Object.freeze({__proto__:null,aes128:qe,aes192:Ge,aes256:Ve,blowfish:He,cast5:Me,des:function(e){this.key=e,this.encrypt=function(e,t){return Ie(_e(this.key),e,!0,0,null,t)},this.decrypt=function(e,t){return Ie(_e(this.key),e,!1,0,null,t)}},idea:function(){throw Error("IDEA symmetric-key algorithm not implemented")},tripledes:Te,twofish:je});function $e(e,t){let r=e[0],n=e[1],i=e[2],a=e[3];r=Xe(r,n,i,a,t[0],7,-680876936),a=Xe(a,r,n,i,t[1],12,-389564586),i=Xe(i,a,r,n,t[2],17,606105819),n=Xe(n,i,a,r,t[3],22,-1044525330),r=Xe(r,n,i,a,t[4],7,-176418897),a=Xe(a,r,n,i,t[5],12,1200080426),i=Xe(i,a,r,n,t[6],17,-1473231341),n=Xe(n,i,a,r,t[7],22,-45705983),r=Xe(r,n,i,a,t[8],7,1770035416),a=Xe(a,r,n,i,t[9],12,-1958414417),i=Xe(i,a,r,n,t[10],17,-42063),n=Xe(n,i,a,r,t[11],22,-1990404162),r=Xe(r,n,i,a,t[12],7,1804603682),a=Xe(a,r,n,i,t[13],12,-40341101),i=Xe(i,a,r,n,t[14],17,-1502002290),n=Xe(n,i,a,r,t[15],22,1236535329),r=Qe(r,n,i,a,t[1],5,-165796510),a=Qe(a,r,n,i,t[6],9,-1069501632),i=Qe(i,a,r,n,t[11],14,643717713),n=Qe(n,i,a,r,t[0],20,-373897302),r=Qe(r,n,i,a,t[5],5,-701558691),a=Qe(a,r,n,i,t[10],9,38016083),i=Qe(i,a,r,n,t[15],14,-660478335),n=Qe(n,i,a,r,t[4],20,-405537848),r=Qe(r,n,i,a,t[9],5,568446438),a=Qe(a,r,n,i,t[14],9,-1019803690),i=Qe(i,a,r,n,t[3],14,-187363961),n=Qe(n,i,a,r,t[8],20,1163531501),r=Qe(r,n,i,a,t[13],5,-1444681467),a=Qe(a,r,n,i,t[2],9,-51403784),i=Qe(i,a,r,n,t[7],14,1735328473),n=Qe(n,i,a,r,t[12],20,-1926607734),r=Ze(r,n,i,a,t[5],4,-378558),a=Ze(a,r,n,i,t[8],11,-2022574463),i=Ze(i,a,r,n,t[11],16,1839030562),n=Ze(n,i,a,r,t[14],23,-35309556),r=Ze(r,n,i,a,t[1],4,-1530992060),a=Ze(a,r,n,i,t[4],11,1272893353),i=Ze(i,a,r,n,t[7],16,-155497632),n=Ze(n,i,a,r,t[10],23,-1094730640),r=Ze(r,n,i,a,t[13],4,681279174),a=Ze(a,r,n,i,t[0],11,-358537222),i=Ze(i,a,r,n,t[3],16,-722521979),n=Ze(n,i,a,r,t[6],23,76029189),r=Ze(r,n,i,a,t[9],4,-640364487),a=Ze(a,r,n,i,t[12],11,-421815835),i=Ze(i,a,r,n,t[15],16,530742520),n=Ze(n,i,a,r,t[2],23,-995338651),r=Je(r,n,i,a,t[0],6,-198630844),a=Je(a,r,n,i,t[7],10,1126891415),i=Je(i,a,r,n,t[14],15,-1416354905),n=Je(n,i,a,r,t[5],21,-57434055),r=Je(r,n,i,a,t[12],6,1700485571),a=Je(a,r,n,i,t[3],10,-1894986606),i=Je(i,a,r,n,t[10],15,-1051523),n=Je(n,i,a,r,t[1],21,-2054922799),r=Je(r,n,i,a,t[8],6,1873313359),a=Je(a,r,n,i,t[15],10,-30611744),i=Je(i,a,r,n,t[6],15,-1560198380),n=Je(n,i,a,r,t[13],21,1309151649),r=Je(r,n,i,a,t[4],6,-145523070),a=Je(a,r,n,i,t[11],10,-1120210379),i=Je(i,a,r,n,t[2],15,718787259),n=Je(n,i,a,r,t[9],21,-343485551),e[0]=nt(r,e[0]),e[1]=nt(n,e[1]),e[2]=nt(i,e[2]),e[3]=nt(a,e[3])}function Ye(e,t,r,n,i,a){return t=nt(nt(t,e),nt(n,a)),nt(t<<i|t>>>32-i,r)}function Xe(e,t,r,n,i,a,s){return Ye(t&r|~t&n,e,t,i,a,s)}function Qe(e,t,r,n,i,a,s){return Ye(t&n|r&~n,e,t,i,a,s)}function Ze(e,t,r,n,i,a,s){return Ye(t^r^n,e,t,i,a,s)}function Je(e,t,r,n,i,a,s){return Ye(r^(t|~n),e,t,i,a,s)}function et(e){const t=[];let r;for(r=0;r<64;r+=4)t[r>>2]=e.charCodeAt(r)+(e.charCodeAt(r+1)<<8)+(e.charCodeAt(r+2)<<16)+(e.charCodeAt(r+3)<<24);return t}const tt="0123456789abcdef".split("");function rt(e){let t="",r=0;for(;r<4;r++)t+=tt[e>>8*r+4&15]+tt[e>>8*r&15];return t}function nt(e,t){return e+t&4294967295}const it=ae.getWebCrypto(),at=ae.getNodeCrypto(),st=at&&at.getHashes();function ot(e){if(at&&st.includes(e))return async function(t){const r=at.createHash(e);return H(t,(e=>{r.update(e)}),(()=>new Uint8Array(r.digest())))}}function ct(e,t){const n=async()=>{const{nobleHashes:t}=await r.e(9656).then(r.bind(r,59656)),n=t.get(e);if(!n)throw Error("Unsupported hash");return n};return async function(e){if(K(e)&&(e=await X(e)),ae.isStream(e)){const t=(await n()).create();return H(e,(e=>{t.update(e)}),(()=>t.digest()))}return it&&t?new Uint8Array(await it.digest(t,e)):(await n())(e)}}var ut={md5:ot("md5")||async function(e){const t=function(e){const t=e.length,r=[1732584193,-271733879,-1732584194,271733878];let n;for(n=64;n<=e.length;n+=64)$e(r,et(e.substring(n-64,n)));e=e.substring(n-64);const i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(n=0;n<e.length;n++)i[n>>2]|=e.charCodeAt(n)<<(n%4<<3);if(i[n>>2]|=128<<(n%4<<3),n>55)for($e(r,i),n=0;n<16;n++)i[n]=0;return i[14]=8*t,$e(r,i),r}(ae.uint8ArrayToString(e));return ae.hexToUint8Array(function(e){for(let t=0;t<e.length;t++)e[t]=rt(e[t]);return e.join("")}(t))},sha1:ot("sha1")||ct("sha1","SHA-1"),sha224:ot("sha224")||ct("sha224"),sha256:ot("sha256")||ct("sha256","SHA-256"),sha384:ot("sha384")||ct("sha384","SHA-384"),sha512:ot("sha512")||ct("sha512","SHA-512"),ripemd:ot("ripemd160")||ct("ripemd160"),sha3_256:ot("sha3-256")||ct("sha3_256"),sha3_512:ot("sha3-512")||ct("sha3_512"),digest:function(e,t){switch(e){case re.hash.md5:return this.md5(t);case re.hash.sha1:return this.sha1(t);case re.hash.ripemd:return this.ripemd(t);case re.hash.sha256:return this.sha256(t);case re.hash.sha384:return this.sha384(t);case re.hash.sha512:return this.sha512(t);case re.hash.sha224:return this.sha224(t);case re.hash.sha3_256:return this.sha3_256(t);case re.hash.sha3_512:return this.sha3_512(t);default:throw Error("Unsupported hash function")}},getHashByteLength:function(e){switch(e){case re.hash.md5:return 16;case re.hash.sha1:case re.hash.ripemd:return 20;case re.hash.sha256:return 32;case re.hash.sha384:return 48;case re.hash.sha512:return 64;case re.hash.sha224:return 28;case re.hash.sha3_256:return 32;case re.hash.sha3_512:return 64;default:throw Error("Invalid hash algorithm.")}},getBlockSize:function(e){switch(e){case re.hash.md5:case re.hash.sha1:case re.hash.ripemd:case re.hash.sha224:case re.hash.sha256:return 64;case re.hash.sha384:case re.hash.sha512:return 128;default:throw Error("Invalid hash algorithm.")}}};class ht{static encrypt(e,t,r){return new ht(t,r).encrypt(e)}static decrypt(e,t,r){return new ht(t,r).decrypt(e)}constructor(e,t,r){this.aes=r||new De(e,t,!0,"CFB"),delete this.aes.padding}encrypt(e){return Ae(this.aes.AES_Encrypt_process(e),this.aes.AES_Encrypt_finish())}decrypt(e){return Ae(this.aes.AES_Decrypt_process(e),this.aes.AES_Decrypt_finish())}}function lt(e){const t=re.read(re.symmetric,e);return We[t]}const yt=ae.getWebCrypto(),pt=ae.getNodeCrypto(),ft=pt?pt.getCiphers():[],dt={idea:ft.includes("idea-cfb")?"idea-cfb":void 0,tripledes:ft.includes("des-ede3-cfb")?"des-ede3-cfb":void 0,cast5:ft.includes("cast5-cfb")?"cast5-cfb":void 0,blowfish:ft.includes("bf-cfb")?"bf-cfb":void 0,aes128:ft.includes("aes-128-cfb")?"aes-128-cfb":void 0,aes192:ft.includes("aes-192-cfb")?"aes-192-cfb":void 0,aes256:ft.includes("aes-256-cfb")?"aes-256-cfb":void 0};class gt{constructor(e,t,r){const{blockSize:n}=lt(e);this.key=t,this.prevBlock=r,this.nextBlock=new Uint8Array(n),this.i=0,this.blockSize=n,this.zeroBlock=new Uint8Array(this.blockSize)}static async isSupported(e){const{keySize:t}=lt(e);return yt.importKey("raw",new Uint8Array(t),"aes-cbc",!1,["encrypt"]).then((()=>!0),(()=>!1))}async _runCBC(e,t){const r="AES-CBC";this.keyRef=this.keyRef||await yt.importKey("raw",this.key,r,!1,["encrypt"]);const n=await yt.encrypt({name:r,iv:t||this.zeroBlock},this.keyRef,e);return new Uint8Array(n).subarray(0,e.length)}async encryptChunk(e){const t=this.nextBlock.length-this.i,r=e.subarray(0,t);if(this.nextBlock.set(r,this.i),this.i+e.length>=2*this.blockSize){const r=(e.length-t)%this.blockSize,n=ae.concatUint8Array([this.nextBlock,e.subarray(t,e.length-r)]),i=ae.concatUint8Array([this.prevBlock,n.subarray(0,n.length-this.blockSize)]),a=await this._runCBC(i);return mt(a,n),this.prevBlock=a.subarray(-this.blockSize).slice(),r>0&&this.nextBlock.set(e.subarray(-r).slice()),this.i=r,a}this.i+=r.length;let n=new Uint8Array;if(this.i===this.nextBlock.length){const t=this.nextBlock;n=await this._runCBC(this.prevBlock),mt(n,t),this.prevBlock=n.slice(),this.i=0;const i=e.subarray(r.length);this.nextBlock.set(i,this.i),this.i+=i.length}return n}async finish(){let e;if(0===this.i)e=new Uint8Array;else{this.nextBlock=this.nextBlock.subarray(0,this.i);const t=this.nextBlock,r=await this._runCBC(this.prevBlock);mt(r,t),e=r.subarray(0,t.length)}return this.clearSensitiveData(),e}clearSensitiveData(){this.nextBlock.fill(0),this.prevBlock.fill(0),this.keyRef=null,this.key=null}async encrypt(e){const t=(await this._runCBC(ae.concatUint8Array([new Uint8Array(this.blockSize),e]),this.iv)).subarray(0,e.length);return mt(t,e),this.clearSensitiveData(),t}}function mt(e,t){const r=Math.min(e.length,t.length);for(let n=0;n<r;n++)e[n]=e[n]^t[n]}var wt=Object.freeze({__proto__:null,decrypt:async function(e,t,r,n){const i=re.read(re.symmetric,e);if(pt&&dt[i])return function(e,t,r,n){const i=re.read(re.symmetric,e),a=new pt.createDecipheriv(dt[i],t,n);return H(r,(e=>new Uint8Array(a.update(e))))}(e,t,r,n);if(ae.isAES(e))return function(e,t,r,n){if(ae.isStream(r)){const e=new ht(t,n);return H(r,(t=>e.aes.AES_Decrypt_process(t)),(()=>e.aes.AES_Decrypt_finish()))}return ht.decrypt(r,t,n)}(0,t,r,n);const a=new(lt(e))(t),s=a.blockSize;let o=n,c=new Uint8Array;const u=e=>{e&&(c=ae.concatUint8Array([c,e]));const t=new Uint8Array(c.length);let r,n=0;for(;e?c.length>=s:c.length;){const e=a.encrypt(o);for(o=c.subarray(0,s),r=0;r<s;r++)t[n++]=o[r]^e[r];c=c.subarray(s)}return t.subarray(0,n)};return H(r,u,u)},encrypt:async function(e,t,r,n,i){const a=re.read(re.symmetric,e);if(ae.getNodeCrypto()&&dt[a])return function(e,t,r,n){const i=re.read(re.symmetric,e),a=new pt.createCipheriv(dt[i],t,n);return H(r,(e=>new Uint8Array(a.update(e))))}(e,t,r,n);if(ae.isAES(e))return async function(e,t,r,n){if(yt&&await gt.isSupported(e)){const i=new gt(e,t,n);return ae.isStream(r)?H(r,(e=>i.encryptChunk(e)),(()=>i.finish())):i.encrypt(r)}{const e=new ht(t,n);return H(r,(t=>e.aes.AES_Encrypt_process(t)),(()=>e.aes.AES_Encrypt_finish()))}}(e,t,r,n);const s=new(lt(e))(t),o=s.blockSize,c=n.slice();let u=new Uint8Array;const h=e=>{e&&(u=ae.concatUint8Array([u,e]));const t=new Uint8Array(u.length);let r,n=0;for(;e?u.length>=o:u.length;){const e=s.encrypt(c);for(r=0;r<o;r++)c[r]=u[r]^e[r],t[n++]=c[r];u=u.subarray(o)}return t.subarray(0,n)};return H(r,h,h)}});class vt{static encrypt(e,t,r){return new vt(t,r).encrypt(e)}static decrypt(e,t,r){return new vt(t,r).encrypt(e)}constructor(e,t,r){this.aes=r||new De(e,void 0,!1,"CTR"),delete this.aes.padding,this.AES_CTR_set_options(t)}encrypt(e){return Ae(this.aes.AES_Encrypt_process(e),this.aes.AES_Encrypt_finish())}decrypt(e){return Ae(this.aes.AES_Encrypt_process(e),this.aes.AES_Encrypt_finish())}AES_CTR_set_options(e,t,r){let{asm:n}=this.aes.acquire_asm();if(void 0!==r){if(r<8||r>48)throw new Se("illegal counter size");let e=Math.pow(2,r)-1;n.set_mask(0,0,e/4294967296|0,0|e)}else r=48,n.set_mask(0,0,65535,4294967295);if(void 0===e)throw Error("nonce is required");{let t=e.length;if(!t||t>16)throw new Se("illegal nonce size");let r=new DataView(new ArrayBuffer(16));new Uint8Array(r.buffer).set(e),n.set_nonce(r.getUint32(0),r.getUint32(4),r.getUint32(8),r.getUint32(12))}if(void 0!==t){if(t<0||t>=Math.pow(2,r))throw new Se("illegal counter value");n.set_counter(0,0,t/4294967296|0,0|t)}}}class bt{static encrypt(e,t,r=!0,n){return new bt(t,n,r).encrypt(e)}static decrypt(e,t,r=!0,n){return new bt(t,n,r).decrypt(e)}constructor(e,t,r=!0,n){this.aes=n||new De(e,t,r,"CBC")}encrypt(e){return Ae(this.aes.AES_Encrypt_process(e),this.aes.AES_Encrypt_finish())}decrypt(e){return Ae(this.aes.AES_Decrypt_process(e),this.aes.AES_Decrypt_finish())}}const kt=ae.getWebCrypto(),At=ae.getNodeCrypto(),Et=16;function St(e,t){const r=e.length-Et;for(let n=0;n<Et;n++)e[n+r]^=t[n];return e}const xt=new Uint8Array(Et);const Kt=ae.getWebCrypto(),Pt=ae.getNodeCrypto(),Dt=ae.getNodeBuffer(),Ut=16,Ct=Ut,It=Ut,_t=new Uint8Array(Ut),Tt=new Uint8Array(Ut);Tt[Ut-1]=1;const Rt=new Uint8Array(Ut);async function Mt(e){const t=await async function(e){const t=await async function(e){if(ae.getNodeCrypto())return async function(t){const r=new At.createCipheriv("aes-"+8*e.length+"-cbc",e,xt).update(t);return new Uint8Array(r)};if(ae.getWebCrypto())try{return e=await kt.importKey("raw",e,{name:"AES-CBC",length:8*e.length},!1,["encrypt"]),async function(t){const r=await kt.encrypt({name:"AES-CBC",iv:xt,length:8*Et},e,t);return new Uint8Array(r).subarray(0,r.byteLength-Et)}}catch(t){if("NotSupportedError"!==t.name&&(24!==e.length||"OperationError"!==t.name))throw t;ae.printDebugError("Browser did not support operation: "+t.message)}return async function(t){return bt.encrypt(t,e,!1,xt)}}(e),r=ae.double(await t(xt)),n=ae.double(r);return async function(e){return(await t(function(e,t,r){if(e.length&&e.length%Et==0)return St(e,t);const n=new Uint8Array(e.length+(Et-e.length%Et));return n.set(e),n[e.length]=128,St(n,r)}(e,r,n))).subarray(-Et)}}(e);return function(e,r){return t(ae.concatUint8Array([e,r]))}}async function Ot(e){if(ae.getNodeCrypto())return async function(t,r){const n=new Pt.createCipheriv("aes-"+8*e.length+"-ctr",e,r),i=Dt.concat([n.update(t),n.final()]);return new Uint8Array(i)};if(ae.getWebCrypto())try{const t=await Kt.importKey("raw",e,{name:"AES-CTR",length:8*e.length},!1,["encrypt"]);return async function(e,r){const n=await Kt.encrypt({name:"AES-CTR",counter:r,length:8*Ut},t,e);return new Uint8Array(n)}}catch(t){if("NotSupportedError"!==t.name&&(24!==e.length||"OperationError"!==t.name))throw t;ae.printDebugError("Browser did not support operation: "+t.message)}return async function(t,r){return vt.encrypt(t,e,r)}}async function Bt(e,t){if(e!==re.symmetric.aes128&&e!==re.symmetric.aes192&&e!==re.symmetric.aes256)throw Error("EAX mode supports only AES cipher");const[r,n]=await Promise.all([Mt(t),Ot(t)]);return{encrypt:async function(e,t,i){const[a,s]=await Promise.all([r(_t,t),r(Tt,i)]),o=await n(e,a),c=await r(Rt,o);for(let e=0;e<It;e++)c[e]^=s[e]^a[e];return ae.concatUint8Array([o,c])},decrypt:async function(e,t,i){if(e.length<It)throw Error("Invalid EAX ciphertext");const a=e.subarray(0,-It),s=e.subarray(-It),[o,c,u]=await Promise.all([r(_t,t),r(Tt,i),r(Rt,a)]),h=u;for(let e=0;e<It;e++)h[e]^=c[e]^o[e];if(!ae.equalsUint8Array(s,h))throw Error("Authentication tag mismatch");return await n(a,o)}}}Rt[Ut-1]=2,Bt.getNonce=function(e,t){const r=e.slice();for(let e=0;e<t.length;e++)r[8+e]^=t[e];return r},Bt.blockLength=Ut,Bt.ivLength=Ct,Bt.tagLength=It;const Lt=16,Nt=16;function Ft(e){let t=0;for(let r=1;0==(e&r);r<<=1)t++;return t}function jt(e,t){for(let r=0;r<e.length;r++)e[r]^=t[r];return e}function zt(e,t){return jt(e.slice(),t)}const Ht=new Uint8Array(Lt),qt=new Uint8Array([1]);async function Gt(e,t){let r,n,i,a=0;function s(e,t,n,s){const o=t.length/Lt|0;!function(e,t){const r=ae.nbits(Math.max(e.length,t.length)/Lt|0)-1;for(let e=a+1;e<=r;e++)i[e]=ae.double(i[e-1]);a=r}(t,s);const c=ae.concatUint8Array([Ht.subarray(0,15-n.length),qt,n]),u=63&c[15];c[15]&=192;const h=r(c),l=ae.concatUint8Array([h,zt(h.subarray(0,8),h.subarray(1,9))]),y=ae.shiftRight(l.subarray(0+(u>>3),17+(u>>3)),8-(7&u)).subarray(1),p=new Uint8Array(Lt),f=new Uint8Array(t.length+Nt);let d,g=0;for(d=0;d<o;d++)jt(y,i[Ft(d+1)]),f.set(jt(e(zt(y,t)),y),g),jt(p,e===r?t:f.subarray(g)),t=t.subarray(Lt),g+=Lt;if(t.length){jt(y,i.x);const n=r(y);f.set(zt(t,n),g);const a=new Uint8Array(Lt);a.set(e===r?t:f.subarray(g,-16),0),a[t.length]=128,jt(p,a),g+=t.length}const m=jt(r(jt(jt(p,y),i.$)),function(e){if(!e.length)return Ht;const t=e.length/Lt|0,n=new Uint8Array(Lt),a=new Uint8Array(Lt);for(let s=0;s<t;s++)jt(n,i[Ft(s+1)]),jt(a,r(zt(n,e))),e=e.subarray(Lt);if(e.length){jt(n,i.x);const t=new Uint8Array(Lt);t.set(e,0),t[e.length]=128,jt(t,n),jt(a,r(t))}return a}(s));return f.set(m,g),f}return function(e,t){const a=re.read(re.symmetric,e),s=new We[a](t);r=s.encrypt.bind(s),n=s.decrypt.bind(s);const o=r(Ht),c=ae.double(o);i=[],i[0]=ae.double(c),i.x=o,i.$=c}(e,t),{encrypt:async function(e,t,n){return s(r,e,t,n)},decrypt:async function(e,t,r){if(e.length<Nt)throw Error("Invalid OCB ciphertext");const i=e.subarray(-16);e=e.subarray(0,-16);const a=s(n,e,t,r);if(ae.equalsUint8Array(i,a.subarray(-16)))return a.subarray(0,-16);throw Error("Authentication tag mismatch")}}}Gt.getNonce=function(e,t){const r=e.slice();for(let e=0;e<t.length;e++)r[7+e]^=t[e];return r},Gt.blockLength=Lt,Gt.ivLength=15,Gt.tagLength=Nt;const Vt=68719476704;class Wt{static encrypt(e,t,r,n,i){return new Wt(t,r,n,i).encrypt(e)}static decrypt(e,t,r,n,i){return new Wt(t,r,n,i).decrypt(e)}constructor(e,t,r,n=16,i){this.tagSize=n,this.gamma0=0,this.counter=1,this.aes=i||new De(e,void 0,!1,"CTR");let{asm:a,heap:s}=this.aes.acquire_asm();if(a.gcm_init(),this.tagSize<4||this.tagSize>16)throw new Se("illegal tagSize value");const o=t.length||0,c=new Uint8Array(16);12!==o?(this._gcm_mac_process(t),s[0]=0,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=0,s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[10]=0,s[11]=o>>>29,s[12]=o>>>21&255,s[13]=o>>>13&255,s[14]=o>>>5&255,s[15]=o<<3&255,a.mac(ve.MAC.GCM,ve.HEAP_DATA,16),a.get_iv(ve.HEAP_DATA),a.set_iv(0,0,0,0),c.set(s.subarray(0,16))):(c.set(t),c[15]=1);const u=new DataView(c.buffer);if(this.gamma0=u.getUint32(12),a.set_nonce(u.getUint32(0),u.getUint32(4),u.getUint32(8),0),a.set_mask(0,0,0,4294967295),void 0!==r){if(r.length>Vt)throw new Se("illegal adata length");r.length?(this.adata=r,this._gcm_mac_process(r)):this.adata=void 0}else this.adata=void 0;if(this.counter<1||this.counter>4294967295)throw new RangeError("counter must be a positive 32-bit integer");a.set_counter(0,0,0,this.gamma0+this.counter|0)}encrypt(e){return this.AES_GCM_encrypt(e)}decrypt(e){return this.AES_GCM_decrypt(e)}AES_GCM_Encrypt_process(e){let t=0,r=e.length||0,{asm:n,heap:i}=this.aes.acquire_asm(),a=this.counter,s=this.aes.pos,o=this.aes.len,c=0,u=o+r&-16,h=0;if((a-1<<4)+o+r>Vt)throw new RangeError("counter overflow");const l=new Uint8Array(u);for(;r>0;)h=ke(i,s+o,e,t,r),o+=h,t+=h,r-=h,h=n.cipher(ve.ENC.CTR,ve.HEAP_DATA+s,o),h=n.mac(ve.MAC.GCM,ve.HEAP_DATA+s,h),h&&l.set(i.subarray(s,s+h),c),a+=h>>>4,c+=h,h<o?(s+=h,o-=h):(s=0,o=0);return this.counter=a,this.aes.pos=s,this.aes.len=o,l}AES_GCM_Encrypt_finish(){let{asm:e,heap:t}=this.aes.acquire_asm(),r=this.counter,n=this.tagSize,i=this.adata,a=this.aes.pos,s=this.aes.len;const o=new Uint8Array(s+n);e.cipher(ve.ENC.CTR,ve.HEAP_DATA+a,s+15&-16),s&&o.set(t.subarray(a,a+s));let c=s;for(;15&c;c++)t[a+c]=0;e.mac(ve.MAC.GCM,ve.HEAP_DATA+a,c);const u=void 0!==i?i.length:0,h=(r-1<<4)+s;return t[0]=0,t[1]=0,t[2]=0,t[3]=u>>>29,t[4]=u>>>21,t[5]=u>>>13&255,t[6]=u>>>5&255,t[7]=u<<3&255,t[8]=t[9]=t[10]=0,t[11]=h>>>29,t[12]=h>>>21&255,t[13]=h>>>13&255,t[14]=h>>>5&255,t[15]=h<<3&255,e.mac(ve.MAC.GCM,ve.HEAP_DATA,16),e.get_iv(ve.HEAP_DATA),e.set_counter(0,0,0,this.gamma0),e.cipher(ve.ENC.CTR,ve.HEAP_DATA,16),o.set(t.subarray(0,n),s),this.counter=1,this.aes.pos=0,this.aes.len=0,o}AES_GCM_Decrypt_process(e){let t=0,r=e.length||0,{asm:n,heap:i}=this.aes.acquire_asm(),a=this.counter,s=this.tagSize,o=this.aes.pos,c=this.aes.len,u=0,h=c+r>s?c+r-s&-16:0,l=c+r-h,y=0;if((a-1<<4)+c+r>Vt)throw new RangeError("counter overflow");const p=new Uint8Array(h);for(;r>l;)y=ke(i,o+c,e,t,r-l),c+=y,t+=y,r-=y,y=n.mac(ve.MAC.GCM,ve.HEAP_DATA+o,y),y=n.cipher(ve.DEC.CTR,ve.HEAP_DATA+o,y),y&&p.set(i.subarray(o,o+y),u),a+=y>>>4,u+=y,o=0,c=0;return r>0&&(c+=ke(i,0,e,t,r)),this.counter=a,this.aes.pos=o,this.aes.len=c,p}AES_GCM_Decrypt_finish(){let{asm:e,heap:t}=this.aes.acquire_asm(),r=this.tagSize,n=this.adata,i=this.counter,a=this.aes.pos,s=this.aes.len,o=s-r;if(s<r)throw new Ee("authentication tag not found");const c=new Uint8Array(o),u=new Uint8Array(t.subarray(a+o,a+s));let h=o;for(;15&h;h++)t[a+h]=0;e.mac(ve.MAC.GCM,ve.HEAP_DATA+a,h),e.cipher(ve.DEC.CTR,ve.HEAP_DATA+a,h),o&&c.set(t.subarray(a,a+o));const l=void 0!==n?n.length:0,y=(i-1<<4)+s-r;t[0]=0,t[1]=0,t[2]=0,t[3]=l>>>29,t[4]=l>>>21,t[5]=l>>>13&255,t[6]=l>>>5&255,t[7]=l<<3&255,t[8]=t[9]=t[10]=0,t[11]=y>>>29,t[12]=y>>>21&255,t[13]=y>>>13&255,t[14]=y>>>5&255,t[15]=y<<3&255,e.mac(ve.MAC.GCM,ve.HEAP_DATA,16),e.get_iv(ve.HEAP_DATA),e.set_counter(0,0,0,this.gamma0),e.cipher(ve.ENC.CTR,ve.HEAP_DATA,16);let p=0;for(let e=0;e<r;++e)p|=u[e]^t[e];if(p)throw new xe("data integrity check failed");return this.counter=1,this.aes.pos=0,this.aes.len=0,c}AES_GCM_decrypt(e){const t=this.AES_GCM_Decrypt_process(e),r=this.AES_GCM_Decrypt_finish(),n=new Uint8Array(t.length+r.length);return t.length&&n.set(t),r.length&&n.set(r,t.length),n}AES_GCM_encrypt(e){const t=this.AES_GCM_Encrypt_process(e),r=this.AES_GCM_Encrypt_finish(),n=new Uint8Array(t.length+r.length);return t.length&&n.set(t),r.length&&n.set(r,t.length),n}_gcm_mac_process(e){let{asm:t,heap:r}=this.aes.acquire_asm(),n=0,i=e.length||0,a=0;for(;i>0;){for(a=ke(r,0,e,n,i),n+=a,i-=a;15&a;)r[a++]=0;t.mac(ve.MAC.GCM,ve.HEAP_DATA,a)}}}const $t=ae.getWebCrypto(),Yt=ae.getNodeCrypto(),Xt=ae.getNodeBuffer(),Qt=16,Zt="AES-GCM";async function Jt(e,t){if(e!==re.symmetric.aes128&&e!==re.symmetric.aes192&&e!==re.symmetric.aes256)throw Error("GCM mode supports only AES cipher");if(ae.getNodeCrypto())return{encrypt:async function(e,r,n=new Uint8Array){const i=new Yt.createCipheriv("aes-"+8*t.length+"-gcm",t,r);i.setAAD(n);const a=Xt.concat([i.update(e),i.final(),i.getAuthTag()]);return new Uint8Array(a)},decrypt:async function(e,r,n=new Uint8Array){const i=new Yt.createDecipheriv("aes-"+8*t.length+"-gcm",t,r);i.setAAD(n),i.setAuthTag(e.slice(e.length-Qt,e.length));const a=Xt.concat([i.update(e.slice(0,e.length-Qt)),i.final()]);return new Uint8Array(a)}};if(ae.getWebCrypto())try{const e=await $t.importKey("raw",t,{name:Zt},!1,["encrypt","decrypt"]),r=navigator.userAgent.match(/Version\/13\.\d(\.\d)* Safari/)||navigator.userAgent.match(/Version\/(13|14)\.\d(\.\d)* Mobile\/\S* Safari/);return{encrypt:async function(n,i,a=new Uint8Array){if(r&&!n.length)return Wt.encrypt(n,t,i,a);const s=await $t.encrypt({name:Zt,iv:i,additionalData:a,tagLength:128},e,n);return new Uint8Array(s)},decrypt:async function(n,i,a=new Uint8Array){if(r&&n.length===Qt)return Wt.decrypt(n,t,i,a);try{const t=await $t.decrypt({name:Zt,iv:i,additionalData:a,tagLength:128},e,n);return new Uint8Array(t)}catch(e){if("OperationError"===e.name)throw Error("Authentication tag mismatch")}}}}catch(e){if("NotSupportedError"!==e.name&&(24!==t.length||"OperationError"!==e.name))throw e;ae.printDebugError("Browser did not support operation: "+e.message)}return{encrypt:async function(e,r,n){return Wt.encrypt(e,t,r,n)},decrypt:async function(e,r,n){return Wt.decrypt(e,t,r,n)}}}Jt.getNonce=function(e,t){const r=e.slice();for(let e=0;e<t.length;e++)r[4+e]^=t[e];return r},Jt.blockLength=16,Jt.ivLength=12,Jt.tagLength=Qt;var er={cfb:wt,gcm:Jt,experimentalGCM:Jt,eax:Bt,ocb:Gt};const tr=ae.getNodeCrypto();function rr(e){const t=new Uint8Array(e);if(tr){const e=tr.randomBytes(t.length);t.set(e)}else{if("undefined"==typeof crypto||!crypto.getRandomValues)throw Error("No secure random number generator available.");crypto.getRandomValues(t)}return t}async function nr(e,t){const r=await ae.getBigInteger();if(t.lt(e))throw Error("Illegal parameter value: max <= min");const n=t.sub(e);return new r(rr(n.byteLength()+8)).mod(n).add(e)}var ir=Object.freeze({__proto__:null,getRandomBigInteger:nr,getRandomBytes:rr});async function ar(e,t,r){const n=await ae.getBigInteger(),i=new n(1),a=i.leftShift(new n(e-1)),s=new n(30),o=[1,6,5,4,3,2,1,4,3,2,1,2,1,4,3,2,1,2,1,4,3,2,1,6,5,4,3,2,1,2],c=await nr(a,a.leftShift(i));let u=c.mod(s).toNumber();do{c.iadd(new n(o[u])),u=(u+o[u])%o.length,c.bitLength()>e&&(c.imod(a.leftShift(i)).iadd(a),u=c.mod(s).toNumber())}while(!await sr(c,t,r));return c}async function sr(e,t,r){return!(t&&!e.dec().gcd(t).isOne()||!await async function(e){const t=await ae.getBigInteger();return or.every((r=>0!==e.mod(new t(r))))}(e)||!await async function(e,t){const r=await ae.getBigInteger();return(t=t||new r(2)).modExp(e.dec(),e).isOne()}(e)||!await async function(e,t,r){const n=await ae.getBigInteger(),i=e.bitLength();t||(t=Math.max(1,i/48|0));const a=e.dec();let s=0;for(;!a.getBit(s);)s++;const o=e.rightShift(new n(s));for(;t>0;t--){let t,r=(await nr(new n(2),a)).modExp(o,e);if(!r.isOne()&&!r.equal(a)){for(t=1;t<s;t++){if(r=r.mul(r).mod(e),r.isOne())return!1;if(r.equal(a))break}if(t===s)return!1}}return!0}(e,r))}const or=[7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997,1009,1013,1019,1021,1031,1033,1039,1049,1051,1061,1063,1069,1087,1091,1093,1097,1103,1109,1117,1123,1129,1151,1153,1163,1171,1181,1187,1193,1201,1213,1217,1223,1229,1231,1237,1249,1259,1277,1279,1283,1289,1291,1297,1301,1303,1307,1319,1321,1327,1361,1367,1373,1381,1399,1409,1423,1427,1429,1433,1439,1447,1451,1453,1459,1471,1481,1483,1487,1489,1493,1499,1511,1523,1531,1543,1549,1553,1559,1567,1571,1579,1583,1597,1601,1607,1609,1613,1619,1621,1627,1637,1657,1663,1667,1669,1693,1697,1699,1709,1721,1723,1733,1741,1747,1753,1759,1777,1783,1787,1789,1801,1811,1823,1831,1847,1861,1867,1871,1873,1877,1879,1889,1901,1907,1913,1931,1933,1949,1951,1973,1979,1987,1993,1997,1999,2003,2011,2017,2027,2029,2039,2053,2063,2069,2081,2083,2087,2089,2099,2111,2113,2129,2131,2137,2141,2143,2153,2161,2179,2203,2207,2213,2221,2237,2239,2243,2251,2267,2269,2273,2281,2287,2293,2297,2309,2311,2333,2339,2341,2347,2351,2357,2371,2377,2381,2383,2389,2393,2399,2411,2417,2423,2437,2441,2447,2459,2467,2473,2477,2503,2521,2531,2539,2543,2549,2551,2557,2579,2591,2593,2609,2617,2621,2633,2647,2657,2659,2663,2671,2677,2683,2687,2689,2693,2699,2707,2711,2713,2719,2729,2731,2741,2749,2753,2767,2777,2789,2791,2797,2801,2803,2819,2833,2837,2843,2851,2857,2861,2879,2887,2897,2903,2909,2917,2927,2939,2953,2957,2963,2969,2971,2999,3001,3011,3019,3023,3037,3041,3049,3061,3067,3079,3083,3089,3109,3119,3121,3137,3163,3167,3169,3181,3187,3191,3203,3209,3217,3221,3229,3251,3253,3257,3259,3271,3299,3301,3307,3313,3319,3323,3329,3331,3343,3347,3359,3361,3371,3373,3389,3391,3407,3413,3433,3449,3457,3461,3463,3467,3469,3491,3499,3511,3517,3527,3529,3533,3539,3541,3547,3557,3559,3571,3581,3583,3593,3607,3613,3617,3623,3631,3637,3643,3659,3671,3673,3677,3691,3697,3701,3709,3719,3727,3733,3739,3761,3767,3769,3779,3793,3797,3803,3821,3823,3833,3847,3851,3853,3863,3877,3881,3889,3907,3911,3917,3919,3923,3929,3931,3943,3947,3967,3989,4001,4003,4007,4013,4019,4021,4027,4049,4051,4057,4073,4079,4091,4093,4099,4111,4127,4129,4133,4139,4153,4157,4159,4177,4201,4211,4217,4219,4229,4231,4241,4243,4253,4259,4261,4271,4273,4283,4289,4297,4327,4337,4339,4349,4357,4363,4373,4391,4397,4409,4421,4423,4441,4447,4451,4457,4463,4481,4483,4493,4507,4513,4517,4519,4523,4547,4549,4561,4567,4583,4591,4597,4603,4621,4637,4639,4643,4649,4651,4657,4663,4673,4679,4691,4703,4721,4723,4729,4733,4751,4759,4783,4787,4789,4793,4799,4801,4813,4817,4831,4861,4871,4877,4889,4903,4909,4919,4931,4933,4937,4943,4951,4957,4967,4969,4973,4987,4993,4999],cr=[];function ur(e,t){const r=e.length;if(r>t-11)throw Error("Message too long");const n=function(e){const t=new Uint8Array(e);let r=0;for(;r<e;){const n=rr(e-r);for(let e=0;e<n.length;e++)0!==n[e]&&(t[r++]=n[e])}return t}(t-r-3),i=new Uint8Array(t);return i[1]=2,i.set(n,2),i.set(e,t-r),i}function hr(e,t){let r=2,n=1;for(let t=r;t<e.length;t++)n&=0!==e[t],r+=n;const i=r-2,a=e.subarray(r+1),s=0===e[0]&2===e[1]&i>=8&!n;if(t)return ae.selectUint8Array(s,a,t);if(s)return a;throw Error("Decryption error")}async function lr(e,t,r){let n;if(t.length!==ut.getHashByteLength(e))throw Error("Invalid hash length");const i=new Uint8Array(cr[e].length);for(n=0;n<cr[e].length;n++)i[n]=cr[e][n];const a=i.length+t.length;if(r<a+11)throw Error("Intended encoded message length too short");const s=new Uint8Array(r-a-3).fill(255),o=new Uint8Array(r);return o[1]=1,o.set(s,2),o.set(i,r-a),o.set(t,r-t.length),o}cr[1]=[48,32,48,12,6,8,42,134,72,134,247,13,2,5,5,0,4,16],cr[2]=[48,33,48,9,6,5,43,14,3,2,26,5,0,4,20],cr[3]=[48,33,48,9,6,5,43,36,3,2,1,5,0,4,20],cr[8]=[48,49,48,13,6,9,96,134,72,1,101,3,4,2,1,5,0,4,32],cr[9]=[48,65,48,13,6,9,96,134,72,1,101,3,4,2,2,5,0,4,48],cr[10]=[48,81,48,13,6,9,96,134,72,1,101,3,4,2,3,5,0,4,64],cr[11]=[48,45,48,13,6,9,96,134,72,1,101,3,4,2,4,5,0,4,28];var yr=Object.freeze({__proto__:null,emeDecode:hr,emeEncode:ur,emsaEncode:lr});const pr=ae.getWebCrypto(),fr=ae.getNodeCrypto(),dr=fr?ae.nodeRequire("asn1.js"):void 0,gr=fr?dr.define("RSAPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())})):void 0,mr=fr?dr.define("RSAPubliceKey",(function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())})):void 0;var wr=Object.freeze({__proto__:null,decrypt:async function(e,t,n,i,a,s,o,c){return ae.getNodeCrypto()?async function(e,t,n,i,a,s,o,c){const{default:u}=await r.e(8036).then(r.bind(r,28036)).then((function(e){return e.b})),h=new u(a),l=new u(s),y=new u(i),p=y.mod(l.subn(1)),f=y.mod(h.subn(1)),d={version:0,modulus:new u(t),publicExponent:new u(n),privateExponent:new u(i),prime1:new u(s),prime2:new u(a),exponent1:p,exponent2:f,coefficient:new u(o)};let g;g=void 0!==fr.createPrivateKey?{key:gr.encode(d,"der"),format:"der",type:"pkcs1",padding:fr.constants.RSA_PKCS1_PADDING}:{key:gr.encode(d,"pem",{label:"RSA PRIVATE KEY"}),padding:fr.constants.RSA_PKCS1_PADDING};try{return new Uint8Array(fr.privateDecrypt(g,e))}catch(e){if(c)return c;throw Error("Decryption error")}}(e,t,n,i,a,s,o,c):async function(e,t,r,n,i,a,s,o){const c=await ae.getBigInteger();if(e=new c(e),t=new c(t),r=new c(r),n=new c(n),i=new c(i),a=new c(a),s=new c(s),e.gte(t))throw Error("Data too large.");const u=n.mod(a.dec()),h=n.mod(i.dec()),l=(await nr(new c(2),t)).mod(t),y=l.modInv(t).modExp(r,t),p=(e=e.mul(y).mod(t)).modExp(h,i),f=e.modExp(u,a);let d=s.mul(f.sub(p)).mod(a).mul(i).add(p);return d=d.mul(l).mod(t),hr(d.toUint8Array("be",t.byteLength()),o)}(e,t,n,i,a,s,o,c)},encrypt:async function(e,t,n){return ae.getNodeCrypto()?async function(e,t,n){const{default:i}=await r.e(8036).then(r.bind(r,28036)).then((function(e){return e.b})),a={modulus:new i(t),publicExponent:new i(n)};let s;return s=void 0!==fr.createPrivateKey?{key:mr.encode(a,"der"),format:"der",type:"pkcs1",padding:fr.constants.RSA_PKCS1_PADDING}:{key:mr.encode(a,"pem",{label:"RSA PUBLIC KEY"}),padding:fr.constants.RSA_PKCS1_PADDING},new Uint8Array(fr.publicEncrypt(s,e))}(e,t,n):async function(e,t,r){const n=await ae.getBigInteger();if(t=new n(t),e=new n(ur(e,t.byteLength())),r=new n(r),e.gte(t))throw Error("Message size cannot exceed modulus size");return e.modExp(r,t).toUint8Array("be",t.byteLength())}(e,t,n)},generate:async function(e,t){if(t=new(await ae.getBigInteger())(t),ae.getWebCrypto()){const r={name:"RSASSA-PKCS1-v1_5",modulusLength:e,publicExponent:t.toUint8Array(),hash:{name:"SHA-1"}},n=await pr.generateKey(r,!0,["sign","verify"]),i=await pr.exportKey("jwk",n.privateKey);return{n:le(i.n),e:t.toUint8Array(),d:le(i.d),p:le(i.q),q:le(i.p),u:le(i.qi)}}if(ae.getNodeCrypto()&&fr.generateKeyPair&&gr){const r={modulusLength:e,publicExponent:t.toNumber(),publicKeyEncoding:{type:"pkcs1",format:"der"},privateKeyEncoding:{type:"pkcs1",format:"der"}},n=await new Promise(((e,t)=>{fr.generateKeyPair("rsa",r,((r,n,i)=>{r?t(r):e(gr.decode(i,"der"))}))}));return{n:n.modulus.toArrayLike(Uint8Array),e:n.publicExponent.toArrayLike(Uint8Array),d:n.privateExponent.toArrayLike(Uint8Array),p:n.prime2.toArrayLike(Uint8Array),q:n.prime1.toArrayLike(Uint8Array),u:n.coefficient.toArrayLike(Uint8Array)}}let r,n,i;do{n=await ar(e-(e>>1),t,40),r=await ar(e>>1,t,40),i=r.mul(n)}while(i.bitLength()!==e);const a=r.dec().imul(n.dec());return n.lt(r)&&([r,n]=[n,r]),{n:i.toUint8Array(),e:t.toUint8Array(),d:t.modInv(a).toUint8Array(),p:r.toUint8Array(),q:n.toUint8Array(),u:r.modInv(n).toUint8Array()}},sign:async function(e,t,n,i,a,s,o,c,u){if(t&&!ae.isStream(t))if(ae.getWebCrypto())try{return await async function(e,t,r,n,i,a,s,o){const c=await async function(e,t,r,n,i,a){const s=await ae.getBigInteger(),o=new s(n),c=new s(i),u=new s(r);let h=u.mod(c.dec()),l=u.mod(o.dec());return l=l.toUint8Array(),h=h.toUint8Array(),{kty:"RSA",n:ye(e,!0),e:ye(t,!0),d:ye(r,!0),p:ye(i,!0),q:ye(n,!0),dp:ye(h,!0),dq:ye(l,!0),qi:ye(a,!0),ext:!0}}(r,n,i,a,s,o),u={name:"RSASSA-PKCS1-v1_5",hash:{name:e}},h=await pr.importKey("jwk",c,u,!1,["sign"]);return new Uint8Array(await pr.sign("RSASSA-PKCS1-v1_5",h,t))}(re.read(re.webHash,e),t,n,i,a,s,o,c)}catch(e){ae.printDebugError(e)}else if(ae.getNodeCrypto())return async function(e,t,n,i,a,s,o,c){const{default:u}=await r.e(8036).then(r.bind(r,28036)).then((function(e){return e.b})),h=new u(s),l=new u(o),y=new u(a),p=y.mod(l.subn(1)),f=y.mod(h.subn(1)),d=fr.createSign(re.read(re.hash,e));d.write(t),d.end();const g={version:0,modulus:new u(n),publicExponent:new u(i),privateExponent:new u(a),prime1:new u(o),prime2:new u(s),exponent1:p,exponent2:f,coefficient:new u(c)};if(void 0!==fr.createPrivateKey){const e=gr.encode(g,"der");return new Uint8Array(d.sign({key:e,format:"der",type:"pkcs1"}))}const m=gr.encode(g,"pem",{label:"RSA PRIVATE KEY"});return new Uint8Array(d.sign(m))}(e,t,n,i,a,s,o,c);return async function(e,t,r,n){const i=await ae.getBigInteger();t=new i(t);const a=new i(await lr(e,n,t.byteLength()));if(r=new i(r),a.gte(t))throw Error("Message size cannot exceed modulus size");return a.modExp(r,t).toUint8Array("be",t.byteLength())}(e,n,a,u)},validateParams:async function(e,t,r,n,i,a){const s=await ae.getBigInteger();if(e=new s(e),n=new s(n),i=new s(i),!n.mul(i).equal(e))return!1;const o=new s(2);if(a=new s(a),!n.mul(a).mod(i).isOne())return!1;t=new s(t),r=new s(r);const c=new s(Math.floor(e.bitLength()/3)),u=await nr(o,o.leftShift(c)),h=u.mul(r).mul(t);return!(!h.mod(n.dec()).equal(u)||!h.mod(i.dec()).equal(u))},verify:async function(e,t,n,i,a,s){if(t&&!ae.isStream(t))if(ae.getWebCrypto())try{return await async function(e,t,r,n,i){const a=function(e,t){return{kty:"RSA",n:ye(e,!0),e:ye(t,!0),ext:!0}}(n,i),s=await pr.importKey("jwk",a,{name:"RSASSA-PKCS1-v1_5",hash:{name:e}},!1,["verify"]);return pr.verify("RSASSA-PKCS1-v1_5",s,r,t)}(re.read(re.webHash,e),t,n,i,a)}catch(e){ae.printDebugError(e)}else if(ae.getNodeCrypto())return async function(e,t,n,i,a){const{default:s}=await r.e(8036).then(r.bind(r,28036)).then((function(e){return e.b})),o=fr.createVerify(re.read(re.hash,e));o.write(t),o.end();const c={modulus:new s(i),publicExponent:new s(a)};let u;u=void 0!==fr.createPrivateKey?{key:mr.encode(c,"der"),format:"der",type:"pkcs1"}:mr.encode(c,"pem",{label:"RSA PUBLIC KEY"});try{return await o.verify(u,n)}catch(e){return!1}}(e,t,n,i,a);return async function(e,t,r,n,i){const a=await ae.getBigInteger();if(r=new a(r),t=new a(t),n=new a(n),t.gte(r))throw Error("Signature size cannot exceed modulus size");const s=t.modExp(n,r).toUint8Array("be",r.byteLength()),o=await lr(e,i,r.byteLength());return ae.equalsUint8Array(s,o)}(e,n,i,a,s)}}),vr=Object.freeze({__proto__:null,decrypt:async function(e,t,r,n,i){const a=await ae.getBigInteger();return e=new a(e),t=new a(t),r=new a(r),n=new a(n),hr(e.modExp(n,r).modInv(r).imul(t).imod(r).toUint8Array("be",r.byteLength()),i)},encrypt:async function(e,t,r,n){const i=await ae.getBigInteger();t=new i(t),r=new i(r),n=new i(n);const a=new i(ur(e,t.byteLength())),s=await nr(new i(1),t.dec());return{c1:r.modExp(s,t).toUint8Array(),c2:n.modExp(s,t).imul(a).imod(t).toUint8Array()}},validateParams:async function(e,t,r,n){const i=await ae.getBigInteger();e=new i(e),t=new i(t),r=new i(r);const a=new i(1);if(t.lte(a)||t.gte(e))return!1;const s=new i(e.bitLength()),o=new i(1023);if(s.lt(o))return!1;if(!t.modExp(e.dec(),e).isOne())return!1;let c=t;const u=new i(1),h=new i(2).leftShift(new i(17));for(;u.lt(h);){if(c=c.mul(t).imod(e),c.isOne())return!1;u.iinc()}n=new i(n);const l=new i(2),y=await nr(l.leftShift(s.dec()),l.leftShift(s)),p=e.dec().imul(y).iadd(n);return!!r.equal(t.modExp(p,e))}});const br="object"==typeof b&&"crypto"in b?b.crypto:void 0,kr={};var Ar=function(e){var t,r=new Float64Array(16);if(e)for(t=0;t<e.length;t++)r[t]=e[t];return r},Er=function(){throw Error("no PRNG")},Sr=new Uint8Array(32);Sr[0]=9;var xr=Ar(),Kr=Ar([1]),Pr=Ar([56129,1]),Dr=Ar([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),Ur=Ar([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),Cr=Ar([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),Ir=Ar([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),_r=Ar([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function Tr(e,t,r,n){e[t]=r>>24&255,e[t+1]=r>>16&255,e[t+2]=r>>8&255,e[t+3]=255&r,e[t+4]=n>>24&255,e[t+5]=n>>16&255,e[t+6]=n>>8&255,e[t+7]=255&n}function Rr(e,t,r,n){return function(e,t,r,n,i){var a,s=0;for(a=0;a<32;a++)s|=e[t+a]^r[n+a];return(1&s-1>>>8)-1}(e,t,r,n)}function Mr(e,t){var r;for(r=0;r<16;r++)e[r]=0|t[r]}function Or(e){var t,r,n=1;for(t=0;t<16;t++)r=e[t]+n+65535,n=Math.floor(r/65536),e[t]=r-65536*n;e[0]+=n-1+37*(n-1)}function Br(e,t,r){for(var n,i=~(r-1),a=0;a<16;a++)n=i&(e[a]^t[a]),e[a]^=n,t[a]^=n}function Lr(e,t){var r,n,i,a=Ar(),s=Ar();for(r=0;r<16;r++)s[r]=t[r];for(Or(s),Or(s),Or(s),n=0;n<2;n++){for(a[0]=s[0]-65517,r=1;r<15;r++)a[r]=s[r]-65535-(a[r-1]>>16&1),a[r-1]&=65535;a[15]=s[15]-32767-(a[14]>>16&1),i=a[15]>>16&1,a[14]&=65535,Br(s,a,1-i)}for(r=0;r<16;r++)e[2*r]=255&s[r],e[2*r+1]=s[r]>>8}function Nr(e,t){var r=new Uint8Array(32),n=new Uint8Array(32);return Lr(r,e),Lr(n,t),Rr(r,0,n,0)}function Fr(e){var t=new Uint8Array(32);return Lr(t,e),1&t[0]}function jr(e,t){var r;for(r=0;r<16;r++)e[r]=t[2*r]+(t[2*r+1]<<8);e[15]&=32767}function zr(e,t,r){for(var n=0;n<16;n++)e[n]=t[n]+r[n]}function Hr(e,t,r){for(var n=0;n<16;n++)e[n]=t[n]-r[n]}function qr(e,t,r){var n,i,a=0,s=0,o=0,c=0,u=0,h=0,l=0,y=0,p=0,f=0,d=0,g=0,m=0,w=0,v=0,b=0,k=0,A=0,E=0,S=0,x=0,K=0,P=0,D=0,U=0,C=0,I=0,_=0,T=0,R=0,M=0,O=r[0],B=r[1],L=r[2],N=r[3],F=r[4],j=r[5],z=r[6],H=r[7],q=r[8],G=r[9],V=r[10],W=r[11],$=r[12],Y=r[13],X=r[14],Q=r[15];a+=(n=t[0])*O,s+=n*B,o+=n*L,c+=n*N,u+=n*F,h+=n*j,l+=n*z,y+=n*H,p+=n*q,f+=n*G,d+=n*V,g+=n*W,m+=n*$,w+=n*Y,v+=n*X,b+=n*Q,s+=(n=t[1])*O,o+=n*B,c+=n*L,u+=n*N,h+=n*F,l+=n*j,y+=n*z,p+=n*H,f+=n*q,d+=n*G,g+=n*V,m+=n*W,w+=n*$,v+=n*Y,b+=n*X,k+=n*Q,o+=(n=t[2])*O,c+=n*B,u+=n*L,h+=n*N,l+=n*F,y+=n*j,p+=n*z,f+=n*H,d+=n*q,g+=n*G,m+=n*V,w+=n*W,v+=n*$,b+=n*Y,k+=n*X,A+=n*Q,c+=(n=t[3])*O,u+=n*B,h+=n*L,l+=n*N,y+=n*F,p+=n*j,f+=n*z,d+=n*H,g+=n*q,m+=n*G,w+=n*V,v+=n*W,b+=n*$,k+=n*Y,A+=n*X,E+=n*Q,u+=(n=t[4])*O,h+=n*B,l+=n*L,y+=n*N,p+=n*F,f+=n*j,d+=n*z,g+=n*H,m+=n*q,w+=n*G,v+=n*V,b+=n*W,k+=n*$,A+=n*Y,E+=n*X,S+=n*Q,h+=(n=t[5])*O,l+=n*B,y+=n*L,p+=n*N,f+=n*F,d+=n*j,g+=n*z,m+=n*H,w+=n*q,v+=n*G,b+=n*V,k+=n*W,A+=n*$,E+=n*Y,S+=n*X,x+=n*Q,l+=(n=t[6])*O,y+=n*B,p+=n*L,f+=n*N,d+=n*F,g+=n*j,m+=n*z,w+=n*H,v+=n*q,b+=n*G,k+=n*V,A+=n*W,E+=n*$,S+=n*Y,x+=n*X,K+=n*Q,y+=(n=t[7])*O,p+=n*B,f+=n*L,d+=n*N,g+=n*F,m+=n*j,w+=n*z,v+=n*H,b+=n*q,k+=n*G,A+=n*V,E+=n*W,S+=n*$,x+=n*Y,K+=n*X,P+=n*Q,p+=(n=t[8])*O,f+=n*B,d+=n*L,g+=n*N,m+=n*F,w+=n*j,v+=n*z,b+=n*H,k+=n*q,A+=n*G,E+=n*V,S+=n*W,x+=n*$,K+=n*Y,P+=n*X,D+=n*Q,f+=(n=t[9])*O,d+=n*B,g+=n*L,m+=n*N,w+=n*F,v+=n*j,b+=n*z,k+=n*H,A+=n*q,E+=n*G,S+=n*V,x+=n*W,K+=n*$,P+=n*Y,D+=n*X,U+=n*Q,d+=(n=t[10])*O,g+=n*B,m+=n*L,w+=n*N,v+=n*F,b+=n*j,k+=n*z,A+=n*H,E+=n*q,S+=n*G,x+=n*V,K+=n*W,P+=n*$,D+=n*Y,U+=n*X,C+=n*Q,g+=(n=t[11])*O,m+=n*B,w+=n*L,v+=n*N,b+=n*F,k+=n*j,A+=n*z,E+=n*H,S+=n*q,x+=n*G,K+=n*V,P+=n*W,D+=n*$,U+=n*Y,C+=n*X,I+=n*Q,m+=(n=t[12])*O,w+=n*B,v+=n*L,b+=n*N,k+=n*F,A+=n*j,E+=n*z,S+=n*H,x+=n*q,K+=n*G,P+=n*V,D+=n*W,U+=n*$,C+=n*Y,I+=n*X,_+=n*Q,w+=(n=t[13])*O,v+=n*B,b+=n*L,k+=n*N,A+=n*F,E+=n*j,S+=n*z,x+=n*H,K+=n*q,P+=n*G,D+=n*V,U+=n*W,C+=n*$,I+=n*Y,_+=n*X,T+=n*Q,v+=(n=t[14])*O,b+=n*B,k+=n*L,A+=n*N,E+=n*F,S+=n*j,x+=n*z,K+=n*H,P+=n*q,D+=n*G,U+=n*V,C+=n*W,I+=n*$,_+=n*Y,T+=n*X,R+=n*Q,b+=(n=t[15])*O,s+=38*(A+=n*L),o+=38*(E+=n*N),c+=38*(S+=n*F),u+=38*(x+=n*j),h+=38*(K+=n*z),l+=38*(P+=n*H),y+=38*(D+=n*q),p+=38*(U+=n*G),f+=38*(C+=n*V),d+=38*(I+=n*W),g+=38*(_+=n*$),m+=38*(T+=n*Y),w+=38*(R+=n*X),v+=38*(M+=n*Q),a=(n=(a+=38*(k+=n*B))+(i=1)+65535)-65536*(i=Math.floor(n/65536)),s=(n=s+i+65535)-65536*(i=Math.floor(n/65536)),o=(n=o+i+65535)-65536*(i=Math.floor(n/65536)),c=(n=c+i+65535)-65536*(i=Math.floor(n/65536)),u=(n=u+i+65535)-65536*(i=Math.floor(n/65536)),h=(n=h+i+65535)-65536*(i=Math.floor(n/65536)),l=(n=l+i+65535)-65536*(i=Math.floor(n/65536)),y=(n=y+i+65535)-65536*(i=Math.floor(n/65536)),p=(n=p+i+65535)-65536*(i=Math.floor(n/65536)),f=(n=f+i+65535)-65536*(i=Math.floor(n/65536)),d=(n=d+i+65535)-65536*(i=Math.floor(n/65536)),g=(n=g+i+65535)-65536*(i=Math.floor(n/65536)),m=(n=m+i+65535)-65536*(i=Math.floor(n/65536)),w=(n=w+i+65535)-65536*(i=Math.floor(n/65536)),v=(n=v+i+65535)-65536*(i=Math.floor(n/65536)),b=(n=b+i+65535)-65536*(i=Math.floor(n/65536)),a=(n=(a+=i-1+37*(i-1))+(i=1)+65535)-65536*(i=Math.floor(n/65536)),s=(n=s+i+65535)-65536*(i=Math.floor(n/65536)),o=(n=o+i+65535)-65536*(i=Math.floor(n/65536)),c=(n=c+i+65535)-65536*(i=Math.floor(n/65536)),u=(n=u+i+65535)-65536*(i=Math.floor(n/65536)),h=(n=h+i+65535)-65536*(i=Math.floor(n/65536)),l=(n=l+i+65535)-65536*(i=Math.floor(n/65536)),y=(n=y+i+65535)-65536*(i=Math.floor(n/65536)),p=(n=p+i+65535)-65536*(i=Math.floor(n/65536)),f=(n=f+i+65535)-65536*(i=Math.floor(n/65536)),d=(n=d+i+65535)-65536*(i=Math.floor(n/65536)),g=(n=g+i+65535)-65536*(i=Math.floor(n/65536)),m=(n=m+i+65535)-65536*(i=Math.floor(n/65536)),w=(n=w+i+65535)-65536*(i=Math.floor(n/65536)),v=(n=v+i+65535)-65536*(i=Math.floor(n/65536)),b=(n=b+i+65535)-65536*(i=Math.floor(n/65536)),a+=i-1+37*(i-1),e[0]=a,e[1]=s,e[2]=o,e[3]=c,e[4]=u,e[5]=h,e[6]=l,e[7]=y,e[8]=p,e[9]=f,e[10]=d,e[11]=g,e[12]=m,e[13]=w,e[14]=v,e[15]=b}function Gr(e,t){qr(e,t,t)}function Vr(e,t){var r,n=Ar();for(r=0;r<16;r++)n[r]=t[r];for(r=253;r>=0;r--)Gr(n,n),2!==r&&4!==r&&qr(n,n,t);for(r=0;r<16;r++)e[r]=n[r]}function Wr(e,t,r){var n,i,a=new Uint8Array(32),s=new Float64Array(80),o=Ar(),c=Ar(),u=Ar(),h=Ar(),l=Ar(),y=Ar();for(i=0;i<31;i++)a[i]=t[i];for(a[31]=127&t[31]|64,a[0]&=248,jr(s,r),i=0;i<16;i++)c[i]=s[i],h[i]=o[i]=u[i]=0;for(o[0]=h[0]=1,i=254;i>=0;--i)Br(o,c,n=a[i>>>3]>>>(7&i)&1),Br(u,h,n),zr(l,o,u),Hr(o,o,u),zr(u,c,h),Hr(c,c,h),Gr(h,l),Gr(y,o),qr(o,u,o),qr(u,c,l),zr(l,o,u),Hr(o,o,u),Gr(c,o),Hr(u,h,y),qr(o,u,Pr),zr(o,o,h),qr(u,u,o),qr(o,h,y),qr(h,c,s),Gr(c,l),Br(o,c,n),Br(u,h,n);for(i=0;i<16;i++)s[i+16]=o[i],s[i+32]=u[i],s[i+48]=c[i],s[i+64]=h[i];var p=s.subarray(32),f=s.subarray(16);return Vr(p,p),qr(f,f,p),Lr(e,f),0}function $r(e,t){return Wr(e,t,Sr)}var Yr=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function Xr(e,t,r,n){for(var i,a,s,o,c,u,h,l,y,p,f,d,g,m,w,v,b,k,A,E,S,x,K,P,D,U,C=new Int32Array(16),I=new Int32Array(16),_=e[0],T=e[1],R=e[2],M=e[3],O=e[4],B=e[5],L=e[6],N=e[7],F=t[0],j=t[1],z=t[2],H=t[3],q=t[4],G=t[5],V=t[6],W=t[7],$=0;n>=128;){for(A=0;A<16;A++)E=8*A+$,C[A]=r[E+0]<<24|r[E+1]<<16|r[E+2]<<8|r[E+3],I[A]=r[E+4]<<24|r[E+5]<<16|r[E+6]<<8|r[E+7];for(A=0;A<80;A++)if(i=_,a=T,s=R,o=M,c=O,u=B,h=L,y=F,p=j,f=z,d=H,g=q,m=G,w=V,K=65535&(x=W),P=x>>>16,D=65535&(S=N),U=S>>>16,K+=65535&(x=(q>>>14|O<<18)^(q>>>18|O<<14)^(O>>>9|q<<23)),P+=x>>>16,D+=65535&(S=(O>>>14|q<<18)^(O>>>18|q<<14)^(q>>>9|O<<23)),U+=S>>>16,K+=65535&(x=q&G^~q&V),P+=x>>>16,D+=65535&(S=O&B^~O&L),U+=S>>>16,S=Yr[2*A],K+=65535&(x=Yr[2*A+1]),P+=x>>>16,D+=65535&S,U+=S>>>16,S=C[A%16],P+=(x=I[A%16])>>>16,D+=65535&S,U+=S>>>16,D+=(P+=(K+=65535&x)>>>16)>>>16,K=65535&(x=k=65535&K|P<<16),P=x>>>16,D=65535&(S=b=65535&D|(U+=D>>>16)<<16),U=S>>>16,K+=65535&(x=(F>>>28|_<<4)^(_>>>2|F<<30)^(_>>>7|F<<25)),P+=x>>>16,D+=65535&(S=(_>>>28|F<<4)^(F>>>2|_<<30)^(F>>>7|_<<25)),U+=S>>>16,P+=(x=F&j^F&z^j&z)>>>16,D+=65535&(S=_&T^_&R^T&R),U+=S>>>16,l=65535&(D+=(P+=(K+=65535&x)>>>16)>>>16)|(U+=D>>>16)<<16,v=65535&K|P<<16,K=65535&(x=d),P=x>>>16,D=65535&(S=o),U=S>>>16,P+=(x=k)>>>16,D+=65535&(S=b),U+=S>>>16,T=i,R=a,M=s,O=o=65535&(D+=(P+=(K+=65535&x)>>>16)>>>16)|(U+=D>>>16)<<16,B=c,L=u,N=h,_=l,j=y,z=p,H=f,q=d=65535&K|P<<16,G=g,V=m,W=w,F=v,A%16==15)for(E=0;E<16;E++)S=C[E],K=65535&(x=I[E]),P=x>>>16,D=65535&S,U=S>>>16,S=C[(E+9)%16],K+=65535&(x=I[(E+9)%16]),P+=x>>>16,D+=65535&S,U+=S>>>16,b=C[(E+1)%16],K+=65535&(x=((k=I[(E+1)%16])>>>1|b<<31)^(k>>>8|b<<24)^(k>>>7|b<<25)),P+=x>>>16,D+=65535&(S=(b>>>1|k<<31)^(b>>>8|k<<24)^b>>>7),U+=S>>>16,b=C[(E+14)%16],P+=(x=((k=I[(E+14)%16])>>>19|b<<13)^(b>>>29|k<<3)^(k>>>6|b<<26))>>>16,D+=65535&(S=(b>>>19|k<<13)^(k>>>29|b<<3)^b>>>6),U+=S>>>16,U+=(D+=(P+=(K+=65535&x)>>>16)>>>16)>>>16,C[E]=65535&D|U<<16,I[E]=65535&K|P<<16;K=65535&(x=F),P=x>>>16,D=65535&(S=_),U=S>>>16,S=e[0],P+=(x=t[0])>>>16,D+=65535&S,U+=S>>>16,U+=(D+=(P+=(K+=65535&x)>>>16)>>>16)>>>16,e[0]=_=65535&D|U<<16,t[0]=F=65535&K|P<<16,K=65535&(x=j),P=x>>>16,D=65535&(S=T),U=S>>>16,S=e[1],P+=(x=t[1])>>>16,D+=65535&S,U+=S>>>16,U+=(D+=(P+=(K+=65535&x)>>>16)>>>16)>>>16,e[1]=T=65535&D|U<<16,t[1]=j=65535&K|P<<16,K=65535&(x=z),P=x>>>16,D=65535&(S=R),U=S>>>16,S=e[2],P+=(x=t[2])>>>16,D+=65535&S,U+=S>>>16,U+=(D+=(P+=(K+=65535&x)>>>16)>>>16)>>>16,e[2]=R=65535&D|U<<16,t[2]=z=65535&K|P<<16,K=65535&(x=H),P=x>>>16,D=65535&(S=M),U=S>>>16,S=e[3],P+=(x=t[3])>>>16,D+=65535&S,U+=S>>>16,U+=(D+=(P+=(K+=65535&x)>>>16)>>>16)>>>16,e[3]=M=65535&D|U<<16,t[3]=H=65535&K|P<<16,K=65535&(x=q),P=x>>>16,D=65535&(S=O),U=S>>>16,S=e[4],P+=(x=t[4])>>>16,D+=65535&S,U+=S>>>16,U+=(D+=(P+=(K+=65535&x)>>>16)>>>16)>>>16,e[4]=O=65535&D|U<<16,t[4]=q=65535&K|P<<16,K=65535&(x=G),P=x>>>16,D=65535&(S=B),U=S>>>16,S=e[5],P+=(x=t[5])>>>16,D+=65535&S,U+=S>>>16,U+=(D+=(P+=(K+=65535&x)>>>16)>>>16)>>>16,e[5]=B=65535&D|U<<16,t[5]=G=65535&K|P<<16,K=65535&(x=V),P=x>>>16,D=65535&(S=L),U=S>>>16,S=e[6],P+=(x=t[6])>>>16,D+=65535&S,U+=S>>>16,U+=(D+=(P+=(K+=65535&x)>>>16)>>>16)>>>16,e[6]=L=65535&D|U<<16,t[6]=V=65535&K|P<<16,K=65535&(x=W),P=x>>>16,D=65535&(S=N),U=S>>>16,S=e[7],P+=(x=t[7])>>>16,D+=65535&S,U+=S>>>16,U+=(D+=(P+=(K+=65535&x)>>>16)>>>16)>>>16,e[7]=N=65535&D|U<<16,t[7]=W=65535&K|P<<16,$+=128,n-=128}return n}function Qr(e,t,r){var n,i=new Int32Array(8),a=new Int32Array(8),s=new Uint8Array(256),o=r;for(i[0]=1779033703,i[1]=3144134277,i[2]=1013904242,i[3]=2773480762,i[4]=1359893119,i[5]=2600822924,i[6]=528734635,i[7]=1541459225,a[0]=4089235720,a[1]=2227873595,a[2]=4271175723,a[3]=1595750129,a[4]=2917565137,a[5]=725511199,a[6]=4215389547,a[7]=327033209,Xr(i,a,t,r),r%=128,n=0;n<r;n++)s[n]=t[o-r+n];for(s[r]=128,s[(r=256-128*(r<112?1:0))-9]=0,Tr(s,r-8,o/536870912|0,o<<3),Xr(i,a,s,r),n=0;n<8;n++)Tr(e,8*n,i[n],a[n]);return 0}function Zr(e,t){var r=Ar(),n=Ar(),i=Ar(),a=Ar(),s=Ar(),o=Ar(),c=Ar(),u=Ar(),h=Ar();Hr(r,e[1],e[0]),Hr(h,t[1],t[0]),qr(r,r,h),zr(n,e[0],e[1]),zr(h,t[0],t[1]),qr(n,n,h),qr(i,e[3],t[3]),qr(i,i,Ur),qr(a,e[2],t[2]),zr(a,a,a),Hr(s,n,r),Hr(o,a,i),zr(c,a,i),zr(u,n,r),qr(e[0],s,o),qr(e[1],u,c),qr(e[2],c,o),qr(e[3],s,u)}function Jr(e,t,r){var n;for(n=0;n<4;n++)Br(e[n],t[n],r)}function en(e,t){var r=Ar(),n=Ar(),i=Ar();Vr(i,t[2]),qr(r,t[0],i),qr(n,t[1],i),Lr(e,n),e[31]^=Fr(r)<<7}function tn(e,t,r){var n,i;for(Mr(e[0],xr),Mr(e[1],Kr),Mr(e[2],Kr),Mr(e[3],xr),i=255;i>=0;--i)Jr(e,t,n=r[i/8|0]>>(7&i)&1),Zr(t,e),Zr(e,e),Jr(e,t,n)}function rn(e,t){var r=[Ar(),Ar(),Ar(),Ar()];Mr(r[0],Cr),Mr(r[1],Ir),Mr(r[2],Kr),qr(r[3],Cr,Ir),tn(e,r,t)}function nn(e,t,r){var n,i=new Uint8Array(64),a=[Ar(),Ar(),Ar(),Ar()];for(r||Er(t,32),Qr(i,t,32),i[0]&=248,i[31]&=127,i[31]|=64,rn(a,i),en(e,a),n=0;n<32;n++)t[n+32]=e[n];return 0}var an=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function sn(e,t){var r,n,i,a;for(n=63;n>=32;--n){for(r=0,i=n-32,a=n-12;i<a;++i)t[i]+=r-16*t[n]*an[i-(n-32)],r=Math.floor((t[i]+128)/256),t[i]-=256*r;t[i]+=r,t[n]=0}for(r=0,i=0;i<32;i++)t[i]+=r-(t[31]>>4)*an[i],r=t[i]>>8,t[i]&=255;for(i=0;i<32;i++)t[i]-=r*an[i];for(n=0;n<32;n++)t[n+1]+=t[n]>>8,e[n]=255&t[n]}function on(e){var t,r=new Float64Array(64);for(t=0;t<64;t++)r[t]=e[t];for(t=0;t<64;t++)e[t]=0;sn(e,r)}var cn=64;function un(){for(var e=0;e<arguments.length;e++)if(!(arguments[e]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}kr.scalarMult=function(e,t){if(un(e,t),32!==e.length)throw Error("bad n size");if(32!==t.length)throw Error("bad p size");var r=new Uint8Array(32);return Wr(r,e,t),r},kr.box={},kr.box.keyPair=function(){var e=new Uint8Array(32),t=new Uint8Array(32);return function(e,t){Er(t,32),$r(e,t)}(e,t),{publicKey:e,secretKey:t}},kr.box.keyPair.fromSecretKey=function(e){if(un(e),32!==e.length)throw Error("bad secret key size");var t=new Uint8Array(32);return $r(t,e),{publicKey:t,secretKey:new Uint8Array(e)}},kr.sign=function(e,t){if(un(e,t),64!==t.length)throw Error("bad secret key size");var r=new Uint8Array(cn+e.length);return function(e,t,r,n){var i,a,s=new Uint8Array(64),o=new Uint8Array(64),c=new Uint8Array(64),u=new Float64Array(64),h=[Ar(),Ar(),Ar(),Ar()];Qr(s,n,32),s[0]&=248,s[31]&=127,s[31]|=64;for(i=0;i<r;i++)e[64+i]=t[i];for(i=0;i<32;i++)e[32+i]=s[32+i];for(Qr(c,e.subarray(32),r+32),on(c),rn(h,c),en(e,h),i=32;i<64;i++)e[i]=n[i];for(Qr(o,e,r+64),on(o),i=0;i<64;i++)u[i]=0;for(i=0;i<32;i++)u[i]=c[i];for(i=0;i<32;i++)for(a=0;a<32;a++)u[i+a]+=o[i]*s[a];sn(e.subarray(32),u)}(r,e,e.length,t),r},kr.sign.detached=function(e,t){for(var r=kr.sign(e,t),n=new Uint8Array(cn),i=0;i<n.length;i++)n[i]=r[i];return n},kr.sign.detached.verify=function(e,t,r){if(un(e,t,r),t.length!==cn)throw Error("bad signature size");if(32!==r.length)throw Error("bad public key size");var n,i=new Uint8Array(cn+e.length),a=new Uint8Array(cn+e.length);for(n=0;n<cn;n++)i[n]=t[n];for(n=0;n<e.length;n++)i[n+cn]=e[n];return function(e,t,r,n){var i,a=new Uint8Array(32),s=new Uint8Array(64),o=[Ar(),Ar(),Ar(),Ar()],c=[Ar(),Ar(),Ar(),Ar()];if(r<64)return-1;if(function(e,t){var r=Ar(),n=Ar(),i=Ar(),a=Ar(),s=Ar(),o=Ar(),c=Ar();return Mr(e[2],Kr),jr(e[1],t),Gr(i,e[1]),qr(a,i,Dr),Hr(i,i,e[2]),zr(a,e[2],a),Gr(s,a),Gr(o,s),qr(c,o,s),qr(r,c,i),qr(r,r,a),function(e,t){var r,n=Ar();for(r=0;r<16;r++)n[r]=t[r];for(r=250;r>=0;r--)Gr(n,n),1!==r&&qr(n,n,t);for(r=0;r<16;r++)e[r]=n[r]}(r,r),qr(r,r,i),qr(r,r,a),qr(r,r,a),qr(e[0],r,a),Gr(n,e[0]),qr(n,n,a),Nr(n,i)&&qr(e[0],e[0],_r),Gr(n,e[0]),qr(n,n,a),Nr(n,i)?-1:(Fr(e[0])===t[31]>>7&&Hr(e[0],xr,e[0]),qr(e[3],e[0],e[1]),0)}(c,n))return-1;for(i=0;i<r;i++)e[i]=t[i];for(i=0;i<32;i++)e[i+32]=n[i];if(Qr(s,e,r),on(s),tn(o,c,s),rn(c,t.subarray(32)),Zr(o,c),en(a,o),r-=64,Rr(t,0,a,0)){for(i=0;i<r;i++)e[i]=0;return-1}for(i=0;i<r;i++)e[i]=t[i+64];return r}(a,i,i.length,r)>=0},kr.sign.keyPair=function(){var e=new Uint8Array(32),t=new Uint8Array(64);return nn(e,t),{publicKey:e,secretKey:t}},kr.sign.keyPair.fromSecretKey=function(e){if(un(e),64!==e.length)throw Error("bad secret key size");for(var t=new Uint8Array(32),r=0;r<t.length;r++)t[r]=e[32+r];return{publicKey:t,secretKey:new Uint8Array(e)}},kr.sign.keyPair.fromSeed=function(e){if(un(e),32!==e.length)throw Error("bad seed size");for(var t=new Uint8Array(32),r=new Uint8Array(64),n=0;n<32;n++)r[n]=e[n];return nn(t,r,!0),{publicKey:t,secretKey:r}},kr.setPRNG=function(e){Er=e},br&&br.getRandomValues&&kr.setPRNG((function(e,t){var r,n=new Uint8Array(t);for(r=0;r<t;r+=65536)br.getRandomValues(n.subarray(r,r+Math.min(t-r,65536)));for(r=0;r<t;r++)e[r]=n[r];!function(e){for(var t=0;t<e.length;t++)e[t]=0}(n)}));class hn{constructor(e){if(e instanceof hn)this.oid=e.oid;else if(ae.isArray(e)||ae.isUint8Array(e)){if(6===(e=new Uint8Array(e))[0]){if(e[1]!==e.length-2)throw Error("Length mismatch in DER encoded oid");e=e.subarray(2)}this.oid=e}else this.oid=""}read(e){if(e.length>=1){const t=e[0];if(e.length>=1+t)return this.oid=e.subarray(1,1+t),1+this.oid.length}throw Error("Invalid oid")}write(){return ae.concatUint8Array([new Uint8Array([this.oid.length]),this.oid])}toHex(){return ae.uint8ArrayToHex(this.oid)}getName(){const e=this.toHex();if(re.curve[e])return re.write(re.curve,e);throw Error("Unknown curve object identifier.")}}function ln(e){let t,r=0;const n=e[0];return n<192?([r]=e,t=1):n<255?(r=(e[0]-192<<8)+e[1]+192,t=2):255===n&&(r=ae.readNumber(e.subarray(1,5)),t=5),{len:r,offset:t}}function yn(e){return e<192?new Uint8Array([e]):e>191&&e<8384?new Uint8Array([192+(e-192>>8),e-192&255]):ae.concatUint8Array([new Uint8Array([255]),ae.writeNumber(e,4)])}function pn(e){if(e<0||e>30)throw Error("Partial Length power must be between 1 and 30");return new Uint8Array([224+e])}function fn(e){return new Uint8Array([192|e])}function dn(e,t){return ae.concatUint8Array([fn(e),yn(t)])}function gn(e){return[re.packet.literalData,re.packet.compressedData,re.packet.symmetricallyEncryptedData,re.packet.symEncryptedIntegrityProtectedData,re.packet.aeadEncryptedData].includes(e)}async function mn(e,t){const r=J(e);let n,i;try{const a=await r.peekBytes(2);if(!a||a.length<2||0==(128&a[0]))throw Error("Error during parsing. This message / key probably does not conform to a valid OpenPGP format.");const s=await r.readByte();let o,c,u=-1,h=-1;h=0,0!=(64&s)&&(h=1),h?u=63&s:(u=(63&s)>>2,c=3&s);const l=gn(u);let y,p=null;if(l){if("array"===ae.isStream(e)){const e=new x;n=ee(e),p=e}else{const e=new TransformStream;n=ee(e.writable),p=e.readable}i=t({tag:u,packet:p})}else p=[];do{if(h){const e=await r.readByte();if(y=!1,e<192)o=e;else if(e>=192&&e<224)o=(e-192<<8)+await r.readByte()+192;else if(e>223&&e<255){if(o=1<<(31&e),y=!0,!l)throw new TypeError("This packet type does not support partial lengths.")}else o=await r.readByte()<<24|await r.readByte()<<16|await r.readByte()<<8|await r.readByte()}else switch(c){case 0:o=await r.readByte();break;case 1:o=await r.readByte()<<8|await r.readByte();break;case 2:o=await r.readByte()<<24|await r.readByte()<<16|await r.readByte()<<8|await r.readByte();break;default:o=1/0}if(o>0){let e=0;for(;;){n&&await n.ready;const{done:t,value:i}=await r.read();if(t){if(o===1/0)break;throw Error("Unexpected end of packet")}const a=o===1/0?i:i.subarray(0,o-e);if(n?await n.write(a):p.push(a),e+=i.length,e>=o){r.unshift(i.subarray(o-e+i.length));break}}}}while(y);const f=await r.peekBytes(l?1/0:2);return n?(await n.ready,await n.close()):(p=ae.concatUint8Array(p),await t({tag:u,packet:p})),!f||!f.length}catch(e){if(n)return await n.abort(e),!0;throw e}finally{n&&await i,r.releaseLock()}}class wn extends Error{constructor(...e){super(...e),Error.captureStackTrace&&Error.captureStackTrace(this,wn),this.name="UnsupportedError"}}class vn extends wn{constructor(...e){super(...e),Error.captureStackTrace&&Error.captureStackTrace(this,wn),this.name="UnknownPacketError"}}class bn{constructor(e,t){this.tag=e,this.rawContent=t}write(){return this.rawContent}}const kn=ae.getWebCrypto(),An=ae.getNodeCrypto(),En={[re.curve.p256]:"P-256",[re.curve.p384]:"P-384",[re.curve.p521]:"P-521"},Sn=An?An.getCurves():[],xn=An?{[re.curve.secp256k1]:Sn.includes("secp256k1")?"secp256k1":void 0,[re.curve.p256]:Sn.includes("prime256v1")?"prime256v1":void 0,[re.curve.p384]:Sn.includes("secp384r1")?"secp384r1":void 0,[re.curve.p521]:Sn.includes("secp521r1")?"secp521r1":void 0,[re.curve.ed25519Legacy]:Sn.includes("ED25519")?"ED25519":void 0,[re.curve.curve25519Legacy]:Sn.includes("X25519")?"X25519":void 0,[re.curve.brainpoolP256r1]:Sn.includes("brainpoolP256r1")?"brainpoolP256r1":void 0,[re.curve.brainpoolP384r1]:Sn.includes("brainpoolP384r1")?"brainpoolP384r1":void 0,[re.curve.brainpoolP512r1]:Sn.includes("brainpoolP512r1")?"brainpoolP512r1":void 0}:{},Kn={p256:{oid:[6,8,42,134,72,206,61,3,1,7],keyType:re.publicKey.ecdsa,hash:re.hash.sha256,cipher:re.symmetric.aes128,node:xn.p256,web:En.p256,payloadSize:32,sharedSize:256},p384:{oid:[6,5,43,129,4,0,34],keyType:re.publicKey.ecdsa,hash:re.hash.sha384,cipher:re.symmetric.aes192,node:xn.p384,web:En.p384,payloadSize:48,sharedSize:384},p521:{oid:[6,5,43,129,4,0,35],keyType:re.publicKey.ecdsa,hash:re.hash.sha512,cipher:re.symmetric.aes256,node:xn.p521,web:En.p521,payloadSize:66,sharedSize:528},secp256k1:{oid:[6,5,43,129,4,0,10],keyType:re.publicKey.ecdsa,hash:re.hash.sha256,cipher:re.symmetric.aes128,node:xn.secp256k1,payloadSize:32},ed25519Legacy:{oid:[6,9,43,6,1,4,1,218,71,15,1],keyType:re.publicKey.eddsaLegacy,hash:re.hash.sha512,node:!1,payloadSize:32},curve25519Legacy:{oid:[6,10,43,6,1,4,1,151,85,1,5,1],keyType:re.publicKey.ecdh,hash:re.hash.sha256,cipher:re.symmetric.aes128,node:!1,payloadSize:32},brainpoolP256r1:{oid:[6,9,43,36,3,3,2,8,1,1,7],keyType:re.publicKey.ecdsa,hash:re.hash.sha256,cipher:re.symmetric.aes128,node:xn.brainpoolP256r1,payloadSize:32},brainpoolP384r1:{oid:[6,9,43,36,3,3,2,8,1,1,11],keyType:re.publicKey.ecdsa,hash:re.hash.sha384,cipher:re.symmetric.aes192,node:xn.brainpoolP384r1,payloadSize:48},brainpoolP512r1:{oid:[6,9,43,36,3,3,2,8,1,1,13],keyType:re.publicKey.ecdsa,hash:re.hash.sha512,cipher:re.symmetric.aes256,node:xn.brainpoolP512r1,payloadSize:64}};class Pn{constructor(e,t){try{(ae.isArray(e)||ae.isUint8Array(e))&&(e=new hn(e)),e instanceof hn&&(e=e.getName()),this.name=re.write(re.curve,e)}catch(e){throw new wn("Unknown curve")}t=t||Kn[this.name],this.keyType=t.keyType,this.oid=t.oid,this.hash=t.hash,this.cipher=t.cipher,this.node=t.node&&Kn[this.name],this.web=t.web&&Kn[this.name],this.payloadSize=t.payloadSize,this.web&&ae.getWebCrypto()?this.type="web":this.node&&ae.getNodeCrypto()?this.type="node":this.name===re.curve.curve25519Legacy?this.type="curve25519Legacy":this.name===re.curve.ed25519Legacy&&(this.type="ed25519Legacy")}async genKeyPair(){switch(this.type){case"web":try{return await async function(e){const t=await kn.generateKey({name:"ECDSA",namedCurve:En[e]},!0,["sign","verify"]),r=await kn.exportKey("jwk",t.privateKey);return{publicKey:Cn(await kn.exportKey("jwk",t.publicKey)),privateKey:le(r.d)}}(this.name)}catch(e){return ae.printDebugError("Browser did not support generating ec key "+e.message),Un(this.name)}case"node":return async function(e){const t=An.createECDH(xn[e]);return await t.generateKeys(),{publicKey:new Uint8Array(t.getPublicKey()),privateKey:new Uint8Array(t.getPrivateKey())}}(this.name);case"curve25519Legacy":{const e=rr(32);e[0]=127&e[0]|64,e[31]&=248;const t=e.slice().reverse(),{publicKey:r}=kr.box.keyPair.fromSecretKey(t);return{publicKey:ae.concatUint8Array([new Uint8Array([64]),r]),privateKey:e}}case"ed25519Legacy":{const e=rr(32),t=kr.sign.keyPair.fromSeed(e);return{publicKey:ae.concatUint8Array([new Uint8Array([64]),t.publicKey]),privateKey:e}}default:return Un(this.name)}}}async function Dn(e,t,r,n){const i={p256:!0,p384:!0,p521:!0,secp256k1:!0,curve25519Legacy:e===re.publicKey.ecdh,brainpoolP256r1:!0,brainpoolP384r1:!0,brainpoolP512r1:!0},a=t.getName();if(!i[a])return!1;if(a===re.curve.curve25519Legacy){n=n.slice().reverse();const{publicKey:e}=kr.box.keyPair.fromSecretKey(n);r=new Uint8Array(r);const t=new Uint8Array([64,...e]);return!!ae.equalsUint8Array(t,r)}const s=(await ae.getNobleCurve(re.publicKey.ecdsa,re.write(re.curve,t.toHex()))).getPublicKey(n,!1);return!!ae.equalsUint8Array(s,r)}async function Un(e){const t=await ae.getNobleCurve(re.publicKey.ecdsa,e),r=t.utils.randomPrivateKey();return{publicKey:t.getPublicKey(r,!1),privateKey:r}}function Cn(e){const t=le(e.x),r=le(e.y),n=new Uint8Array(t.length+r.length+1);return n[0]=4,n.set(t,1),n.set(r,t.length+1),n}function In(e,t,r){const n=e,i=r.slice(1,n+1),a=r.slice(n+1,2*n+1);return{kty:"EC",crv:t,x:ye(i,!0),y:ye(a,!0),ext:!0}}function _n(e,t,r,n){const i=In(e,t,r);return i.d=ye(n,!0),i}const Tn=ae.getWebCrypto(),Rn=ae.getNodeCrypto();async function Mn(e,t,r,n,i,a){const s=new Pn(e);if(r&&!ae.isStream(r)){const a={publicKey:n,privateKey:i};switch(s.type){case"web":try{return await async function(e,t,r,n){const i=e.payloadSize,a=_n(e.payloadSize,En[e.name],n.publicKey,n.privateKey),s=await Tn.importKey("jwk",a,{name:"ECDSA",namedCurve:En[e.name],hash:{name:re.read(re.webHash,e.hash)}},!1,["sign"]),o=new Uint8Array(await Tn.sign({name:"ECDSA",namedCurve:En[e.name],hash:{name:re.read(re.webHash,t)}},s,r));return{r:o.slice(0,i),s:o.slice(i,i<<1)}}(s,t,r,a)}catch(e){if("p521"!==s.name&&("DataError"===e.name||"OperationError"===e.name))throw e;ae.printDebugError("Browser did not support signing: "+e.message)}break;case"node":{const e=await async function(e,t,r,n){const i=Rn.createSign(re.read(re.hash,t));i.write(r),i.end();const a=Fn.encode({version:1,parameters:e.oid,privateKey:Array.from(n.privateKey),publicKey:{unused:0,data:Array.from(n.publicKey)}},"pem",{label:"EC PRIVATE KEY"});return Nn.decode(i.sign(a),"der")}(s,t,r,a);return{r:e.r.toArrayLike(Uint8Array),s:e.s.toArrayLike(Uint8Array)}}}}const o=(await ae.getNobleCurve(re.publicKey.ecdsa,s.name)).sign(a,i,{lowS:!1});return{r:o.r.toUint8Array("be",s.payloadSize),s:o.s.toUint8Array("be",s.payloadSize)}}async function On(e,t,n,i,a,s){const o=new Pn(e),c=async()=>0===s[0]&&Bn(o,n,s.subarray(1),a);if(i&&!ae.isStream(i))switch(o.type){case"web":try{const e=await async function(e,t,{r,s:n},i,a){const s=In(e.payloadSize,En[e.name],a),o=await Tn.importKey("jwk",s,{name:"ECDSA",namedCurve:En[e.name],hash:{name:re.read(re.webHash,e.hash)}},!1,["verify"]),c=ae.concatUint8Array([r,n]).buffer;return Tn.verify({name:"ECDSA",namedCurve:En[e.name],hash:{name:re.read(re.webHash,t)}},o,c,i)}(o,t,n,i,a);return e||c()}catch(e){if("p521"!==o.name&&("DataError"===e.name||"OperationError"===e.name))throw e;ae.printDebugError("Browser did not support verifying: "+e.message)}break;case"node":{const e=await async function(e,t,{r:n,s:i},a,s){const{default:o}=await r.e(8036).then(r.bind(r,28036)).then((function(e){return e.b})),c=Rn.createVerify(re.read(re.hash,t));c.write(a),c.end();const u=zn.encode({algorithm:{algorithm:[1,2,840,10045,2,1],parameters:e.oid},subjectPublicKey:{unused:0,data:Array.from(s)}},"pem",{label:"PUBLIC KEY"}),h=Nn.encode({r:new o(n),s:new o(i)},"der");try{return c.verify(u,h)}catch(e){return!1}}(o,t,n,i,a);return e||c()}}return await Bn(o,n,s,a)||c()}async function Bn(e,t,r,n){return(await ae.getNobleCurve(re.publicKey.ecdsa,e.name)).verify(ae.concatUint8Array([t.r,t.s]),r,n,{lowS:!1})}const Ln=Rn?ae.nodeRequire("asn1.js"):void 0,Nn=Rn?Ln.define("ECDSASignature",(function(){this.seq().obj(this.key("r").int(),this.key("s").int())})):void 0,Fn=Rn?Ln.define("ECPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").explicit(0).optional().any(),this.key("publicKey").explicit(1).optional().bitstr())})):void 0,jn=Rn?Ln.define("AlgorithmIdentifier",(function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional().any())})):void 0,zn=Rn?Ln.define("SubjectPublicKeyInfo",(function(){this.seq().obj(this.key("algorithm").use(jn),this.key("subjectPublicKey").bitstr())})):void 0;var Hn=Object.freeze({__proto__:null,sign:Mn,validateParams:async function(e,t,r){const n=new Pn(e);if(n.keyType!==re.publicKey.ecdsa)return!1;switch(n.type){case"web":case"node":{const n=rr(8),i=re.hash.sha256,a=await ut.digest(i,n);try{const s=await Mn(e,i,n,t,r,a);return await On(e,i,s,n,t,a)}catch(e){return!1}}default:return Dn(re.publicKey.ecdsa,e,t,r)}},verify:On}),qn=Object.freeze({__proto__:null,sign:async function(e,t,r,n,i,a){if(ut.getHashByteLength(t)<ut.getHashByteLength(re.hash.sha256))throw Error("Hash algorithm too weak for EdDSA.");const s=ae.concatUint8Array([i,n.subarray(1)]),o=kr.sign.detached(a,s);if(ne.checkEdDSAFaultySignatures&&!kr.sign.detached.verify(a,o,n.subarray(1)))throw Error("Transient signing failure");return{r:o.subarray(0,32),s:o.subarray(32)}},validateParams:async function(e,t,r){if(e.getName()!==re.curve.ed25519Legacy)return!1;const{publicKey:n}=kr.sign.keyPair.fromSeed(r),i=new Uint8Array([64,...n]);return ae.equalsUint8Array(t,i)},verify:async function(e,t,{r,s:n},i,a,s){if(ut.getHashByteLength(t)<ut.getHashByteLength(re.hash.sha256))throw Error("Hash algorithm too weak for EdDSA.");const o=ae.concatUint8Array([r,n]);return kr.sign.detached.verify(s,o,a.subarray(1))}});function Gn(e){switch(e){case re.publicKey.ed25519:return 32;case re.publicKey.ed448:return 57;default:throw Error("Unsupported EdDSA algorithm")}}function Vn(e){switch(e){case re.publicKey.ed25519:return re.hash.sha256;case re.publicKey.ed448:return re.hash.sha512;default:throw Error("Unknown EdDSA algo")}}var Wn=Object.freeze({__proto__:null,generate:async function(e){switch(e){case re.publicKey.ed25519:{const t=rr(Gn(e)),{publicKey:r}=kr.sign.keyPair.fromSeed(t);return{A:r,seed:t}}case re.publicKey.ed448:{const e=await ae.getNobleCurve(re.publicKey.ed448),t=e.utils.randomPrivateKey();return{A:e.getPublicKey(t),seed:t}}default:throw Error("Unsupported EdDSA algorithm")}},getPayloadSize:Gn,getPreferredHashAlgo:Vn,sign:async function(e,t,r,n,i,a){if(ut.getHashByteLength(t)<ut.getHashByteLength(Vn(e)))throw Error("Hash algorithm too weak for EdDSA.");switch(e){case re.publicKey.ed25519:{const e=ae.concatUint8Array([i,n]),t=kr.sign.detached(a,e);if(ne.checkEdDSAFaultySignatures&&!kr.sign.detached.verify(a,t,n))throw Error("Transient signing failure");return{RS:t}}case re.publicKey.ed448:return{RS:(await ae.getNobleCurve(re.publicKey.ed448)).sign(a,i)};default:throw Error("Unsupported EdDSA algorithm")}},validateParams:async function(e,t,r){switch(e){case re.publicKey.ed25519:{const{publicKey:e}=kr.sign.keyPair.fromSeed(r);return ae.equalsUint8Array(t,e)}case re.publicKey.ed448:{const e=(await ae.getNobleCurve(re.publicKey.ed448)).getPublicKey(r);return ae.equalsUint8Array(t,e)}default:return!1}},verify:async function(e,t,{RS:r},n,i,a){if(ut.getHashByteLength(t)<ut.getHashByteLength(Vn(e)))throw Error("Hash algorithm too weak for EdDSA.");switch(e){case re.publicKey.ed25519:return kr.sign.detached.verify(a,r,i);case re.publicKey.ed448:return(await ae.getNobleCurve(re.publicKey.ed448)).verify(r,a,i);default:throw Error("Unsupported EdDSA algorithm")}}});function $n(e,t){const r=new We["aes"+8*e.length](e),n=new Uint32Array([2795939494,2795939494]),i=Xn(t);let a=n;const s=i,o=i.length/2,c=new Uint32Array([0,0]);let u=new Uint32Array(4);for(let e=0;e<=5;++e)for(let t=0;t<o;++t)c[1]=o*e+(1+t),u[0]=a[0],u[1]=a[1],u[2]=s[2*t],u[3]=s[2*t+1],u=Xn(r.encrypt(Qn(u))),a=u.subarray(0,2),a[0]^=c[0],a[1]^=c[1],s[2*t]=u[2],s[2*t+1]=u[3];return Qn(a,s)}function Yn(e,t){const r=new We["aes"+8*e.length](e),n=new Uint32Array([2795939494,2795939494]),i=Xn(t);let a=i.subarray(0,2);const s=i.subarray(2),o=i.length/2-1,c=new Uint32Array([0,0]);let u=new Uint32Array(4);for(let e=5;e>=0;--e)for(let t=o-1;t>=0;--t)c[1]=o*e+(t+1),u[0]=a[0]^c[0],u[1]=a[1]^c[1],u[2]=s[2*t],u[3]=s[2*t+1],u=Xn(r.decrypt(Qn(u))),a=u.subarray(0,2),s[2*t]=u[2],s[2*t+1]=u[3];if(a[0]===n[0]&&a[1]===n[1])return Qn(s);throw Error("Key Data Integrity failed")}function Xn(e){const{length:t}=e,r=function(e){if(ae.isString(e)){const{length:t}=e,r=new ArrayBuffer(t),n=new Uint8Array(r);for(let r=0;r<t;++r)n[r]=e.charCodeAt(r);return r}return new Uint8Array(e).buffer}(e),n=new DataView(r),i=new Uint32Array(t/4);for(let e=0;e<t/4;++e)i[e]=n.getUint32(4*e);return i}function Qn(){let e=0;for(let t=0;t<arguments.length;++t)e+=4*arguments[t].length;const t=new ArrayBuffer(e),r=new DataView(t);let n=0;for(let e=0;e<arguments.length;++e){for(let t=0;t<arguments[e].length;++t)r.setUint32(n+4*t,arguments[e][t]);n+=4*arguments[e].length}return new Uint8Array(t)}var Zn=Object.freeze({__proto__:null,unwrap:Yn,wrap:$n});function Jn(e){const t=8-e.length%8,r=new Uint8Array(e.length+t).fill(t);return r.set(e),r}function ei(e){const t=e.length;if(t>0){const r=e[t-1];if(r>=1){const n=e.subarray(t-r),i=new Uint8Array(r).fill(r);if(ae.equalsUint8Array(n,i))return e.subarray(0,t-r)}}throw Error("Invalid padding")}var ti=Object.freeze({__proto__:null,decode:ei,encode:Jn});const ri=ae.getWebCrypto(),ni=ae.getNodeCrypto();function ii(e,t,r,n){return ae.concatUint8Array([t.write(),new Uint8Array([e]),r.write(!0),ae.stringToUint8Array("Anonymous Sender    "),r.replacementFingerprint||n.subarray(0,20)])}async function ai(e,t,r,n,i=!1,a=!1){let s;if(i){for(s=0;s<t.length&&0===t[s];s++);t=t.subarray(s)}if(a){for(s=t.length-1;s>=0&&0===t[s];s--);t=t.subarray(0,s+1)}return(await ut.digest(e,ae.concatUint8Array([new Uint8Array([0,0,0,1]),t,n]))).subarray(0,r)}async function si(e,t,r,n){if(n.length!==e.payloadSize){const t=new Uint8Array(e.payloadSize);t.set(n,e.payloadSize-n.length),n=t}switch(e.type){case"curve25519Legacy":{const e=n.slice().reverse();return{secretKey:e,sharedKey:kr.scalarMult(e,t.subarray(1))}}case"web":if(e.web&&ae.getWebCrypto())try{return await async function(e,t,r,n){const i=_n(e.payloadSize,e.web.web,r,n);let a=ri.importKey("jwk",i,{name:"ECDH",namedCurve:e.web.web},!0,["deriveKey","deriveBits"]);const s=In(e.payloadSize,e.web.web,t);let o=ri.importKey("jwk",s,{name:"ECDH",namedCurve:e.web.web},!0,[]);[a,o]=await Promise.all([a,o]);let c=ri.deriveBits({name:"ECDH",namedCurve:e.web.web,public:o},a,e.web.sharedSize),u=ri.exportKey("jwk",a);[c,u]=await Promise.all([c,u]);const h=new Uint8Array(c);return{secretKey:le(u.d),sharedKey:h}}(e,t,r,n)}catch(r){return ae.printDebugError(r),oi(e,t,n)}break;case"node":return async function(e,t,r){const n=ni.createECDH(e.node.node);n.setPrivateKey(r);const i=new Uint8Array(n.computeSecret(t));return{secretKey:new Uint8Array(n.getPrivateKey()),sharedKey:i}}(e,t,n);default:return oi(e,t,n)}}async function oi(e,t,r){return{secretKey:r,sharedKey:(await ae.getNobleCurve(re.publicKey.ecdh,e.name)).getSharedSecret(r,t).subarray(1)}}async function ci(e,t){const r=await ae.getNobleCurve(re.publicKey.ecdh,e.name),{publicKey:n,privateKey:i}=await e.genKeyPair();return{publicKey:n,sharedKey:r.getSharedSecret(i,t).subarray(1)}}var ui=Object.freeze({__proto__:null,decrypt:async function(e,t,r,n,i,a,s){const o=new Pn(e),{sharedKey:c}=await si(o,r,i,a),u=ii(re.publicKey.ecdh,e,t,s),{keySize:h}=lt(t.cipher);let l;for(let r=0;r<3;r++)try{return ei(Yn(await ai(t.hash,c,h,u,1===r,2===r),n))}catch(e){l=e}throw l},encrypt:async function(e,t,r,n,i){const a=Jn(r),s=new Pn(e),{publicKey:o,sharedKey:c}=await async function(e,t){switch(e.type){case"curve25519Legacy":{const r=rr(32),{secretKey:n,sharedKey:i}=await si(e,t,null,r);let{publicKey:a}=kr.box.keyPair.fromSecretKey(n);return a=ae.concatUint8Array([new Uint8Array([64]),a]),{publicKey:a,sharedKey:i}}case"web":if(e.web&&ae.getWebCrypto())try{return await async function(e,t){const r=In(e.payloadSize,e.web.web,t);let n=ri.generateKey({name:"ECDH",namedCurve:e.web.web},!0,["deriveKey","deriveBits"]),i=ri.importKey("jwk",r,{name:"ECDH",namedCurve:e.web.web},!1,[]);[n,i]=await Promise.all([n,i]);let a=ri.deriveBits({name:"ECDH",namedCurve:e.web.web,public:i},n.privateKey,e.web.sharedSize),s=ri.exportKey("jwk",n.publicKey);[a,s]=await Promise.all([a,s]);const o=new Uint8Array(a);return{publicKey:new Uint8Array(Cn(s)),sharedKey:o}}(e,t)}catch(r){return ae.printDebugError(r),ci(e,t)}break;case"node":return async function(e,t){const r=ni.createECDH(e.node.node);r.generateKeys();const n=new Uint8Array(r.computeSecret(t));return{publicKey:new Uint8Array(r.getPublicKey()),sharedKey:n}}(e,t);default:return ci(e,t)}}(s,n),u=ii(re.publicKey.ecdh,e,t,i),{keySize:h}=lt(t.cipher);return{publicKey:o,wrappedKey:$n(await ai(t.hash,c,h,u),a)}},validateParams:async function(e,t,r){return Dn(re.publicKey.ecdh,e,t,r)}});const hi=ae.getWebCrypto(),li=ae.getNodeCrypto();async function yi(e,t,r,n,i){const a=re.read(re.webHash,e);if(!a)throw Error("Hash algo not supported with HKDF");const s=hi||li.webcrypto.subtle,o=await s.importKey("raw",t,"HKDF",!1,["deriveBits"]),c=await s.deriveBits({name:"HKDF",hash:a,salt:r,info:n},o,8*i);return new Uint8Array(c)}const pi={x25519:ae.encodeUTF8("OpenPGP X25519"),x448:ae.encodeUTF8("OpenPGP X448")};var fi=Object.freeze({__proto__:null,decrypt:async function(e,t,r,n,i){switch(e){case re.publicKey.x25519:{const e=kr.scalarMult(i,t),a=ae.concatUint8Array([t,n,e]),{keySize:s}=lt(re.symmetric.aes128);return Yn(await yi(re.hash.sha256,a,new Uint8Array,pi.x25519,s),r)}case re.publicKey.x448:{const e=(await ae.getNobleCurve(re.publicKey.x448)).getSharedSecret(i,t),a=ae.concatUint8Array([t,n,e]),{keySize:s}=lt(re.symmetric.aes256);return Yn(await yi(re.hash.sha512,a,new Uint8Array,pi.x448,s),r)}default:throw Error("Unsupported ECDH algorithm")}},encrypt:async function(e,t,r){switch(e){case re.publicKey.x25519:{const e=rr(32),n=kr.scalarMult(e,r),{publicKey:i}=kr.box.keyPair.fromSecretKey(e),a=ae.concatUint8Array([i,r,n]),{keySize:s}=lt(re.symmetric.aes128);return{ephemeralPublicKey:i,wrappedKey:$n(await yi(re.hash.sha256,a,new Uint8Array,pi.x25519,s),t)}}case re.publicKey.x448:{const e=await ae.getNobleCurve(re.publicKey.x448),n=e.utils.randomPrivateKey(),i=e.getSharedSecret(n,r),a=e.getPublicKey(n),s=ae.concatUint8Array([a,r,i]),{keySize:o}=lt(re.symmetric.aes256);return{ephemeralPublicKey:a,wrappedKey:$n(await yi(re.hash.sha512,s,new Uint8Array,pi.x448,o),t)}}default:throw Error("Unsupported ECDH algorithm")}},generate:async function(e){switch(e){case re.publicKey.x25519:{const e=rr(32),{publicKey:t}=kr.box.keyPair.fromSecretKey(e);return{A:t,k:e}}case re.publicKey.x448:{const e=await ae.getNobleCurve(re.publicKey.x448),t=e.utils.randomPrivateKey();return{A:e.getPublicKey(t),k:t}}default:throw Error("Unsupported ECDH algorithm")}},getPayloadSize:function(e){switch(e){case re.publicKey.x25519:return 32;case re.publicKey.x448:return 56;default:throw Error("Unsupported ECDH algorithm")}},validateParams:async function(e,t,r){switch(e){case re.publicKey.x25519:{const{publicKey:e}=kr.box.keyPair.fromSecretKey(r);return ae.equalsUint8Array(t,e)}case re.publicKey.x448:{const e=(await ae.getNobleCurve(re.publicKey.x448)).getPublicKey(r);return ae.equalsUint8Array(t,e)}default:return!1}}}),di=Object.freeze({__proto__:null,CurveWithOID:Pn,ecdh:ui,ecdhX:fi,ecdsa:Hn,eddsa:Wn,eddsaLegacy:qn,generate:async function(e){const t=new Pn(e),{oid:r,hash:n,cipher:i}=t,a=await t.genKeyPair();return{oid:r,Q:a.publicKey,secret:ae.leftPad(a.privateKey,t.payloadSize),hash:n,cipher:i}},getPreferredHashAlgo:function(e){return Kn[re.write(re.curve,e.toHex())].hash}}),gi=Object.freeze({__proto__:null,sign:async function(e,t,r,n,i,a){const s=await ae.getBigInteger(),o=new s(1);let c,u,h,l;n=new s(n),i=new s(i),r=new s(r),a=new s(a),r=r.mod(n),a=a.mod(i);const y=new s(t.subarray(0,i.byteLength())).mod(i);for(;;){if(c=await nr(o,i),u=r.modExp(c,n).imod(i),u.isZero())continue;const e=a.mul(u).imod(i);if(l=y.add(e).imod(i),h=c.modInv(i).imul(l).imod(i),!h.isZero())break}return{r:u.toUint8Array("be",i.byteLength()),s:h.toUint8Array("be",i.byteLength())}},validateParams:async function(e,t,r,n,i){const a=await ae.getBigInteger();e=new a(e),t=new a(t),r=new a(r),n=new a(n);const s=new a(1);if(r.lte(s)||r.gte(e))return!1;if(!e.dec().mod(t).isZero())return!1;if(!r.modExp(t,e).isOne())return!1;const o=new a(t.bitLength()),c=new a(150);if(o.lt(c)||!await sr(t,null,32))return!1;i=new a(i);const u=new a(2),h=await nr(u.leftShift(o.dec()),u.leftShift(o)),l=t.mul(h).add(i);return!!n.equal(r.modExp(l,e))},verify:async function(e,t,r,n,i,a,s,o){const c=await ae.getBigInteger(),u=new c(0);if(t=new c(t),r=new c(r),a=new c(a),s=new c(s),i=new c(i),o=new c(o),t.lte(u)||t.gte(s)||r.lte(u)||r.gte(s))return ae.printDebug("invalid DSA Signature"),!1;const h=new c(n.subarray(0,s.byteLength())).imod(s),l=r.modInv(s);if(l.isZero())return ae.printDebug("invalid DSA Signature"),!1;i=i.mod(a),o=o.mod(a);const y=h.mul(l).imod(s),p=t.mul(l).imod(s),f=i.modExp(y,a),d=o.modExp(p,a);return f.mul(d).imod(a).imod(s).equal(t)}});const mi=new Set([re.hash.sha1,re.hash.sha256,re.hash.sha512]),wi=ae.getWebCrypto(),vi=ae.getNodeCrypto();var bi={rsa:wr,elgamal:vr,elliptic:di,dsa:gi,hmac:Object.freeze({__proto__:null,generate:async function(e){if(!mi.has(e))throw Error("Unsupported hash algorithm.");const t=re.read(re.webHash,e),r=wi||vi.webcrypto.subtle,n=await r.generateKey({name:"HMAC",hash:{name:t}},!0,["sign","verify"]),i=await r.exportKey("raw",n);return new Uint8Array(i)},sign:async function(e,t,r){if(!mi.has(e))throw Error("Unsupported hash algorithm.");const n=re.read(re.webHash,e),i=wi||vi.webcrypto.subtle,a=await i.importKey("raw",t,{name:"HMAC",hash:{name:n}},!1,["sign"]),s=await i.sign("HMAC",a,r);return new Uint8Array(s)},verify:async function(e,t,r,n){if(!mi.has(e))throw Error("Unsupported hash algorithm.");const i=re.read(re.webHash,e),a=wi||vi.webcrypto.subtle,s=await a.importKey("raw",t,{name:"HMAC",hash:{name:i}},!1,["verify"]);return a.verify("HMAC",s,r,n)}})};class ki{constructor(e){if(void 0===e&&(e=new Uint8Array([])),!ae.isUint8Array(e))throw Error("data must be in the form of a Uint8Array");this.data=e,this.length=this.data.byteLength}write(){return ae.concatUint8Array([new Uint8Array([this.length]),this.data])}read(e){if(e.length>=1){const t=e[0];if(e.length>=t+1)return this.data=e.subarray(1,1+t),this.length=t,1+t}throw Error("Invalid octet string")}}var Ai=Object.freeze({__proto__:null,parseSignatureParams:function(e,t){let r=0;switch(e){case re.publicKey.rsaEncryptSign:case re.publicKey.rsaEncrypt:case re.publicKey.rsaSign:{const e=ae.readMPI(t.subarray(r));return r+=e.length+2,{read:r,signatureParams:{s:e}}}case re.publicKey.dsa:case re.publicKey.ecdsa:{const e=ae.readMPI(t.subarray(r));r+=e.length+2;const n=ae.readMPI(t.subarray(r));return r+=n.length+2,{read:r,signatureParams:{r:e,s:n}}}case re.publicKey.eddsaLegacy:{let e=ae.readMPI(t.subarray(r));r+=e.length+2,e=ae.leftPad(e,32);let n=ae.readMPI(t.subarray(r));return r+=n.length+2,n=ae.leftPad(n,32),{read:r,signatureParams:{r:e,s:n}}}case re.publicKey.ed25519:case re.publicKey.ed448:{const n=2*bi.elliptic.eddsa.getPayloadSize(e),i=ae.readExactSubarray(t,r,r+n);return r+=i.length,{read:r,signatureParams:{RS:i}}}case re.publicKey.hmac:{const e=new ki;return r+=e.read(t.subarray(r)),{read:r,signatureParams:{mac:e}}}default:throw new wn("Unknown signature algorithm.")}},sign:async function(e,t,r,n,i,a){if(!r||!n)throw Error("Missing key parameters");switch(e){case re.publicKey.rsaEncryptSign:case re.publicKey.rsaEncrypt:case re.publicKey.rsaSign:{const{n:e,e:s}=r,{d:o,p:c,q:u,u:h}=n;return{s:await bi.rsa.sign(t,i,e,s,o,c,u,h,a)}}case re.publicKey.dsa:{const{g:e,p:i,q:s}=r,{x:o}=n;return bi.dsa.sign(t,a,e,i,s,o)}case re.publicKey.elgamal:throw Error("Signing with Elgamal is not defined in the OpenPGP standard.");case re.publicKey.ecdsa:{const{oid:e,Q:s}=r,{d:o}=n;return bi.elliptic.ecdsa.sign(e,t,i,s,o,a)}case re.publicKey.eddsaLegacy:{const{oid:e,Q:s}=r,{seed:o}=n;return bi.elliptic.eddsaLegacy.sign(e,t,i,s,o,a)}case re.publicKey.ed25519:case re.publicKey.ed448:{const{A:s}=r,{seed:o}=n;return bi.elliptic.eddsa.sign(e,t,i,s,o,a)}case re.publicKey.hmac:{const{cipher:e}=r,{keyMaterial:t}=n,i=await bi.hmac.sign(e.getValue(),t,a);return{mac:new ki(i)}}default:throw Error("Unknown signature algorithm.")}},verify:async function(e,t,r,n,i,a,s){switch(e){case re.publicKey.rsaEncryptSign:case re.publicKey.rsaEncrypt:case re.publicKey.rsaSign:{const{n:e,e:i}=n,o=ae.leftPad(r.s,e.length);return bi.rsa.verify(t,a,o,e,i,s)}case re.publicKey.dsa:{const{g:e,p:i,q:a,y:o}=n,{r:c,s:u}=r;return bi.dsa.verify(t,c,u,s,e,i,a,o)}case re.publicKey.ecdsa:{const{oid:e,Q:i}=n,o=new bi.elliptic.CurveWithOID(e).payloadSize,c=ae.leftPad(r.r,o),u=ae.leftPad(r.s,o);return bi.elliptic.ecdsa.verify(e,t,{r:c,s:u},a,i,s)}case re.publicKey.eddsaLegacy:{const{oid:e,Q:i}=n;return bi.elliptic.eddsaLegacy.verify(e,t,r,a,i,s)}case re.publicKey.ed25519:case re.publicKey.ed448:{const{A:i}=n;return bi.elliptic.eddsa.verify(e,t,r,a,i,s)}case re.publicKey.hmac:{if(!i)throw Error("Cannot verify HMAC signature with symmetric key missing private parameters");const{cipher:e}=n,{keyMaterial:t}=i;return bi.hmac.verify(e.getValue(),t,r.mac.data,s)}default:throw Error("Unknown signature algorithm.")}}});class Ei{constructor(e){e&&(this.data=e)}read(e){if(e.length>=1){const t=e[0];if(e.length>=1+t)return this.data=e.subarray(1,1+t),1+this.data.length}throw Error("Invalid symmetric key")}write(){return ae.concatUint8Array([new Uint8Array([this.data.length]),this.data])}}class Si{constructor(e){if(e){const{version:t,hash:r,cipher:n,replacementFingerprint:i}=e;this.version=t||1,this.hash=r,this.cipher=n,this.replacementFingerprint=i}else this.version=null,this.hash=null,this.cipher=null,this.replacementFingerprint=null}read(e){if(e.length<4||1!==e[1]&&255!==e[1])throw new wn("Cannot read KDFParams");const t=e[0];this.version=e[1],this.hash=e[2],this.cipher=e[3];let r=4;if(255===this.version){const n=t-r+1;this.replacementFingerprint=e.slice(r,r+n),r+=n}return r}write(e){return!this.version||1===this.version||e?new Uint8Array([3,1,this.hash,this.cipher]):ae.concatUint8Array([new Uint8Array([3+this.replacementFingerprint.length,this.version,this.hash,this.cipher]),this.replacementFingerprint])}}const xi=e=>class{constructor(e){this.data=void 0===e?null:e}read(t){const r=t[0];return this.data=re.write(e,r),1}write(){return new Uint8Array([this.data])}getName(){return re.read(e,this.data)}getValue(){return this.data}},Ki=xi(re.aead),Pi=xi(re.symmetric),Di=xi(re.hash);class Ui{static fromObject({wrappedKey:e,algorithm:t}){const r=new Ui;return r.wrappedKey=e,r.algorithm=t,r}read(e){let t=0,r=e[t++];this.algorithm=r%2?e[t++]:null,r-=r%2,this.wrappedKey=ae.readExactSubarray(e,t,t+r),t+=r}write(){return ae.concatUint8Array([this.algorithm?new Uint8Array([this.wrappedKey.length+1,this.algorithm]):new Uint8Array([this.wrappedKey.length]),this.wrappedKey])}}async function Ci(e,t){const r=rr(32);return{privateParams:{hashSeed:r,keyMaterial:e},publicParams:{cipher:t,digest:await ut.sha256(r)}}}function Ii(e){const{keySize:t}=lt(e);return rr(t)}function _i(e){const t=re.read(re.aead,e);return er[t]}function Ti(e){try{e.getName()}catch(e){throw new wn("Unknown curve OID")}}function Ri(e,t){switch(e){case re.publicKey.ecdsa:case re.publicKey.ecdh:case re.publicKey.eddsaLegacy:return new bi.elliptic.CurveWithOID(t).payloadSize;case re.publicKey.ed25519:case re.publicKey.ed448:return bi.elliptic.eddsa.getPayloadSize(e);case re.publicKey.x25519:case re.publicKey.x448:return bi.elliptic.ecdhX.getPayloadSize(e);default:throw Error("Unknown elliptic algo")}}var Mi=Object.freeze({__proto__:null,generateParams:async function(e,t,r,n){switch(e){case re.publicKey.rsaEncrypt:case re.publicKey.rsaEncryptSign:case re.publicKey.rsaSign:return bi.rsa.generate(t,65537).then((({n:e,e:t,d:r,p:n,q:i,u:a})=>({privateParams:{d:r,p:n,q:i,u:a},publicParams:{n:e,e:t}})));case re.publicKey.ecdsa:return bi.elliptic.generate(r).then((({oid:e,Q:t,secret:r})=>({privateParams:{d:r},publicParams:{oid:new hn(e),Q:t}})));case re.publicKey.eddsaLegacy:return bi.elliptic.generate(r).then((({oid:e,Q:t,secret:r})=>({privateParams:{seed:r},publicParams:{oid:new hn(e),Q:t}})));case re.publicKey.ecdh:return bi.elliptic.generate(r).then((({oid:e,Q:t,secret:r,hash:n,cipher:i})=>({privateParams:{d:r},publicParams:{oid:new hn(e),Q:t,kdfParams:new Si({hash:n,cipher:i})}})));case re.publicKey.ed25519:case re.publicKey.ed448:return bi.elliptic.eddsa.generate(e).then((({A:e,seed:t})=>({privateParams:{seed:t},publicParams:{A:e}})));case re.publicKey.x25519:case re.publicKey.x448:return bi.elliptic.ecdhX.generate(e).then((({A:e,k:t})=>({privateParams:{k:t},publicParams:{A:e}})));case re.publicKey.hmac:return Ci(await bi.hmac.generate(n),new Di(n));case re.publicKey.aead:return Ci(Ii(n),new Pi(n));case re.publicKey.dsa:case re.publicKey.elgamal:throw Error("Unsupported algorithm for key generation.");default:throw Error("Unknown public key algorithm.")}},generateSessionKey:Ii,getAEADMode:_i,getCipher:lt,getCurvePayloadSize:Ri,getPreferredCurveHashAlgo:function(e,t){switch(e){case re.publicKey.ecdsa:case re.publicKey.eddsaLegacy:return bi.elliptic.getPreferredHashAlgo(t);case re.publicKey.ed25519:case re.publicKey.ed448:return bi.elliptic.eddsa.getPreferredHashAlgo(e);default:throw Error("Unknown elliptic signing algo")}},getPrefixRandom:async function(e){const{blockSize:t}=lt(e),r=await rr(t),n=new Uint8Array([r[r.length-2],r[r.length-1]]);return ae.concat([r,n])},parseEncSessionKeyParams:function(e,t){let r=0;switch(e){case re.publicKey.rsaEncrypt:case re.publicKey.rsaEncryptSign:return{c:ae.readMPI(t.subarray(r))};case re.publicKey.elgamal:{const e=ae.readMPI(t.subarray(r));return r+=e.length+2,{c1:e,c2:ae.readMPI(t.subarray(r))}}case re.publicKey.ecdh:{const e=ae.readMPI(t.subarray(r));r+=e.length+2;const n=new Ei;return n.read(t.subarray(r)),{V:e,C:n}}case re.publicKey.x25519:case re.publicKey.x448:{const n=Ri(e),i=ae.readExactSubarray(t,r,r+n);r+=i.length;const a=new Ui;return a.read(t.subarray(r)),{ephemeralPublicKey:i,C:a}}case re.publicKey.aead:{const e=new Ki;r+=e.read(t.subarray(r));const{ivLength:n}=_i(e.getValue()),i=t.subarray(r,r+n);r+=n;const a=new ki;return r+=a.read(t.subarray(r)),{aeadMode:e,iv:i,c:a}}default:throw new wn("Unknown public key encryption algorithm.")}},parsePrivateKeyParams:function(e,t,r){let n=0;switch(e){case re.publicKey.rsaEncrypt:case re.publicKey.rsaEncryptSign:case re.publicKey.rsaSign:{const e=ae.readMPI(t.subarray(n));n+=e.length+2;const r=ae.readMPI(t.subarray(n));n+=r.length+2;const i=ae.readMPI(t.subarray(n));n+=i.length+2;const a=ae.readMPI(t.subarray(n));return n+=a.length+2,{read:n,privateParams:{d:e,p:r,q:i,u:a}}}case re.publicKey.dsa:case re.publicKey.elgamal:{const e=ae.readMPI(t.subarray(n));return n+=e.length+2,{read:n,privateParams:{x:e}}}case re.publicKey.ecdsa:case re.publicKey.ecdh:{const i=Ri(e,r.oid);let a=ae.readMPI(t.subarray(n));return n+=a.length+2,a=ae.leftPad(a,i),{read:n,privateParams:{d:a}}}case re.publicKey.eddsaLegacy:{const i=Ri(e,r.oid);let a=ae.readMPI(t.subarray(n));return n+=a.length+2,a=ae.leftPad(a,i),{read:n,privateParams:{seed:a}}}case re.publicKey.ed25519:case re.publicKey.ed448:{const r=Ri(e),i=ae.readExactSubarray(t,n,n+r);return n+=i.length,{read:n,privateParams:{seed:i}}}case re.publicKey.x25519:case re.publicKey.x448:{const r=Ri(e),i=ae.readExactSubarray(t,n,n+r);return n+=i.length,{read:n,privateParams:{k:i}}}case re.publicKey.hmac:{const{cipher:e}=r,i=ut.getHashByteLength(e.getValue()),a=t.subarray(n,n+32);n+=32;const s=t.subarray(n,n+i);return n+=i,{read:n,privateParams:{hashSeed:a,keyMaterial:s}}}case re.publicKey.aead:{const{cipher:e}=r,i=t.subarray(n,n+32);n+=32;const{keySize:a}=lt(e.getValue()),s=t.subarray(n,n+a);return n+=a,{read:n,privateParams:{hashSeed:i,keyMaterial:s}}}default:throw new wn("Unknown public key encryption algorithm.")}},parsePublicKeyParams:function(e,t){let r=0;switch(e){case re.publicKey.rsaEncrypt:case re.publicKey.rsaEncryptSign:case re.publicKey.rsaSign:{const e=ae.readMPI(t.subarray(r));r+=e.length+2;const n=ae.readMPI(t.subarray(r));return r+=n.length+2,{read:r,publicParams:{n:e,e:n}}}case re.publicKey.dsa:{const e=ae.readMPI(t.subarray(r));r+=e.length+2;const n=ae.readMPI(t.subarray(r));r+=n.length+2;const i=ae.readMPI(t.subarray(r));r+=i.length+2;const a=ae.readMPI(t.subarray(r));return r+=a.length+2,{read:r,publicParams:{p:e,q:n,g:i,y:a}}}case re.publicKey.elgamal:{const e=ae.readMPI(t.subarray(r));r+=e.length+2;const n=ae.readMPI(t.subarray(r));r+=n.length+2;const i=ae.readMPI(t.subarray(r));return r+=i.length+2,{read:r,publicParams:{p:e,g:n,y:i}}}case re.publicKey.ecdsa:{const e=new hn;r+=e.read(t),Ti(e);const n=ae.readMPI(t.subarray(r));return r+=n.length+2,{read:r,publicParams:{oid:e,Q:n}}}case re.publicKey.eddsaLegacy:{const e=new hn;r+=e.read(t),Ti(e);let n=ae.readMPI(t.subarray(r));return r+=n.length+2,n=ae.leftPad(n,33),{read:r,publicParams:{oid:e,Q:n}}}case re.publicKey.ecdh:{const e=new hn;r+=e.read(t),Ti(e);const n=ae.readMPI(t.subarray(r));r+=n.length+2;const i=new Si;return r+=i.read(t.subarray(r)),{read:r,publicParams:{oid:e,Q:n,kdfParams:i}}}case re.publicKey.ed25519:case re.publicKey.ed448:case re.publicKey.x25519:case re.publicKey.x448:{const n=ae.readExactSubarray(t,r,r+Ri(e));return r+=n.length,{read:r,publicParams:{A:n}}}case re.publicKey.hmac:case re.publicKey.aead:{const e=new Pi;r+=e.read(t);const n=ut.getHashByteLength(re.hash.sha256),i=t.subarray(r,r+n);return r+=n,{read:r,publicParams:{cipher:e,digest:i}}}default:throw new wn("Unknown public key encryption algorithm.")}},publicKeyDecrypt:async function(e,t,r,n,i,a){switch(e){case re.publicKey.rsaEncryptSign:case re.publicKey.rsaEncrypt:{const{c:e}=n,{n:i,e:s}=t,{d:o,p:c,q:u,u:h}=r;return bi.rsa.decrypt(e,i,s,o,c,u,h,a)}case re.publicKey.elgamal:{const{c1:e,c2:i}=n,s=t.p,o=r.x;return bi.elgamal.decrypt(e,i,s,o,a)}case re.publicKey.ecdh:{const{oid:e,Q:a,kdfParams:s}=t,{d:o}=r,{V:c,C:u}=n;return bi.elliptic.ecdh.decrypt(e,s,c,u.data,a,o,i)}case re.publicKey.x25519:case re.publicKey.x448:{const{A:i}=t,{k:a}=r,{ephemeralPublicKey:s,C:o}=n;if(null!==o.algorithm&&!ae.isAES(o.algorithm))throw Error("AES session key expected");return bi.elliptic.ecdhX.decrypt(e,s,o.wrappedKey,i,a)}case re.publicKey.aead:{const{cipher:e}=t,i=e.getValue(),{keyMaterial:a}=r,{aeadMode:s,iv:o,c}=n,u=_i(s.getValue());return(await u(i,a)).decrypt(c.data,o,new Uint8Array)}default:throw Error("Unknown public key encryption algorithm.")}},publicKeyEncrypt:async function(e,t,r,n,i,a){switch(e){case re.publicKey.rsaEncrypt:case re.publicKey.rsaEncryptSign:{const{n:e,e:t}=r;return{c:await bi.rsa.encrypt(i,e,t)}}case re.publicKey.elgamal:{const{p:e,g:t,y:n}=r;return bi.elgamal.encrypt(i,e,t,n)}case re.publicKey.ecdh:{const{oid:e,Q:t,kdfParams:n}=r,{publicKey:s,wrappedKey:o}=await bi.elliptic.ecdh.encrypt(e,n,i,t,a);return{V:s,C:new Ei(o)}}case re.publicKey.x25519:case re.publicKey.x448:{if(!ae.isAES(t))throw Error("X25519 and X448 keys can only encrypt AES session keys");const{A:n}=r,{ephemeralPublicKey:a,wrappedKey:s}=await bi.elliptic.ecdhX.encrypt(e,i,n);return{ephemeralPublicKey:a,C:Ui.fromObject({algorithm:t,wrappedKey:s})}}case re.publicKey.aead:{if(!n)throw Error("Cannot encrypt with symmetric key missing private parameters");const{cipher:e}=r,t=e.getValue(),{keyMaterial:a}=n,s=ne.preferredAEADAlgorithm,o=_i(ne.preferredAEADAlgorithm),{ivLength:c}=o,u=rr(c),h=await o(t,a),l=await h.encrypt(i,u,new Uint8Array);return{aeadMode:new Ki(s),iv:u,c:new ki(l)}}default:return[]}},serializeParams:function(e,t){const r=new Set([re.publicKey.ed25519,re.publicKey.x25519,re.publicKey.ed448,re.publicKey.x448,re.publicKey.aead,re.publicKey.hmac]),n=Object.keys(t).map((n=>{const i=t[n];return ae.isUint8Array(i)?r.has(e)?i:ae.uint8ArrayToMPI(i):i.write()}));return ae.concatUint8Array(n)},validateParams:async function(e,t,r){if(!t||!r)throw Error("Missing key parameters");switch(e){case re.publicKey.rsaEncrypt:case re.publicKey.rsaEncryptSign:case re.publicKey.rsaSign:{const{n:e,e:n}=t,{d:i,p:a,q:s,u:o}=r;return bi.rsa.validateParams(e,n,i,a,s,o)}case re.publicKey.dsa:{const{p:e,q:n,g:i,y:a}=t,{x:s}=r;return bi.dsa.validateParams(e,n,i,a,s)}case re.publicKey.elgamal:{const{p:e,g:n,y:i}=t,{x:a}=r;return bi.elgamal.validateParams(e,n,i,a)}case re.publicKey.ecdsa:case re.publicKey.ecdh:{const n=bi.elliptic[re.read(re.publicKey,e)],{oid:i,Q:a}=t,{d:s}=r;return n.validateParams(i,a,s)}case re.publicKey.eddsaLegacy:{const{Q:e,oid:n}=t,{seed:i}=r;return bi.elliptic.eddsaLegacy.validateParams(n,e,i)}case re.publicKey.ed25519:case re.publicKey.ed448:{const{A:n}=t,{seed:i}=r;return bi.elliptic.eddsa.validateParams(e,n,i)}case re.publicKey.x25519:case re.publicKey.x448:{const{A:n}=t,{k:i}=r;return bi.elliptic.ecdhX.validateParams(e,n,i)}case re.publicKey.hmac:{const{cipher:e,digest:n}=t,{hashSeed:i,keyMaterial:a}=r;return ut.getHashByteLength(e.getValue())===a.length&&ae.equalsUint8Array(n,await ut.sha256(i))}case re.publicKey.aead:{const{cipher:e,digest:n}=t,{hashSeed:i,keyMaterial:a}=r,{keySize:s}=lt(e.getValue());return s===a.length&&ae.equalsUint8Array(n,await ut.sha256(i))}default:throw Error("Unknown public key algorithm.")}}});const Oi={cipher:We,hash:ut,mode:er,publicKey:bi,signature:Ai,random:ir,pkcs1:yr,pkcs5:ti,aesKW:Zn};Object.assign(Oi,Mi);class Bi extends Error{constructor(...e){super(...e),Error.captureStackTrace&&Error.captureStackTrace(this,Bi),this.name="Argon2OutOfMemoryError"}}let Li,Ni;class Fi{constructor(e=ne){const{passes:t,parallelism:r,memoryExponent:n}=e.s2kArgon2Params;this.type="argon2",this.salt=null,this.t=t,this.p=r,this.encodedM=n}generateSalt(){this.salt=Oi.random.getRandomBytes(16)}read(e){let t=0;return this.salt=e.subarray(t,t+16),t+=16,this.t=e[t++],this.p=e[t++],this.encodedM=e[t++],t}write(){const e=[new Uint8Array([re.write(re.s2k,this.type)]),this.salt,new Uint8Array([this.t,this.p,this.encodedM])];return ae.concatUint8Array(e)}async produceKey(e,t){const n=2<<this.encodedM-1;try{Li=Li||(await r.e(9660).then(r.bind(r,59660))).default,Ni=Ni||Li();const i=(await Ni)({version:19,type:2,password:ae.encodeUTF8(e),salt:this.salt,tagLength:t,memorySize:n,parallelism:this.p,passes:this.t});return n>1048576&&(Ni=Li(),Ni.catch((()=>{}))),i}catch(e){throw e.message&&(e.message.includes("Unable to grow instance memory")||e.message.includes("failed to grow memory")||e.message.includes("WebAssembly.Memory.grow")||e.message.includes("Out of memory"))?new Bi("Could not allocate required memory for Argon2"):e}}}class ji{constructor(e,t=ne){this.algorithm=re.hash.sha256,this.type=re.read(re.s2k,e),this.c=t.s2kIterationCountByte,this.salt=null}generateSalt(){switch(this.type){case"salted":case"iterated":this.salt=Oi.random.getRandomBytes(8)}}getCount(){return 16+(15&this.c)<<6+(this.c>>4)}read(e){let t=0;switch(this.algorithm=e[t++],this.type){case"simple":break;case"salted":this.salt=e.subarray(t,t+8),t+=8;break;case"iterated":this.salt=e.subarray(t,t+8),t+=8,this.c=e[t++];break;case"gnu":if("GNU"!==ae.uint8ArrayToString(e.subarray(t,t+3)))throw new wn("Unknown s2k type.");if(t+=3,1001!==1e3+e[t++])throw new wn("Unknown s2k gnu protection mode.");this.type="gnu-dummy";break;default:throw new wn("Unknown s2k type.")}return t}write(){if("gnu-dummy"===this.type)return new Uint8Array([101,0,...ae.stringToUint8Array("GNU"),1]);const e=[new Uint8Array([re.write(re.s2k,this.type),this.algorithm])];switch(this.type){case"simple":break;case"salted":e.push(this.salt);break;case"iterated":e.push(this.salt),e.push(new Uint8Array([this.c]));break;case"gnu":throw Error("GNU s2k type not supported.");default:throw Error("Unknown s2k type.")}return ae.concatUint8Array(e)}async produceKey(e,t){e=ae.encodeUTF8(e);const r=[];let n=0,i=0;for(;n<t;){let t;switch(this.type){case"simple":t=ae.concatUint8Array([new Uint8Array(i),e]);break;case"salted":t=ae.concatUint8Array([new Uint8Array(i),this.salt,e]);break;case"iterated":{const r=ae.concatUint8Array([this.salt,e]);let n=r.length;const a=Math.max(this.getCount(),n);t=new Uint8Array(i+a),t.set(r,i);for(let e=i+n;e<a;e+=n,n*=2)t.copyWithin(e,i,e);break}case"gnu":throw Error("GNU s2k type not supported.");default:throw Error("Unknown s2k type.")}const a=await Oi.hash.digest(this.algorithm,t);r.push(a),n+=a.length,i++}return ae.concatUint8Array(r).subarray(0,t)}}const zi=new Set([re.s2k.argon2,re.s2k.iterated]);function Hi(e,t=ne){switch(e){case re.s2k.argon2:return new Fi(t);case re.s2k.iterated:case re.s2k.gnu:case re.s2k.salted:case re.s2k.simple:return new ji(e,t);default:throw new wn("Unsupported S2K type")}}function qi(e){const{s2kType:t}=e;if(!zi.has(t))throw Error("The provided `config.s2kType` value is not allowed");return Hi(t,e)}var Gi=Uint8Array,Vi=Uint16Array,Wi=Uint32Array,$i=new Gi([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Yi=new Gi([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Xi=new Gi([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Qi=function(e,t){for(var r=new Vi(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];var i=new Wi(r[30]);for(n=1;n<30;++n)for(var a=r[n];a<r[n+1];++a)i[a]=a-r[n]<<5|n;return[r,i]},Zi=Qi($i,2),Ji=Zi[0],ea=Zi[1];Ji[28]=258,ea[258]=28;for(var ta=Qi(Yi,0),ra=ta[0],na=ta[1],ia=new Vi(32768),aa=0;aa<32768;++aa){var sa=(43690&aa)>>>1|(21845&aa)<<1;sa=(61680&(sa=(52428&sa)>>>2|(13107&sa)<<2))>>>4|(3855&sa)<<4,ia[aa]=((65280&sa)>>>8|(255&sa)<<8)>>>1}var oa=function(e,t,r){for(var n=e.length,i=0,a=new Vi(t);i<n;++i)e[i]&&++a[e[i]-1];var s,o=new Vi(t);for(i=0;i<t;++i)o[i]=o[i-1]+a[i-1]<<1;if(r){s=new Vi(1<<t);var c=15-t;for(i=0;i<n;++i)if(e[i])for(var u=i<<4|e[i],h=t-e[i],l=o[e[i]-1]++<<h,y=l|(1<<h)-1;l<=y;++l)s[ia[l]>>>c]=u}else for(s=new Vi(n),i=0;i<n;++i)e[i]&&(s[i]=ia[o[e[i]-1]++]>>>15-e[i]);return s},ca=new Gi(288);for(aa=0;aa<144;++aa)ca[aa]=8;for(aa=144;aa<256;++aa)ca[aa]=9;for(aa=256;aa<280;++aa)ca[aa]=7;for(aa=280;aa<288;++aa)ca[aa]=8;var ua=new Gi(32);for(aa=0;aa<32;++aa)ua[aa]=5;var ha=oa(ca,9,0),la=oa(ca,9,1),ya=oa(ua,5,0),pa=oa(ua,5,1),fa=function(e){for(var t=e[0],r=1;r<e.length;++r)e[r]>t&&(t=e[r]);return t},da=function(e,t,r){var n=t/8|0;return(e[n]|e[n+1]<<8)>>(7&t)&r},ga=function(e,t){var r=t/8|0;return(e[r]|e[r+1]<<8|e[r+2]<<16)>>(7&t)},ma=function(e){return(e+7)/8|0},wa=function(e,t,r){(null==t||t<0)&&(t=0),(null==r||r>e.length)&&(r=e.length);var n=new(2==e.BYTES_PER_ELEMENT?Vi:4==e.BYTES_PER_ELEMENT?Wi:Gi)(r-t);return n.set(e.subarray(t,r)),n},va=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],ba=function(e,t,r){var n=Error(t||va[e]);if(n.code=e,Error.captureStackTrace&&Error.captureStackTrace(n,ba),!r)throw n;return n},ka=function(e,t,r){r<<=7&t;var n=t/8|0;e[n]|=r,e[n+1]|=r>>>8},Aa=function(e,t,r){r<<=7&t;var n=t/8|0;e[n]|=r,e[n+1]|=r>>>8,e[n+2]|=r>>>16},Ea=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var i=r.length,a=r.slice();if(!i)return[Ca,0];if(1==i){var s=new Gi(r[0].s+1);return s[r[0].s]=1,[s,1]}r.sort((function(e,t){return e.f-t.f})),r.push({s:-1,f:25001});var o=r[0],c=r[1],u=0,h=1,l=2;for(r[0]={s:-1,f:o.f+c.f,l:o,r:c};h!=i-1;)o=r[r[u].f<r[l].f?u++:l++],c=r[u!=h&&r[u].f<r[l].f?u++:l++],r[h++]={s:-1,f:o.f+c.f,l:o,r:c};var y=a[0].s;for(n=1;n<i;++n)a[n].s>y&&(y=a[n].s);var p=new Vi(y+1),f=Sa(r[h-1],p,0);if(f>t){n=0;var d=0,g=f-t,m=1<<g;for(a.sort((function(e,t){return p[t.s]-p[e.s]||e.f-t.f}));n<i;++n){var w=a[n].s;if(!(p[w]>t))break;d+=m-(1<<f-p[w]),p[w]=t}for(d>>>=g;d>0;){var v=a[n].s;p[v]<t?d-=1<<t-p[v]++-1:++n}for(;n>=0&&d;--n){var b=a[n].s;p[b]==t&&(--p[b],++d)}f=t}return[new Gi(p),f]},Sa=function(e,t,r){return-1==e.s?Math.max(Sa(e.l,t,r+1),Sa(e.r,t,r+1)):t[e.s]=r},xa=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new Vi(++t),n=0,i=e[0],a=1,s=function(e){r[n++]=e},o=1;o<=t;++o)if(e[o]==i&&o!=t)++a;else{if(!i&&a>2){for(;a>138;a-=138)s(32754);a>2&&(s(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(s(i),--a;a>6;a-=6)s(8304);a>2&&(s(a-3<<5|8208),a=0)}for(;a--;)s(i);a=1,i=e[o]}return[r.subarray(0,n),t]},Ka=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},Pa=function(e,t,r){var n=r.length,i=ma(t+2);e[i]=255&n,e[i+1]=n>>>8,e[i+2]=255^e[i],e[i+3]=255^e[i+1];for(var a=0;a<n;++a)e[i+a+4]=r[a];return 8*(i+4+n)},Da=function(e,t,r,n,i,a,s,o,c,u,h){ka(t,h++,r),++i[256];for(var l=Ea(i,15),y=l[0],p=l[1],f=Ea(a,15),d=f[0],g=f[1],m=xa(y),w=m[0],v=m[1],b=xa(d),k=b[0],A=b[1],E=new Vi(19),S=0;S<w.length;++S)E[31&w[S]]++;for(S=0;S<k.length;++S)E[31&k[S]]++;for(var x=Ea(E,7),K=x[0],P=x[1],D=19;D>4&&!K[Xi[D-1]];--D);var U,C,I,_,T=u+5<<3,R=Ka(i,ca)+Ka(a,ua)+s,M=Ka(i,y)+Ka(a,d)+s+14+3*D+Ka(E,K)+(2*E[16]+3*E[17]+7*E[18]);if(T<=R&&T<=M)return Pa(t,h,e.subarray(c,c+u));if(ka(t,h,1+(M<R)),h+=2,M<R){U=oa(y,p,0),C=y,I=oa(d,g,0),_=d;var O=oa(K,P,0);for(ka(t,h,v-257),ka(t,h+5,A-1),ka(t,h+10,D-4),h+=14,S=0;S<D;++S)ka(t,h+3*S,K[Xi[S]]);h+=3*D;for(var B=[w,k],L=0;L<2;++L){var N=B[L];for(S=0;S<N.length;++S){var F=31&N[S];ka(t,h,O[F]),h+=K[F],F>15&&(ka(t,h,N[S]>>>5&127),h+=N[S]>>>12)}}}else U=ha,C=ca,I=ya,_=ua;for(S=0;S<o;++S)if(n[S]>255){F=n[S]>>>18&31,Aa(t,h,U[F+257]),h+=C[F+257],F>7&&(ka(t,h,n[S]>>>23&31),h+=$i[F]);var j=31&n[S];Aa(t,h,I[j]),h+=_[j],j>3&&(Aa(t,h,n[S]>>>5&8191),h+=Yi[j])}else Aa(t,h,U[n[S]]),h+=C[n[S]];return Aa(t,h,U[256]),h+C[256]},Ua=new Wi([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Ca=new Gi(0),Ia=function(e,t,r,n,i){return function(e,t,r,n,i,a){var s=e.length,o=new Gi(n+s+5*(1+Math.ceil(s/7e3))+i),c=o.subarray(n,o.length-i),u=0;if(!t||s<8)for(var h=0;h<=s;h+=65535){var l=h+65535;l>=s&&(c[u>>3]=a),u=Pa(c,u+1,e.subarray(h,l))}else{for(var y=Ua[t-1],p=y>>>13,f=8191&y,d=(1<<r)-1,g=new Vi(32768),m=new Vi(d+1),w=Math.ceil(r/3),v=2*w,b=function(t){return(e[t]^e[t+1]<<w^e[t+2]<<v)&d},k=new Wi(25e3),A=new Vi(288),E=new Vi(32),S=0,x=0,K=(h=0,0),P=0,D=0;h<s;++h){var U=b(h),C=32767&h,I=m[U];if(g[C]=I,m[U]=C,P<=h){var _=s-h;if((S>7e3||K>24576)&&_>423){u=Da(e,c,0,k,A,E,x,K,D,h-D,u),K=S=x=0,D=h;for(var T=0;T<286;++T)A[T]=0;for(T=0;T<30;++T)E[T]=0}var R=2,M=0,O=f,B=C-I&32767;if(_>2&&U==b(h-B))for(var L=Math.min(p,_)-1,N=Math.min(32767,h),F=Math.min(258,_);B<=N&&--O&&C!=I;){if(e[h+R]==e[h+R-B]){for(var j=0;j<F&&e[h+j]==e[h+j-B];++j);if(j>R){if(R=j,M=B,j>L)break;var z=Math.min(B,j-2),H=0;for(T=0;T<z;++T){var q=h-B+T+32768&32767,G=q-g[q]+32768&32767;G>H&&(H=G,I=q)}}}B+=(C=I)-(I=g[C])+32768&32767}if(M){k[K++]=268435456|ea[R]<<18|na[M];var V=31&ea[R],W=31&na[M];x+=$i[V]+Yi[W],++A[257+V],++E[W],P=h+R,++S}else k[K++]=e[h],++A[e[h]]}}u=Da(e,c,a,k,A,E,x,K,D,h-D,u),!a&&7&u&&(u=Pa(c,u+1,Ca))}return wa(o,0,n+ma(u)+i)}(e,null==t.level?6:t.level,null==t.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(e.length)))):12+t.mem,r,n,!i)},_a=function(){function e(e,t){t||"function"!=typeof e||(t=e,e={}),this.ondata=t,this.o=e||{}}return e.prototype.p=function(e,t){this.ondata(Ia(e,this.o,0,0,!t),t)},e.prototype.push=function(e,t){this.ondata||ba(5),this.d&&ba(4),this.d=t,this.p(e,t||!1)},e}(),Ta=function(){function e(e){this.s={},this.p=new Gi(0),this.ondata=e}return e.prototype.e=function(e){this.ondata||ba(5),this.d&&ba(4);var t=this.p.length,r=new Gi(t+e.length);r.set(this.p),r.set(e,t),this.p=r},e.prototype.c=function(e){this.d=this.s.i=e||!1;var t=this.s.b,r=function(e,t,r){var n=e.length;if(!n||r&&r.f&&!r.l)return t||new Gi(0);var i=!t||r,a=!r||r.i;r||(r={}),t||(t=new Gi(3*n));var s=function(e){var r=t.length;if(e>r){var n=new Gi(Math.max(2*r,e));n.set(t),t=n}},o=r.f||0,c=r.p||0,u=r.b||0,h=r.l,l=r.d,y=r.m,p=r.n,f=8*n;do{if(!h){o=da(e,c,1);var d=da(e,c+1,3);if(c+=3,!d){var g=e[(P=ma(c)+4)-4]|e[P-3]<<8,m=P+g;if(m>n){a&&ba(0);break}i&&s(u+g),t.set(e.subarray(P,m),u),r.b=u+=g,r.p=c=8*m,r.f=o;continue}if(1==d)h=la,l=pa,y=9,p=5;else if(2==d){var w=da(e,c,31)+257,v=da(e,c+10,15)+4,b=w+da(e,c+5,31)+1;c+=14;for(var k=new Gi(b),A=new Gi(19),E=0;E<v;++E)A[Xi[E]]=da(e,c+3*E,7);c+=3*v;var S=fa(A),x=(1<<S)-1,K=oa(A,S,1);for(E=0;E<b;){var P,D=K[da(e,c,x)];if(c+=15&D,(P=D>>>4)<16)k[E++]=P;else{var U=0,C=0;for(16==P?(C=3+da(e,c,3),c+=2,U=k[E-1]):17==P?(C=3+da(e,c,7),c+=3):18==P&&(C=11+da(e,c,127),c+=7);C--;)k[E++]=U}}var I=k.subarray(0,w),_=k.subarray(w);y=fa(I),p=fa(_),h=oa(I,y,1),l=oa(_,p,1)}else ba(1);if(c>f){a&&ba(0);break}}i&&s(u+131072);for(var T=(1<<y)-1,R=(1<<p)-1,M=c;;M=c){var O=(U=h[ga(e,c)&T])>>>4;if((c+=15&U)>f){a&&ba(0);break}if(U||ba(2),O<256)t[u++]=O;else{if(256==O){M=c,h=null;break}var B=O-254;if(O>264){var L=$i[E=O-257];B=da(e,c,(1<<L)-1)+Ji[E],c+=L}var N=l[ga(e,c)&R],F=N>>>4;if(N||ba(3),c+=15&N,_=ra[F],F>3&&(L=Yi[F],_+=ga(e,c)&(1<<L)-1,c+=L),c>f){a&&ba(0);break}i&&s(u+131072);for(var j=u+B;u<j;u+=4)t[u]=t[u-_],t[u+1]=t[u+1-_],t[u+2]=t[u+2-_],t[u+3]=t[u+3-_];u=j}}r.l=h,r.p=M,r.b=u,r.f=o,h&&(o=1,r.m=y,r.d=l,r.n=p)}while(!o);return u==t.length?t:wa(t,0,u)}(this.p,this.o,this.s);this.ondata(wa(r,t,this.s.b),this.d),this.o=wa(r,this.s.b-32768),this.s.b=this.o.length,this.p=wa(this.p,this.s.p/8|0),this.s.p&=7},e.prototype.push=function(e,t){this.e(e),this.c(t)},e}(),Ra=function(){function e(e,t){this.c=function(){var e=1,t=0;return{p:function(r){for(var n=e,i=t,a=0|r.length,s=0;s!=a;){for(var o=Math.min(s+2655,a);s<o;++s)i+=n+=r[s];n=(65535&n)+15*(n>>16),i=(65535&i)+15*(i>>16)}e=n,t=i},d:function(){return(255&(e%=65521))<<24|e>>>8<<16|(255&(t%=65521))<<8|t>>>8}}}(),this.v=1,_a.call(this,e,t)}return e.prototype.push=function(e,t){_a.prototype.push.call(this,e,t)},e.prototype.p=function(e,t){this.c.p(e);var r=Ia(e,this.o,this.v&&2,t&&4,!t);this.v&&(function(e,t){var r=t.level,n=0==r?0:r<6?1:9==r?3:2;e[0]=120,e[1]=n<<6|(n?32-2*n:1)}(r,this.o),this.v=0),t&&function(e,t,r){for(;r;++t)e[t]=r,r>>>=8}(r,r.length-4,this.c.d()),this.ondata(r,t)},e}(),Ma=function(){function e(e){this.v=1,Ta.call(this,e)}return e.prototype.push=function(e,t){if(Ta.prototype.e.call(this,e),this.v){if(this.p.length<2&&!t)return;this.p=this.p.subarray(2),this.v=0}t&&(this.p.length<4&&ba(6,"invalid zlib data"),this.p=this.p.subarray(0,-4)),Ta.prototype.c.call(this,t)},e}(),Oa="undefined"!=typeof TextDecoder&&new TextDecoder;try{Oa.decode(Ca,{stream:!0})}catch(b){}var Ba=[0,1,3,7,15,31,63,127,255],La=function(e){this.stream=e,this.bitOffset=0,this.curByte=0,this.hasByte=!1};La.prototype._ensureByte=function(){this.hasByte||(this.curByte=this.stream.readByte(),this.hasByte=!0)},La.prototype.read=function(e){for(var t=0;e>0;){this._ensureByte();var r=8-this.bitOffset;if(e>=r)t<<=r,t|=Ba[r]&this.curByte,this.hasByte=!1,this.bitOffset=0,e-=r;else{t<<=e;var n=r-e;t|=(this.curByte&Ba[e]<<n)>>n,this.bitOffset+=e,e=0}}return t},La.prototype.seek=function(e){var t=e%8,r=(e-t)/8;this.bitOffset=t,this.stream.seek(r),this.hasByte=!1},La.prototype.pi=function(){var e,t=new Uint8Array(6);for(e=0;e<t.length;e++)t[e]=this.read(8);return function(e){return Array.prototype.map.call(e,(e=>("00"+e.toString(16)).slice(-2))).join("")}(t)};var Na=La,Fa=function(){};Fa.prototype.readByte=function(){throw Error("abstract method readByte() not implemented")},Fa.prototype.read=function(e,t,r){for(var n=0;n<r;){var i=this.readByte();if(i<0)return 0===n?-1:n;e[t++]=i,n++}return n},Fa.prototype.seek=function(e){throw Error("abstract method seek() not implemented")},Fa.prototype.writeByte=function(e){throw Error("abstract method readByte() not implemented")},Fa.prototype.write=function(e,t,r){var n;for(n=0;n<r;n++)this.writeByte(e[t++]);return r},Fa.prototype.flush=function(){};var ja,za=Fa,Ha=(ja=new Uint32Array([0,79764919,159529838,222504665,319059676,398814059,445009330,507990021,638119352,583659535,797628118,726387553,890018660,835552979,1015980042,944750013,1276238704,1221641927,1167319070,1095957929,1595256236,1540665371,1452775106,1381403509,1780037320,1859660671,1671105958,1733955601,2031960084,2111593891,1889500026,1952343757,2552477408,2632100695,2443283854,2506133561,2334638140,2414271883,2191915858,2254759653,3190512472,3135915759,3081330742,3009969537,2905550212,2850959411,2762807018,2691435357,3560074640,3505614887,3719321342,3648080713,3342211916,3287746299,3467911202,3396681109,4063920168,4143685023,4223187782,4286162673,3779000052,3858754371,3904687514,3967668269,881225847,809987520,1023691545,969234094,662832811,591600412,771767749,717299826,311336399,374308984,453813921,533576470,25881363,88864420,134795389,214552010,2023205639,2086057648,1897238633,1976864222,1804852699,1867694188,1645340341,1724971778,1587496639,1516133128,1461550545,1406951526,1302016099,1230646740,1142491917,1087903418,2896545431,2825181984,2770861561,2716262478,3215044683,3143675388,3055782693,3001194130,2326604591,2389456536,2200899649,2280525302,2578013683,2640855108,2418763421,2498394922,3769900519,3832873040,3912640137,3992402750,4088425275,4151408268,4197601365,4277358050,3334271071,3263032808,3476998961,3422541446,3585640067,3514407732,3694837229,3640369242,1762451694,1842216281,1619975040,1682949687,2047383090,2127137669,1938468188,2001449195,1325665622,1271206113,1183200824,1111960463,1543535498,1489069629,1434599652,1363369299,622672798,568075817,748617968,677256519,907627842,853037301,1067152940,995781531,51762726,131386257,177728840,240578815,269590778,349224269,429104020,491947555,4046411278,4126034873,4172115296,4234965207,3794477266,3874110821,3953728444,4016571915,3609705398,3555108353,3735388376,3664026991,3290680682,3236090077,3449943556,3378572211,3174993278,3120533705,3032266256,2961025959,2923101090,2868635157,2813903052,2742672763,2604032198,2683796849,2461293480,2524268063,2284983834,2364738477,2175806836,2238787779,1569362073,1498123566,1409854455,1355396672,1317987909,1246755826,1192025387,1137557660,2072149281,2135122070,1912620623,1992383480,1753615357,1816598090,1627664531,1707420964,295390185,358241886,404320391,483945776,43990325,106832002,186451547,266083308,932423249,861060070,1041341759,986742920,613929101,542559546,756411363,701822548,3316196985,3244833742,3425377559,3370778784,3601682597,3530312978,3744426955,3689838204,3819031489,3881883254,3928223919,4007849240,4037393693,4100235434,4180117107,4259748804,2310601993,2373574846,2151335527,2231098320,2596047829,2659030626,2470359227,2550115596,2947551409,2876312838,2788305887,2733848168,3165939309,3094707162,3040238851,2985771188]),function(){var e=4294967295;this.getCRC=function(){return~e>>>0},this.updateCRC=function(t){e=e<<8^ja[255&(e>>>24^t)]},this.updateCRCRun=function(t,r){for(;r-- >0;)e=e<<8^ja[255&(e>>>24^t)]}}),qa=Na,Ga=za,Va=Ha,Wa=function(e,t){var r,n=e[t];for(r=t;r>0;r--)e[r]=e[r-1];return e[0]=n,n},$a=-2,Ya=-3,Xa=-4,Qa=-5,Za=-6,Ja=-7,es={"-1":"Bad file checksum"};es[$a]="Not bzip data",es[Ya]="Unexpected input EOF",es[Xa]="Unexpected output EOF",es[Qa]="Data error",es[Za]="Out of memory",es[Ja]="Obsolete (pre 0.9.5) bzip format not supported.";var ts=function(e,t){var r=es[e]||"unknown error";t&&(r+=": "+t);var n=new TypeError(r);throw n.errorCode=e,n},rs=function(e,t){this.writePos=this.writeCurrent=this.writeCount=0,this._start_bunzip(e,t)};rs.prototype._init_block=function(){return this._get_next_block()?(this.blockCRC=new Va,!0):(this.writeCount=-1,!1)},rs.prototype._start_bunzip=function(e,t){var r=new Uint8Array(4);4===e.read(r,0,4)&&"BZh"===String.fromCharCode(r[0],r[1],r[2])||ts($a,"bad magic");var n=r[3]-48;(n<1||n>9)&&ts($a,"level out of range"),this.reader=new qa(e),this.dbufSize=1e5*n,this.nextoutput=0,this.outputStream=t,this.streamCRC=0},rs.prototype._get_next_block=function(){var e,t,r,n=this.reader,i=n.pi();if("177245385090"===i)return!1;"314159265359"!==i&&ts($a),this.targetBlockCRC=n.read(32)>>>0,this.streamCRC=(this.targetBlockCRC^(this.streamCRC<<1|this.streamCRC>>>31))>>>0,n.read(1)&&ts(Ja);var a=n.read(24);a>this.dbufSize&&ts(Qa,"initial position out of bounds");var s=n.read(16),o=new Uint8Array(256),c=0;for(e=0;e<16;e++)if(s&1<<15-e){var u=16*e;for(r=n.read(16),t=0;t<16;t++)r&1<<15-t&&(o[c++]=u+t)}var h=n.read(3);(h<2||h>6)&&ts(Qa);var l=n.read(15);0===l&&ts(Qa);var y=new Uint8Array(256);for(e=0;e<h;e++)y[e]=e;var p=new Uint8Array(l);for(e=0;e<l;e++){for(t=0;n.read(1);t++)t>=h&&ts(Qa);p[e]=Wa(y,t)}var f,d=c+2,g=[];for(t=0;t<h;t++){var m,w,v=new Uint8Array(d),b=new Uint16Array(21);for(s=n.read(5),e=0;e<d;e++){for(;(s<1||s>20)&&ts(Qa),n.read(1);)n.read(1)?s--:s++;v[e]=s}for(m=w=v[0],e=1;e<d;e++)v[e]>w?w=v[e]:v[e]<m&&(m=v[e]);f={},g.push(f),f.permute=new Uint16Array(258),f.limit=new Uint32Array(22),f.base=new Uint32Array(21),f.minLen=m,f.maxLen=w;var k=0;for(e=m;e<=w;e++)for(b[e]=f.limit[e]=0,s=0;s<d;s++)v[s]===e&&(f.permute[k++]=s);for(e=0;e<d;e++)b[v[e]]++;for(k=s=0,e=m;e<w;e++)k+=b[e],f.limit[e]=k-1,k<<=1,s+=b[e],f.base[e+1]=k-s;f.limit[w+1]=Number.MAX_VALUE,f.limit[w]=k+b[w]-1,f.base[m]=0}var A=new Uint32Array(256);for(e=0;e<256;e++)y[e]=e;var E,S=0,x=0,K=0,P=this.dbuf=new Uint32Array(this.dbufSize);for(d=0;;){for(d--||(d=49,K>=l&&ts(Qa),f=g[p[K++]]),e=f.minLen,t=n.read(e);e>f.maxLen&&ts(Qa),!(t<=f.limit[e]);e++)t=t<<1|n.read(1);((t-=f.base[e])<0||t>=258)&&ts(Qa);var D=f.permute[t];if(0!==D&&1!==D){if(S)for(S=0,x+s>this.dbufSize&&ts(Qa),A[E=o[y[0]]]+=s;s--;)P[x++]=E;if(D>c)break;x>=this.dbufSize&&ts(Qa),A[E=o[E=Wa(y,e=D-1)]]++,P[x++]=E}else S||(S=1,s=0),s+=0===D?S:2*S,S<<=1}for((a<0||a>=x)&&ts(Qa),t=0,e=0;e<256;e++)r=t+A[e],A[e]=t,t=r;for(e=0;e<x;e++)P[A[E=255&P[e]]]|=e<<8,A[E]++;var U=0,C=0,I=0;return x&&(C=255&(U=P[a]),U>>=8,I=-1),this.writePos=U,this.writeCurrent=C,this.writeCount=x,this.writeRun=I,!0},rs.prototype._read_bunzip=function(e,t){var r,n,i;if(this.writeCount<0)return 0;var a=this.dbuf,s=this.writePos,o=this.writeCurrent,c=this.writeCount;this.outputsize;for(var u=this.writeRun;c;){for(c--,n=o,o=255&(s=a[s]),s>>=8,3==u++?(r=o,i=n,o=-1):(r=1,i=o),this.blockCRC.updateCRCRun(i,r);r--;)this.outputStream.writeByte(i),this.nextoutput++;o!=n&&(u=0)}return this.writeCount=c,this.blockCRC.getCRC()!==this.targetBlockCRC&&ts(Qa,"Bad block CRC (got "+this.blockCRC.getCRC().toString(16)+" expected "+this.targetBlockCRC.toString(16)+")"),this.nextoutput};var ns=function(e,t,r){for(var n=function(e){if("readByte"in e)return e;var t=new Ga;return t.pos=0,t.readByte=function(){return e[this.pos++]},t.seek=function(e){this.pos=e},t.eof=function(){return this.pos>=e.length},t}(e),i=function(e){var t=new Ga,r=!0;if(e)if("number"==typeof e)t.buffer=new Uint8Array(e),r=!1;else{if("writeByte"in e)return e;t.buffer=e,r=!1}else t.buffer=new Uint8Array(16384);return t.pos=0,t.writeByte=function(e){if(r&&this.pos>=this.buffer.length){var t=new Uint8Array(2*this.buffer.length);t.set(this.buffer),this.buffer=t}this.buffer[this.pos++]=e},t.getBuffer=function(){if(this.pos!==this.buffer.length){if(!r)throw new TypeError("outputsize does not match decoded input");var e=new Uint8Array(this.pos);e.set(this.buffer.subarray(0,this.pos)),this.buffer=e}return this.buffer},t._coerced=!0,t}(t),a=new rs(n,i);!("eof"in n)||!n.eof();)if(a._init_block())a._read_bunzip();else{var s=a.reader.read(32)>>>0;if(s!==a.streamCRC&&ts(Qa,"Bad stream CRC (got "+a.streamCRC.toString(16)+" expected "+s.toString(16)+")"),!r||!("eof"in n)||n.eof())break;a._start_bunzip(n,i)}if("getBuffer"in i)return i.getBuffer()};class is{static get tag(){return re.packet.literalData}constructor(e=new Date){this.format=re.literal.utf8,this.date=ae.normalizeDate(e),this.text=null,this.data=null,this.filename=""}setText(e,t=re.literal.utf8){this.format=t,this.text=e,this.data=null}getText(e=!1){return(null===this.text||ae.isStream(this.text))&&(this.text=ae.decodeUTF8(ae.nativeEOL(this.getBytes(e)))),this.text}setBytes(e,t){this.format=t,this.data=e,this.text=null}getBytes(e=!1){return null===this.data&&(this.data=ae.canonicalizeEOL(ae.encodeUTF8(this.text))),e?W(this.data):this.data}setFilename(e){this.filename=e}getFilename(){return this.filename}async read(e){await G(e,(async e=>{const t=await e.readByte(),r=await e.readByte();this.filename=ae.decodeUTF8(await e.readBytes(r)),this.date=ae.readDate(await e.readBytes(4));let n=e.remainder();K(n)&&(n=await X(n)),this.setBytes(n,t)}))}writeHeader(){const e=ae.encodeUTF8(this.filename),t=new Uint8Array([e.length]),r=new Uint8Array([this.format]),n=ae.writeDate(this.date);return ae.concatUint8Array([r,t,e,n])}write(){const e=this.writeHeader(),t=this.getBytes();return ae.concat([e,t])}}class as{constructor(){this.bytes=""}read(e){return this.bytes=ae.uint8ArrayToString(e.subarray(0,8)),this.bytes.length}write(){return ae.stringToUint8Array(this.bytes)}toHex(){return ae.uint8ArrayToHex(ae.stringToUint8Array(this.bytes))}equals(e,t=!1){return t&&(e.isWildcard()||this.isWildcard())||this.bytes===e.bytes}isNull(){return""===this.bytes}isWildcard(){return/^0+$/.test(this.toHex())}static mapToHex(e){return e.toHex()}static fromID(e){const t=new as;return t.read(ae.hexToUint8Array(e)),t}static wildcard(){const e=new as;return e.read(new Uint8Array(8)),e}}const ss=Symbol("verified"),os=new Set([re.signatureSubpacket.issuerKeyID,re.signatureSubpacket.issuerFingerprint,re.signatureSubpacket.embeddedSignature]);class cs{static get tag(){return re.packet.signature}constructor(){this.version=null,this.signatureType=null,this.hashAlgorithm=null,this.publicKeyAlgorithm=null,this.signatureData=null,this.unhashedSubpackets=[],this.signedHashValue=null,this.salt=null,this.created=null,this.signatureExpirationTime=null,this.signatureNeverExpires=!0,this.exportable=null,this.trustLevel=null,this.trustAmount=null,this.regularExpression=null,this.revocable=null,this.keyExpirationTime=null,this.keyNeverExpires=null,this.preferredSymmetricAlgorithms=null,this.revocationKeyClass=null,this.revocationKeyAlgorithm=null,this.revocationKeyFingerprint=null,this.issuerKeyID=new as,this.rawNotations=[],this.notations={},this.preferredHashAlgorithms=null,this.preferredCompressionAlgorithms=null,this.keyServerPreferences=null,this.preferredKeyServer=null,this.isPrimaryUserID=null,this.policyURI=null,this.keyFlags=null,this.signersUserID=null,this.reasonForRevocationFlag=null,this.reasonForRevocationString=null,this.features=null,this.signatureTargetPublicKeyAlgorithm=null,this.signatureTargetHashAlgorithm=null,this.signatureTargetHash=null,this.embeddedSignature=null,this.issuerKeyVersion=null,this.issuerFingerprint=null,this.preferredAEADAlgorithms=null,this.preferredCipherSuites=null,this.revoked=null,this[ss]=null}read(e){let t=0;if(this.version=e[t++],4!==this.version&&5!==this.version&&6!==this.version)throw new wn(`Version ${this.version} of the signature packet is unsupported.`);if(this.signatureType=e[t++],this.publicKeyAlgorithm=e[t++],this.hashAlgorithm=e[t++],t+=this.readSubPackets(e.subarray(t,e.length),!0),!this.created)throw Error("Missing signature creation time subpacket.");if(this.signatureData=e.subarray(0,t),t+=this.readSubPackets(e.subarray(t,e.length),!1),this.signedHashValue=e.subarray(t,t+2),t+=2,6===this.version){const r=e[t++];this.salt=e.subarray(t,t+r),t+=r}const r=e.subarray(t,e.length),{read:n,signatureParams:i}=Oi.signature.parseSignatureParams(this.publicKeyAlgorithm,r);if(n<r.length)throw Error("Error reading MPIs");this.params=i}writeParams(){return this.params instanceof Promise?Z((async()=>Oi.serializeParams(this.publicKeyAlgorithm,await this.params))):Oi.serializeParams(this.publicKeyAlgorithm,this.params)}write(){const e=[];return e.push(this.signatureData),e.push(this.writeUnhashedSubPackets()),e.push(this.signedHashValue),6===this.version&&(e.push(new Uint8Array([this.salt.length])),e.push(this.salt)),e.push(this.writeParams()),ae.concat(e)}async sign(e,t,r=new Date,n=!1){this.version=e.version,this.created=ae.normalizeDate(r),this.issuerKeyVersion=e.version,this.issuerFingerprint=e.getFingerprintBytes(),this.issuerKeyID=e.getKeyID();const i=[new Uint8Array([this.version,this.signatureType,this.publicKeyAlgorithm,this.hashAlgorithm])];if(i.push(this.writeHashedSubPackets()),this.unhashedSubpackets=[],this.signatureData=ae.concat(i),6===this.version){const e=hs(this.hashAlgorithm);if(null===this.salt)this.salt=Oi.random.getRandomBytes(e);else if(e!==this.salt.length)throw Error("Provided salt does not have the required length")}const a=this.toHash(this.signatureType,t,n),s=await this.hash(this.signatureType,t,a,n);this.signedHashValue=Y(V(s),0,2);const o=async()=>Oi.signature.sign(this.publicKeyAlgorithm,this.hashAlgorithm,e.publicParams,e.privateParams,a,await X(s));ae.isStream(s)?this.params=o():(this.params=await o(),this[ss]=!0)}writeHashedSubPackets(){const e=re.signatureSubpacket,t=[];let r;if(null===this.created)throw Error("Missing signature creation time");t.push(us(e.signatureCreationTime,!0,ae.writeDate(this.created))),null!==this.signatureExpirationTime&&t.push(us(e.signatureExpirationTime,!0,ae.writeNumber(this.signatureExpirationTime,4))),null!==this.exportable&&t.push(us(e.exportableCertification,!0,new Uint8Array([this.exportable?1:0]))),null!==this.trustLevel&&(r=new Uint8Array([this.trustLevel,this.trustAmount]),t.push(us(e.trustSignature,!0,r))),null!==this.regularExpression&&t.push(us(e.regularExpression,!0,this.regularExpression)),null!==this.revocable&&t.push(us(e.revocable,!0,new Uint8Array([this.revocable?1:0]))),null!==this.keyExpirationTime&&t.push(us(e.keyExpirationTime,!0,ae.writeNumber(this.keyExpirationTime,4))),null!==this.preferredSymmetricAlgorithms&&(r=ae.stringToUint8Array(ae.uint8ArrayToString(this.preferredSymmetricAlgorithms)),t.push(us(e.preferredSymmetricAlgorithms,!1,r))),null!==this.revocationKeyClass&&(r=new Uint8Array([this.revocationKeyClass,this.revocationKeyAlgorithm]),r=ae.concat([r,this.revocationKeyFingerprint]),t.push(us(e.revocationKey,!1,r))),!this.issuerKeyID.isNull()&&this.issuerKeyVersion<5&&t.push(us(e.issuerKeyID,!0,this.issuerKeyID.write())),this.rawNotations.forEach((({name:n,value:i,humanReadable:a,critical:s})=>{r=[new Uint8Array([a?128:0,0,0,0])];const o=ae.encodeUTF8(n);r.push(ae.writeNumber(o.length,2)),r.push(ae.writeNumber(i.length,2)),r.push(o),r.push(i),r=ae.concat(r),t.push(us(e.notationData,s,r))})),null!==this.preferredHashAlgorithms&&(r=ae.stringToUint8Array(ae.uint8ArrayToString(this.preferredHashAlgorithms)),t.push(us(e.preferredHashAlgorithms,!1,r))),null!==this.preferredCompressionAlgorithms&&(r=ae.stringToUint8Array(ae.uint8ArrayToString(this.preferredCompressionAlgorithms)),t.push(us(e.preferredCompressionAlgorithms,!1,r))),null!==this.keyServerPreferences&&(r=ae.stringToUint8Array(ae.uint8ArrayToString(this.keyServerPreferences)),t.push(us(e.keyServerPreferences,!1,r))),null!==this.preferredKeyServer&&t.push(us(e.preferredKeyServer,!1,ae.encodeUTF8(this.preferredKeyServer))),null!==this.isPrimaryUserID&&t.push(us(e.primaryUserID,!1,new Uint8Array([this.isPrimaryUserID?1:0]))),null!==this.policyURI&&t.push(us(e.policyURI,!1,ae.encodeUTF8(this.policyURI))),null!==this.keyFlags&&(r=ae.stringToUint8Array(ae.uint8ArrayToString(this.keyFlags)),t.push(us(e.keyFlags,!0,r))),null!==this.signersUserID&&t.push(us(e.signersUserID,!1,ae.encodeUTF8(this.signersUserID))),null!==this.reasonForRevocationFlag&&(r=ae.stringToUint8Array(String.fromCharCode(this.reasonForRevocationFlag)+this.reasonForRevocationString),t.push(us(e.reasonForRevocation,!0,r))),null!==this.features&&(r=ae.stringToUint8Array(ae.uint8ArrayToString(this.features)),t.push(us(e.features,!1,r))),null!==this.signatureTargetPublicKeyAlgorithm&&(r=[new Uint8Array([this.signatureTargetPublicKeyAlgorithm,this.signatureTargetHashAlgorithm])],r.push(ae.stringToUint8Array(this.signatureTargetHash)),r=ae.concat(r),t.push(us(e.signatureTarget,!0,r))),null!==this.embeddedSignature&&t.push(us(e.embeddedSignature,!0,this.embeddedSignature.write())),null!==this.issuerFingerprint&&(r=[new Uint8Array([this.issuerKeyVersion]),this.issuerFingerprint],r=ae.concat(r),t.push(us(e.issuerFingerprint,this.version>=5,r))),null!==this.preferredAEADAlgorithms&&(r=ae.stringToUint8Array(ae.uint8ArrayToString(this.preferredAEADAlgorithms)),t.push(us(e.preferredAEADAlgorithms,!1,r))),null!==this.preferredCipherSuites&&(r=new Uint8Array([].concat(...this.preferredCipherSuites)),t.push(us(e.preferredCipherSuites,!1,r)));const n=ae.concat(t),i=ae.writeNumber(n.length,6===this.version?4:2);return ae.concat([i,n])}writeUnhashedSubPackets(){const e=[];this.unhashedSubpackets.forEach((t=>{e.push(yn(t.length)),e.push(t)}));const t=ae.concat(e),r=ae.writeNumber(t.length,6===this.version?4:2);return ae.concat([r,t])}readSubPacket(e,t=!0){let r=0;const n=!!(128&e[r]),i=127&e[r];if(t||(this.unhashedSubpackets.push(e.subarray(r,e.length)),os.has(i)))switch(r++,i){case re.signatureSubpacket.signatureCreationTime:this.created=ae.readDate(e.subarray(r,e.length));break;case re.signatureSubpacket.signatureExpirationTime:{const t=ae.readNumber(e.subarray(r,e.length));this.signatureNeverExpires=0===t,this.signatureExpirationTime=t;break}case re.signatureSubpacket.exportableCertification:this.exportable=1===e[r++];break;case re.signatureSubpacket.trustSignature:this.trustLevel=e[r++],this.trustAmount=e[r++];break;case re.signatureSubpacket.regularExpression:this.regularExpression=e[r];break;case re.signatureSubpacket.revocable:this.revocable=1===e[r++];break;case re.signatureSubpacket.keyExpirationTime:{const t=ae.readNumber(e.subarray(r,e.length));this.keyExpirationTime=t,this.keyNeverExpires=0===t;break}case re.signatureSubpacket.preferredSymmetricAlgorithms:this.preferredSymmetricAlgorithms=[...e.subarray(r,e.length)];break;case re.signatureSubpacket.revocationKey:this.revocationKeyClass=e[r++],this.revocationKeyAlgorithm=e[r++],this.revocationKeyFingerprint=e.subarray(r,r+20);break;case re.signatureSubpacket.issuerKeyID:if(4===this.version)this.issuerKeyID.read(e.subarray(r,e.length));else if(t)throw Error("Unexpected Issuer Key ID subpacket");break;case re.signatureSubpacket.notationData:{const t=!!(128&e[r]);r+=4;const i=ae.readNumber(e.subarray(r,r+2));r+=2;const a=ae.readNumber(e.subarray(r,r+2));r+=2;const s=ae.decodeUTF8(e.subarray(r,r+i)),o=e.subarray(r+i,r+i+a);this.rawNotations.push({name:s,humanReadable:t,value:o,critical:n}),t&&(this.notations[s]=ae.decodeUTF8(o));break}case re.signatureSubpacket.preferredHashAlgorithms:this.preferredHashAlgorithms=[...e.subarray(r,e.length)];break;case re.signatureSubpacket.preferredCompressionAlgorithms:this.preferredCompressionAlgorithms=[...e.subarray(r,e.length)];break;case re.signatureSubpacket.keyServerPreferences:this.keyServerPreferences=[...e.subarray(r,e.length)];break;case re.signatureSubpacket.preferredKeyServer:this.preferredKeyServer=ae.decodeUTF8(e.subarray(r,e.length));break;case re.signatureSubpacket.primaryUserID:this.isPrimaryUserID=0!==e[r++];break;case re.signatureSubpacket.policyURI:this.policyURI=ae.decodeUTF8(e.subarray(r,e.length));break;case re.signatureSubpacket.keyFlags:this.keyFlags=[...e.subarray(r,e.length)];break;case re.signatureSubpacket.signersUserID:this.signersUserID=ae.decodeUTF8(e.subarray(r,e.length));break;case re.signatureSubpacket.reasonForRevocation:this.reasonForRevocationFlag=e[r++],this.reasonForRevocationString=ae.decodeUTF8(e.subarray(r,e.length));break;case re.signatureSubpacket.features:this.features=[...e.subarray(r,e.length)];break;case re.signatureSubpacket.signatureTarget:{this.signatureTargetPublicKeyAlgorithm=e[r++],this.signatureTargetHashAlgorithm=e[r++];const t=Oi.getHashByteLength(this.signatureTargetHashAlgorithm);this.signatureTargetHash=ae.uint8ArrayToString(e.subarray(r,r+t));break}case re.signatureSubpacket.embeddedSignature:this.embeddedSignature=new cs,this.embeddedSignature.read(e.subarray(r,e.length));break;case re.signatureSubpacket.issuerFingerprint:this.issuerKeyVersion=e[r++],this.issuerFingerprint=e.subarray(r,e.length),this.issuerKeyVersion>=5?this.issuerKeyID.read(this.issuerFingerprint):this.issuerKeyID.read(this.issuerFingerprint.subarray(-8));break;case re.signatureSubpacket.preferredAEADAlgorithms:this.preferredAEADAlgorithms=[...e.subarray(r,e.length)];break;case re.signatureSubpacket.preferredCipherSuites:this.preferredCipherSuites=[];for(let t=r;t<e.length;t+=2)this.preferredCipherSuites.push([e[t],e[t+1]]);break;default:{const e=Error("Unknown signature subpacket type "+i);if(n)throw e;ae.printDebug(e)}}}readSubPackets(e,t=!0,r){const n=6===this.version?4:2,i=ae.readNumber(e.subarray(0,n));let a=n;for(;a<2+i;){const n=ln(e.subarray(a,e.length));a+=n.offset,this.readSubPacket(e.subarray(a,a+n.len),t,r),a+=n.len}return a}toSign(e,t){const r=re.signature;switch(e){case r.binary:return null!==t.text?ae.encodeUTF8(t.getText(!0)):t.getBytes(!0);case r.text:{const e=t.getBytes(!0);return ae.canonicalizeEOL(e)}case r.standalone:return new Uint8Array(0);case r.certGeneric:case r.certPersona:case r.certCasual:case r.certPositive:case r.certRevocation:{let e,n;if(t.userID)n=180,e=t.userID;else{if(!t.userAttribute)throw Error("Either a userID or userAttribute packet needs to be supplied for certification.");n=209,e=t.userAttribute}const i=e.write();return ae.concat([this.toSign(r.key,t),new Uint8Array([n]),ae.writeNumber(i.length,4),i])}case r.subkeyBinding:case r.subkeyRevocation:case r.keyBinding:return ae.concat([this.toSign(r.key,t),this.toSign(r.key,{key:t.bind})]);case r.key:if(void 0===t.key)throw Error("Key packet is required for this signature.");return t.key.writeForHash(this.version);case r.keyRevocation:return this.toSign(r.key,t);case r.timestamp:return new Uint8Array(0);case r.thirdParty:throw Error("Not implemented");default:throw Error("Unknown signature type.")}}calculateTrailer(e,t){let r=0;return H(V(this.signatureData),(e=>{r+=e.length}),(()=>{const n=[];return 5!==this.version||this.signatureType!==re.signature.binary&&this.signatureType!==re.signature.text||(t?n.push(new Uint8Array(6)):n.push(e.writeHeader())),n.push(new Uint8Array([this.version,255])),5===this.version&&n.push(new Uint8Array(4)),n.push(ae.writeNumber(r,4)),ae.concat(n)}))}toHash(e,t,r=!1){const n=this.toSign(e,t);return ae.concat([this.salt||new Uint8Array,n,this.signatureData,this.calculateTrailer(t,r)])}async hash(e,t,r,n=!1){if(6===this.version&&this.salt.length!==hs(this.hashAlgorithm))throw Error("Signature salt does not have the expected length");return r||(r=this.toHash(e,t,n)),Oi.hash.digest(this.hashAlgorithm,r)}async verify(e,t,r,n=new Date,i=!1,a=ne){if(!this.issuerKeyID.equals(e.getKeyID()))throw Error("Signature was not issued by the given public key");if(this.publicKeyAlgorithm!==e.algorithm)throw Error("Public key algorithm used to sign signature does not match issuer key algorithm.");const s=t===re.signature.binary||t===re.signature.text;if(!this[ss]||s){let n,a;if(this.hashed?a=await this.hashed:(n=this.toHash(t,r,i),a=await this.hash(t,r,n)),a=await X(a),this.signedHashValue[0]!==a[0]||this.signedHashValue[1]!==a[1])throw Error("Signed digest did not match");this.params=await this.params;const s=this.publicKeyAlgorithm===re.publicKey.hmac?e.privateParams:null;if(this[ss]=await Oi.signature.verify(this.publicKeyAlgorithm,this.hashAlgorithm,this.params,e.publicParams,s,n,a),!this[ss])throw Error("Signature verification failed")}const o=ae.normalizeDate(n);if(o&&this.created>o)throw Error("Signature creation time is in the future");if(o&&o>=this.getExpirationTime())throw Error("Signature is expired");if(a.rejectHashAlgorithms.has(this.hashAlgorithm))throw Error("Insecure hash algorithm: "+re.read(re.hash,this.hashAlgorithm).toUpperCase());if(a.rejectMessageHashAlgorithms.has(this.hashAlgorithm)&&[re.signature.binary,re.signature.text].includes(this.signatureType))throw Error("Insecure message hash algorithm: "+re.read(re.hash,this.hashAlgorithm).toUpperCase());if(this.rawNotations.forEach((({name:e,critical:t})=>{if(t&&a.knownNotations.indexOf(e)<0)throw Error("Unknown critical notation: "+e)})),null!==this.revocationKeyClass)throw Error("This key is intended to be revoked with an authorized key, which OpenPGP.js does not support.")}isExpired(e=new Date){const t=ae.normalizeDate(e);return null!==t&&!(this.created<=t&&t<this.getExpirationTime())}getExpirationTime(){return this.signatureNeverExpires?1/0:new Date(this.created.getTime()+1e3*this.signatureExpirationTime)}}function us(e,t,r){const n=[];return n.push(yn(r.length+1)),n.push(new Uint8Array([(t?128:0)|e])),n.push(r),ae.concat(n)}function hs(e){switch(e){case re.hash.sha256:return 16;case re.hash.sha384:return 24;case re.hash.sha512:return 32;case re.hash.sha224:case re.hash.sha3_256:return 16;case re.hash.sha3_512:return 32;default:throw Error("Unsupported hash function")}}class ls{static get tag(){return re.packet.onePassSignature}static fromSignaturePacket(e,t){const r=new ls;return r.version=6===e.version?6:3,r.signatureType=e.signatureType,r.hashAlgorithm=e.hashAlgorithm,r.publicKeyAlgorithm=e.publicKeyAlgorithm,r.issuerKeyID=e.issuerKeyID,r.salt=e.salt,r.issuerFingerprint=e.issuerFingerprint,r.flags=t?1:0,r}constructor(){this.version=null,this.signatureType=null,this.hashAlgorithm=null,this.publicKeyAlgorithm=null,this.salt=null,this.issuerKeyID=null,this.issuerFingerprint=null,this.flags=null}read(e){let t=0;if(this.version=e[t++],3!==this.version&&6!==this.version)throw new wn(`Version ${this.version} of the one-pass signature packet is unsupported.`);if(this.signatureType=e[t++],this.hashAlgorithm=e[t++],this.publicKeyAlgorithm=e[t++],6===this.version){const r=e[t++];this.salt=e.subarray(t,t+r),t+=r,this.issuerFingerprint=e.subarray(t,t+32),t+=32,this.issuerKeyID=new as,this.issuerKeyID.read(this.issuerFingerprint)}else this.issuerKeyID=new as,this.issuerKeyID.read(e.subarray(t,t+8)),t+=8;return this.flags=e[t++],this}write(){const e=[new Uint8Array([this.version,this.signatureType,this.hashAlgorithm,this.publicKeyAlgorithm])];return 6===this.version?e.push(new Uint8Array([this.salt.length]),this.salt,this.issuerFingerprint):e.push(this.issuerKeyID.write()),e.push(new Uint8Array([this.flags])),ae.concatUint8Array(e)}calculateTrailer(...e){return Z((async()=>cs.prototype.calculateTrailer.apply(await this.correspondingSig,e)))}async verify(){const e=await this.correspondingSig;if(!e||e.constructor.tag!==re.packet.signature)throw Error("Corresponding signature packet missing");if(e.signatureType!==this.signatureType||e.hashAlgorithm!==this.hashAlgorithm||e.publicKeyAlgorithm!==this.publicKeyAlgorithm||!e.issuerKeyID.equals(this.issuerKeyID)||3===this.version&&6===e.version||6===this.version&&6!==e.version||6===this.version&&!ae.equalsUint8Array(e.issuerFingerprint,this.issuerFingerprint)||6===this.version&&!ae.equalsUint8Array(e.salt,this.salt))throw Error("Corresponding signature packet does not match one-pass signature packet");return e.hashed=this.hashed,e.verify.apply(e,arguments)}}function ys(e,t){if(!t[e]){let r;try{r=re.read(re.packet,e)}catch(t){throw new vn("Unknown packet type with tag: "+e)}throw Error("Packet not allowed in this context: "+r)}return new t[e]}ls.prototype.hash=cs.prototype.hash,ls.prototype.toHash=cs.prototype.toHash,ls.prototype.toSign=cs.prototype.toSign;class ps extends Array{static async fromBinary(e,t,r=ne){const n=new ps;return await n.read(e,t,r),n}async read(e,t,r=ne){r.additionalAllowedPackets.length&&(t={...t,...ae.constructAllowedPackets(r.additionalAllowedPackets)}),this.stream=q(e,(async(e,n)=>{const i=ee(n);try{for(;;)if(await i.ready,await mn(e,(async e=>{try{if(e.tag===re.packet.marker||e.tag===re.packet.trust||e.tag===re.packet.padding)return;const n=ys(e.tag,t);n.packets=new ps,n.fromStream=ae.isStream(e.packet),await n.read(e.packet,r),await i.write(n)}catch(t){if(t instanceof vn){if(!(e.tag<=39))return;await i.abort(t)}const n=!r.ignoreUnsupportedPackets&&t instanceof wn,a=!(r.ignoreMalformedPackets||t instanceof wn);if(n||a||gn(e.tag))await i.abort(t);else{const t=new bn(e.tag,e.packet);await i.write(t)}ae.printDebugError(t)}})))return await i.ready,void await i.close()}catch(e){await i.abort(e)}}));const n=J(this.stream);for(;;){const{done:e,value:t}=await n.read();if(e?this.stream=null:this.push(t),e||gn(t.constructor.tag))break}n.releaseLock()}write(){const e=[];for(let t=0;t<this.length;t++){const r=this[t]instanceof bn?this[t].tag:this[t].constructor.tag,n=this[t].write();if(ae.isStream(n)&&gn(this[t].constructor.tag)){let t=[],i=0;const a=512;e.push(fn(r)),e.push(H(n,(e=>{if(t.push(e),i+=e.length,i>=a){const e=Math.min(Math.log(i)/Math.LN2|0,30),r=2**e,n=ae.concat([pn(e)].concat(t));return t=[n.subarray(1+r)],i=t[0].length,n.subarray(0,1+r)}}),(()=>ae.concat([yn(i)].concat(t)))))}else{if(ae.isStream(n)){let t=0;e.push(H(V(n),(e=>{t+=e.length}),(()=>dn(r,t))))}else e.push(dn(r,n.length));e.push(n)}}return ae.concat(e)}filterByTag(...e){const t=new ps,r=e=>t=>e===t;for(let n=0;n<this.length;n++)e.some(r(this[n].constructor.tag))&&t.push(this[n]);return t}findPacket(e){return this.find((t=>t.constructor.tag===e))}indexOfTag(...e){const t=[],r=this,n=e=>t=>e===t;for(let i=0;i<this.length;i++)e.some(n(r[i].constructor.tag))&&t.push(i);return t}}const fs=ae.constructAllowedPackets([is,ls,cs]);class ds{static get tag(){return re.packet.compressedData}constructor(e=ne){this.packets=null,this.algorithm=e.preferredCompressionAlgorithm,this.compressed=null,this.deflateLevel=e.deflateLevel}async read(e,t=ne){await G(e,(async e=>{this.algorithm=await e.readByte(),this.compressed=e.remainder(),await this.decompress(t)}))}write(){return null===this.compressed&&this.compress(),ae.concat([new Uint8Array([this.algorithm]),this.compressed])}async decompress(e=ne){const t=re.read(re.compression,this.algorithm),r=As[t];if(!r)throw Error(t+" decompression not supported");this.packets=await ps.fromBinary(r(this.compressed),fs,e)}compress(){const e=re.read(re.compression,this.algorithm),t=ks[e];if(!t)throw Error(e+" compression not supported");this.compressed=t(this.packets.write(),this.deflateLevel)}}const gs=ae.getNodeZlib();function ms(e){return e}function ws(e,t,r={}){return function(n){return!ae.isStream(n)||K(n)?Z((()=>X(n).then((t=>new Promise(((n,i)=>{e(t,r,((e,t)=>{if(e)return i(e);n(t)}))})))))):C(U(n).pipe(t(r)))}}function vs(e,t){return r=>{if(!ae.isStream(r)||K(r))return Z((()=>X(r).then((r=>new Promise(((n,i)=>{const a=new e(t);a.ondata=e=>{n(e)};try{a.push(r,!0)}catch(e){i(e)}}))))));const n=r.getReader(),i=new e(t);return new ReadableStream({async start(e){for(i.ondata=async(t,r)=>{e.enqueue(t),r&&e.close()};;){const{done:e,value:t}=await n.read();if(e)return void i.push(new Uint8Array,!0);t.length&&i.push(t)}}})}}function bs(e){return function(t){return Z((async()=>e(await X(t))))}}const ks=gs?{zip:(e,t)=>ws(gs.deflateRaw,gs.createDeflateRaw,{level:t})(e),zlib:(e,t)=>ws(gs.deflate,gs.createDeflate,{level:t})(e)}:{zip:(e,t)=>vs(_a,{level:t})(e),zlib:(e,t)=>vs(Ra,{level:t})(e)},As=gs?{uncompressed:ms,zip:ws(gs.inflateRaw,gs.createInflateRaw),zlib:ws(gs.inflate,gs.createInflate),bzip2:bs(ns)}:{uncompressed:ms,zip:vs(Ta),zlib:vs(Ma),bzip2:bs(ns)},Es=ae.constructAllowedPackets([is,ds,ls,cs]);class Ss{static get tag(){return re.packet.symEncryptedIntegrityProtectedData}static fromObject({version:e,aeadAlgorithm:t}){if(1!==e&&2!==e)throw Error("Unsupported SEIPD version");const r=new Ss;return r.version=e,2===e&&(r.aeadAlgorithm=t),r}constructor(){this.version=null,this.cipherAlgorithm=null,this.aeadAlgorithm=null,this.chunkSizeByte=null,this.salt=null,this.encrypted=null,this.packets=null}async read(e){await G(e,(async e=>{if(this.version=await e.readByte(),1!==this.version&&2!==this.version)throw new wn(`Version ${this.version} of the SEIP packet is unsupported.`);2===this.version&&(this.cipherAlgorithm=await e.readByte(),this.aeadAlgorithm=await e.readByte(),this.chunkSizeByte=await e.readByte(),this.salt=await e.readBytes(32)),this.encrypted=e.remainder()}))}write(){return 2===this.version?ae.concat([new Uint8Array([this.version,this.cipherAlgorithm,this.aeadAlgorithm,this.chunkSizeByte]),this.salt,this.encrypted]):ae.concat([new Uint8Array([this.version]),this.encrypted])}async encrypt(e,t,r=ne){let n=this.packets.write();if(K(n)&&(n=await X(n)),2===this.version)this.cipherAlgorithm=e,this.salt=Oi.random.getRandomBytes(32),this.chunkSizeByte=r.aeadChunkSizeByte,this.encrypted=await xs(this,"encrypt",t,n);else{const{blockSize:i}=Oi.getCipher(e),a=await Oi.getPrefixRandom(e),s=new Uint8Array([211,20]),o=ae.concat([a,n,s]),c=await Oi.hash.sha1(W(o)),u=ae.concat([o,c]);this.encrypted=await Oi.mode.cfb.encrypt(e,t,u,new Uint8Array(i),r)}return!0}async decrypt(e,t,r=ne){let n,i=V(this.encrypted);if(K(i)&&(i=await X(i)),2===this.version)n=await xs(this,"decrypt",t,i);else{const{blockSize:a}=Oi.getCipher(e),s=await Oi.mode.cfb.decrypt(e,t,i,new Uint8Array(a)),o=Y(W(s),-20),c=Y(s,0,-20),u=Promise.all([X(await Oi.hash.sha1(W(c))),X(o)]).then((([e,t])=>{if(!ae.equalsUint8Array(e,t))throw Error("Modification detected.");return new Uint8Array})),h=Y(c,a+2);n=Y(h,0,-2),n=N([n,Z((()=>u))]),ae.isStream(i)&&r.allowUnauthenticatedStream||(n=await X(n))}return this.packets=await ps.fromBinary(n,Es,r),!0}}async function xs(e,t,r,n){const i=e instanceof Ss&&2===e.version,a=!i&&e.constructor.tag===re.packet.aeadEncryptedData;if(!i&&!a)throw Error("Unexpected packet type");const s=Oi.getAEADMode(e.aeadAlgorithm),o="decrypt"===t?s.tagLength:0,c="encrypt"===t?s.tagLength:0,u=2**(e.chunkSizeByte+6)+o,h=a?8:0,l=new ArrayBuffer(13+h),y=new Uint8Array(l,0,5+h),p=new Uint8Array(l),f=new DataView(l),d=new Uint8Array(l,5,8);y.set([192|e.constructor.tag,e.version,e.cipherAlgorithm,e.aeadAlgorithm,e.chunkSizeByte],0);let g,m,w=0,v=Promise.resolve(),b=0,k=0;if(i){const{keySize:t}=Oi.getCipher(e.cipherAlgorithm),{ivLength:n}=s,i=new Uint8Array(l,0,5),a=await yi(re.hash.sha256,r,e.salt,i,t+n);r=a.subarray(0,t),g=a.subarray(t),g.fill(0,g.length-8),m=new DataView(g.buffer,g.byteOffset,g.byteLength)}else g=e.iv;const A=await s(e.cipherAlgorithm,r);return q(n,(async(r,n)=>{if("array"!==ae.isStream(r)){const t=new TransformStream({},{highWaterMark:ae.getHardwareConcurrency()*2**(e.chunkSizeByte+6),size:e=>e.length});F(t.readable,n),n=t.writable}const a=J(r),s=ee(n);try{for(;;){let e=await a.readBytes(u+o)||new Uint8Array;const r=e.subarray(e.length-o);let n,l,E;if(e=e.subarray(0,e.length-o),i)E=g;else{E=g.slice();for(let e=0;e<8;e++)E[g.length-8+e]^=d[e]}if(!w||e.length?(a.unshift(r),n=A[t](e,E,y),n.catch((()=>{})),k+=e.length-o+c):(f.setInt32(5+h+4,b),n=A[t](r,E,p),n.catch((()=>{})),k+=c,l=!0),b+=e.length-o,v=v.then((()=>n)).then((async e=>{await s.ready,await s.write(e),k-=e.length})).catch((e=>s.abort(e))),(l||k>s.desiredSize)&&await v,l){await s.close();break}i?m.setInt32(g.length-4,++w):f.setInt32(9,++w)}}catch(e){await s.ready.catch((()=>{})),await s.abort(e)}}))}const Ks=ae.constructAllowedPackets([is,ds,ls,cs]);class Ps{static get tag(){return re.packet.publicKeyEncryptedSessionKey}constructor(){this.version=null,this.publicKeyID=new as,this.publicKeyVersion=null,this.publicKeyFingerprint=null,this.publicKeyAlgorithm=null,this.sessionKey=null,this.sessionKeyAlgorithm=null,this.encrypted={}}static fromObject({version:e,encryptionKeyPacket:t,anonymousRecipient:r,sessionKey:n,sessionKeyAlgorithm:i}){const a=new Ps;if(3!==e&&6!==e)throw Error("Unsupported PKESK version");return a.version=e,6===e&&(a.publicKeyVersion=r?null:t.version,a.publicKeyFingerprint=r?null:t.getFingerprintBytes()),a.publicKeyID=r?as.wildcard():t.getKeyID(),a.publicKeyAlgorithm=t.algorithm,a.sessionKey=n,a.sessionKeyAlgorithm=i,a}read(e){let t=0;if(this.version=e[t++],3!==this.version&&6!==this.version)throw new wn(`Version ${this.version} of the PKESK packet is unsupported.`);if(6===this.version){const r=e[t++];if(r){this.publicKeyVersion=e[t++];const n=r-1;this.publicKeyFingerprint=e.subarray(t,t+n),t+=n,this.publicKeyVersion>=5?this.publicKeyID.read(this.publicKeyFingerprint):this.publicKeyID.read(this.publicKeyFingerprint.subarray(-8))}else this.publicKeyID=as.wildcard()}else t+=this.publicKeyID.read(e.subarray(t,t+8));this.publicKeyAlgorithm=e[t++],this.encrypted=Oi.parseEncSessionKeyParams(this.publicKeyAlgorithm,e.subarray(t)),3!==this.version||this.publicKeyAlgorithm!==re.publicKey.x25519&&this.publicKeyAlgorithm!==re.publicKey.x448||(this.sessionKeyAlgorithm=re.write(re.symmetric,this.encrypted.C.algorithm))}write(){const e=[new Uint8Array([this.version])];return 6===this.version?null!==this.publicKeyFingerprint?(e.push(new Uint8Array([this.publicKeyFingerprint.length+1,this.publicKeyVersion])),e.push(this.publicKeyFingerprint)):e.push(new Uint8Array([0])):e.push(this.publicKeyID.write()),e.push(new Uint8Array([this.publicKeyAlgorithm]),Oi.serializeParams(this.publicKeyAlgorithm,this.encrypted)),ae.concatUint8Array(e)}async encrypt(e){const t=re.write(re.publicKey,this.publicKeyAlgorithm),r=Ds(this.version,t,this.sessionKeyAlgorithm,this.sessionKey),n=t===re.publicKey.aead?e.privateParams:null;this.encrypted=await Oi.publicKeyEncrypt(t,this.sessionKeyAlgorithm,e.publicParams,n,r,e.getFingerprintBytes())}async decrypt(e,t){if(this.publicKeyAlgorithm!==e.algorithm)throw Error("Decryption error");const r=t?Ds(this.version,this.publicKeyAlgorithm,t.sessionKeyAlgorithm,t.sessionKey):null,n=await Oi.publicKeyDecrypt(this.publicKeyAlgorithm,e.publicParams,e.privateParams,this.encrypted,e.getFingerprintBytes(),r),{sessionKey:i,sessionKeyAlgorithm:a}=function(e,t,r,n){switch(t){case re.publicKey.rsaEncrypt:case re.publicKey.rsaEncryptSign:case re.publicKey.elgamal:case re.publicKey.ecdh:case re.publicKey.aead:{const t=r.subarray(0,r.length-2),i=r.subarray(r.length-2),a=ae.writeChecksum(t.subarray(t.length%8)),s=a[0]===i[0]&a[1]===i[1],o=6===e?{sessionKeyAlgorithm:null,sessionKey:t}:{sessionKeyAlgorithm:t[0],sessionKey:t.subarray(1)};if(n){const t=s&o.sessionKeyAlgorithm===n.sessionKeyAlgorithm&o.sessionKey.length===n.sessionKey.length;return{sessionKey:ae.selectUint8Array(t,o.sessionKey,n.sessionKey),sessionKeyAlgorithm:6===e?null:ae.selectUint8(t,o.sessionKeyAlgorithm,n.sessionKeyAlgorithm)}}if(s&&(6===e||re.read(re.symmetric,o.sessionKeyAlgorithm)))return o;throw Error("Decryption error")}case re.publicKey.x25519:case re.publicKey.x448:return{sessionKey:r};default:throw Error("Unsupported public key algorithm")}}(this.version,this.publicKeyAlgorithm,n,t);3===this.version&&this.publicKeyAlgorithm!==re.publicKey.x25519&&this.publicKeyAlgorithm!==re.publicKey.x448&&(this.sessionKeyAlgorithm=a),this.sessionKey=i}}function Ds(e,t,r,n){switch(t){case re.publicKey.rsaEncrypt:case re.publicKey.rsaEncryptSign:case re.publicKey.elgamal:case re.publicKey.ecdh:case re.publicKey.aead:return ae.concatUint8Array([new Uint8Array(6===e?[]:[r]),n,ae.writeChecksum(n.subarray(n.length%8))]);case re.publicKey.x25519:case re.publicKey.x448:return n;default:throw Error("Unsupported public key algorithm")}}class Us{static get tag(){return re.packet.symEncryptedSessionKey}constructor(e=ne){this.version=e.aeadProtect?6:4,this.sessionKey=null,this.sessionKeyEncryptionAlgorithm=null,this.sessionKeyAlgorithm=re.symmetric.aes256,this.aeadAlgorithm=re.write(re.aead,e.preferredAEADAlgorithm),this.encrypted=null,this.s2k=null,this.iv=null}read(e){let t=0;if(this.version=e[t++],4!==this.version&&5!==this.version&&6!==this.version)throw new wn(`Version ${this.version} of the SKESK packet is unsupported.`);6===this.version&&t++;const r=e[t++];this.version>=5&&(this.aeadAlgorithm=e[t++],6===this.version&&t++);const n=e[t++];if(this.s2k=Hi(n),t+=this.s2k.read(e.subarray(t,e.length)),this.version>=5){const r=Oi.getAEADMode(this.aeadAlgorithm);this.iv=e.subarray(t,t+=r.ivLength)}this.version>=5||t<e.length?(this.encrypted=e.subarray(t,e.length),this.sessionKeyEncryptionAlgorithm=r):this.sessionKeyAlgorithm=r}write(){const e=null===this.encrypted?this.sessionKeyAlgorithm:this.sessionKeyEncryptionAlgorithm;let t;const r=this.s2k.write();if(6===this.version){const n=r.length,i=3+n+this.iv.length;t=ae.concatUint8Array([new Uint8Array([this.version,i,e,this.aeadAlgorithm,n]),r,this.iv,this.encrypted])}else 5===this.version?t=ae.concatUint8Array([new Uint8Array([this.version,e,this.aeadAlgorithm]),r,this.iv,this.encrypted]):(t=ae.concatUint8Array([new Uint8Array([this.version,e]),r]),null!==this.encrypted&&(t=ae.concatUint8Array([t,this.encrypted])));return t}async decrypt(e){const t=null!==this.sessionKeyEncryptionAlgorithm?this.sessionKeyEncryptionAlgorithm:this.sessionKeyAlgorithm,{blockSize:r,keySize:n}=Oi.getCipher(t),i=await this.s2k.produceKey(e,n);if(this.version>=5){const e=Oi.getAEADMode(this.aeadAlgorithm),r=new Uint8Array([192|Us.tag,this.version,this.sessionKeyEncryptionAlgorithm,this.aeadAlgorithm]),a=6===this.version?await yi(re.hash.sha256,i,new Uint8Array,r,n):i,s=await e(t,a);this.sessionKey=await s.decrypt(this.encrypted,this.iv,r)}else if(null!==this.encrypted){const e=await Oi.mode.cfb.decrypt(t,i,this.encrypted,new Uint8Array(r));this.sessionKeyAlgorithm=re.write(re.symmetric,e[0]),this.sessionKey=e.subarray(1,e.length)}else this.sessionKey=i}async encrypt(e,t=ne){const r=null!==this.sessionKeyEncryptionAlgorithm?this.sessionKeyEncryptionAlgorithm:this.sessionKeyAlgorithm;this.sessionKeyEncryptionAlgorithm=r,this.s2k=qi(t),this.s2k.generateSalt();const{blockSize:n,keySize:i}=Oi.getCipher(r),a=await this.s2k.produceKey(e,i);if(null===this.sessionKey&&(this.sessionKey=Oi.generateSessionKey(this.sessionKeyAlgorithm)),this.version>=5){const e=Oi.getAEADMode(this.aeadAlgorithm);this.iv=Oi.random.getRandomBytes(e.ivLength);const t=new Uint8Array([192|Us.tag,this.version,this.sessionKeyEncryptionAlgorithm,this.aeadAlgorithm]),n=6===this.version?await yi(re.hash.sha256,a,new Uint8Array,t,i):a,s=await e(r,n);this.encrypted=await s.encrypt(this.sessionKey,this.iv,t)}else{const e=ae.concatUint8Array([new Uint8Array([this.sessionKeyAlgorithm]),this.sessionKey]);this.encrypted=await Oi.mode.cfb.encrypt(r,a,e,new Uint8Array(n),t)}}}class Cs{static get tag(){return re.packet.publicKey}constructor(e=new Date,t=ne){this.version=t.v6Keys?6:4,this.created=ae.normalizeDate(e),this.algorithm=null,this.publicParams=null,this.expirationTimeV3=0,this.fingerprint=null,this.keyID=null}static fromSecretKeyPacket(e){const t=new Cs,{version:r,created:n,algorithm:i,publicParams:a,keyID:s,fingerprint:o}=e;return t.version=r,t.created=n,t.algorithm=i,t.publicParams=a,t.keyID=s,t.fingerprint=o,t}async read(e){let t=0;if(this.version=e[t++],4===this.version||5===this.version||6===this.version){this.created=ae.readDate(e.subarray(t,t+4)),t+=4,this.algorithm=e[t++],this.version>=5&&(t+=4);const{read:r,publicParams:n}=Oi.parsePublicKeyParams(this.algorithm,e.subarray(t));if(6===this.version&&n.oid&&(n.oid.getName()===re.curve.curve25519Legacy||n.oid.getName()===re.curve.ed25519Legacy))throw Error("Legacy curve25519 cannot be used with v6 keys");return this.publicParams=n,t+=r,await this.computeFingerprintAndKeyID(),t}throw new wn(`Version ${this.version} of the key packet is unsupported.`)}write(){const e=[];e.push(new Uint8Array([this.version])),e.push(ae.writeDate(this.created)),e.push(new Uint8Array([this.algorithm]));const t=Oi.serializeParams(this.algorithm,this.publicParams);return this.version>=5&&e.push(ae.writeNumber(t.length,4)),e.push(t),ae.concatUint8Array(e)}writeForHash(e){const t=this.writePublicKey(),r=149+e,n=e>=5?4:2;return ae.concatUint8Array([new Uint8Array([r]),ae.writeNumber(t.length,n),t])}isDecrypted(){return null}getCreationTime(){return this.created}getKeyID(){return this.keyID}async computeFingerprintAndKeyID(){if(await this.computeFingerprint(),this.keyID=new as,this.version>=5)this.keyID.read(this.fingerprint.subarray(0,8));else{if(4!==this.version)throw Error("Unsupported key version");this.keyID.read(this.fingerprint.subarray(12,20))}}async computeFingerprint(){const e=this.writeForHash(this.version);if(this.version>=5)this.fingerprint=await Oi.hash.sha256(e);else{if(4!==this.version)throw Error("Unsupported key version");this.fingerprint=await Oi.hash.sha1(e)}}getFingerprintBytes(){return this.fingerprint}getFingerprint(){return ae.uint8ArrayToHex(this.getFingerprintBytes())}hasSameFingerprintAs(e){return this.version===e.version&&ae.equalsUint8Array(this.writePublicKey(),e.writePublicKey())}getAlgorithmInfo(){const e={};e.algorithm=re.read(re.publicKey,this.algorithm);const t=this.publicParams.n||this.publicParams.p;return t?e.bits=ae.uint8ArrayBitLength(t):this.publicParams.oid?e.curve=this.publicParams.oid.getName():this.publicParams.cipher&&(e.symmetric=this.publicParams.cipher.getName()),e}}Cs.prototype.readPublicKey=Cs.prototype.read,Cs.prototype.writePublicKey=Cs.prototype.write;const Is=ae.constructAllowedPackets([is,ds,ls,cs]);class _s extends Cs{static get tag(){return re.packet.publicSubkey}constructor(e,t){super(e,t)}static fromSecretSubkeyPacket(e){const t=new _s,{version:r,created:n,algorithm:i,publicParams:a,keyID:s,fingerprint:o}=e;return t.version=r,t.created=n,t.algorithm=i,t.publicParams=a,t.keyID=s,t.fingerprint=o,t}}class Ts{static get tag(){return re.packet.userAttribute}constructor(){this.attributes=[]}read(e){let t=0;for(;t<e.length;){const r=ln(e.subarray(t,e.length));t+=r.offset,this.attributes.push(ae.uint8ArrayToString(e.subarray(t,t+r.len))),t+=r.len}}write(){const e=[];for(let t=0;t<this.attributes.length;t++)e.push(yn(this.attributes[t].length)),e.push(ae.stringToUint8Array(this.attributes[t]));return ae.concatUint8Array(e)}equals(e){return!!(e&&e instanceof Ts)&&this.attributes.every((function(t,r){return t===e.attributes[r]}))}}class Rs extends Cs{static get tag(){return re.packet.secretKey}constructor(e=new Date,t=ne){super(e,t),this.keyMaterial=null,this.isEncrypted=null,this.s2kUsage=0,this.s2k=null,this.symmetric=null,this.aead=null,this.privateParams=null}async read(e){let t=await this.readPublicKey(e);const r=t;this.s2kUsage=e[t++],5===this.version&&t++,6===this.version&&this.s2kUsage&&t++;try{if(255===this.s2kUsage||254===this.s2kUsage||253===this.s2kUsage){this.symmetric=e[t++],253===this.s2kUsage&&(this.aead=e[t++]),6===this.version&&t++;const r=e[t++];if(this.s2k=Hi(r),t+=this.s2k.read(e.subarray(t,e.length)),"gnu-dummy"===this.s2k.type)return}else this.s2kUsage&&(this.symmetric=this.s2kUsage);this.s2kUsage&&(253!==this.s2kUsage||5===this.version?this.iv=e.subarray(t,t+Oi.getCipher(this.symmetric).blockSize):this.iv=e.subarray(t,t+Oi.getAEADMode(this.aead).ivLength),t+=this.iv.length)}catch(t){if(!this.s2kUsage)throw t;this.unparseableKeyMaterial=e.subarray(r),this.isEncrypted=!0}if(5===this.version&&(t+=4),this.keyMaterial=e.subarray(t),this.isEncrypted=!!this.s2kUsage,!this.isEncrypted){let t;if(6===this.version)t=this.keyMaterial;else if(t=this.keyMaterial.subarray(0,-2),!ae.equalsUint8Array(ae.writeChecksum(t),this.keyMaterial.subarray(-2)))throw Error("Key checksum mismatch");try{const{read:e,privateParams:r}=Oi.parsePrivateKeyParams(this.algorithm,t,this.publicParams);if(e<t.length)throw Error("Error reading MPIs");this.privateParams=r}catch(e){if(e instanceof wn)throw e;throw Error("Error reading MPIs")}}}write(){const e=this.writePublicKey();if(this.unparseableKeyMaterial)return ae.concatUint8Array([e,this.unparseableKeyMaterial]);const t=[e];t.push(new Uint8Array([this.s2kUsage]));const r=[];if(255===this.s2kUsage||254===this.s2kUsage||253===this.s2kUsage){r.push(this.symmetric),253===this.s2kUsage&&r.push(this.aead);const e=this.s2k.write();6===this.version&&r.push(e.length),r.push(...e)}return this.s2kUsage&&"gnu-dummy"!==this.s2k.type&&r.push(...this.iv),(5===this.version||6===this.version&&this.s2kUsage)&&t.push(new Uint8Array([r.length])),t.push(new Uint8Array(r)),this.isDummy()||(this.s2kUsage||(this.keyMaterial=Oi.serializeParams(this.algorithm,this.privateParams)),5===this.version&&t.push(ae.writeNumber(this.keyMaterial.length,4)),t.push(this.keyMaterial),this.s2kUsage||6===this.version||t.push(ae.writeChecksum(this.keyMaterial))),ae.concatUint8Array(t)}isDecrypted(){return!1===this.isEncrypted}isMissingSecretKeyMaterial(){return void 0!==this.unparseableKeyMaterial||this.isDummy()}isDummy(){return!(!this.s2k||"gnu-dummy"!==this.s2k.type)}makeDummy(e=ne){this.isDummy()||(this.isDecrypted()&&this.clearPrivateParams(),delete this.unparseableKeyMaterial,this.isEncrypted=null,this.keyMaterial=null,this.s2k=Hi(re.s2k.gnu,e),this.s2k.algorithm=0,this.s2k.c=0,this.s2k.type="gnu-dummy",this.s2kUsage=254,this.symmetric=re.symmetric.aes256)}async encrypt(e,t=ne){if(this.isDummy())return;if(!this.isDecrypted())throw Error("Key packet is already encrypted");if(!e)throw Error("A non-empty passphrase is required for key encryption.");this.s2k=qi(t),this.s2k.generateSalt();const r=Oi.serializeParams(this.algorithm,this.privateParams);this.symmetric=re.symmetric.aes256;const{blockSize:n}=Oi.getCipher(this.symmetric);if(t.aeadProtect){this.s2kUsage=253,this.aead=re.aead.eax;const t=Oi.getAEADMode(this.aead),i=fn(this.constructor.tag),a=await Ms(this.version,this.s2k,e,this.symmetric,this.aead,i),s=await t(this.symmetric,a);this.iv=5===this.version?Oi.random.getRandomBytes(n):Oi.random.getRandomBytes(t.ivLength);const o=5===this.version?new Uint8Array:ae.concatUint8Array([i,this.writePublicKey()]);this.keyMaterial=await s.encrypt(r,this.iv.subarray(0,t.ivLength),o)}else{this.s2kUsage=254;const i=await Ms(this.version,this.s2k,e,this.symmetric);this.iv=Oi.random.getRandomBytes(n),this.keyMaterial=await Oi.mode.cfb.encrypt(this.symmetric,i,ae.concatUint8Array([r,await Oi.hash.sha1(r,t)]),this.iv,t)}}async decrypt(e){if(this.isDummy())return!1;if(this.unparseableKeyMaterial)throw Error("Key packet cannot be decrypted: unsupported S2K or cipher algo");if(this.isDecrypted())throw Error("Key packet is already decrypted.");let t;const r=fn(this.constructor.tag);if(254!==this.s2kUsage&&253!==this.s2kUsage)throw 255===this.s2kUsage?Error("Encrypted private key is authenticated using an insecure two-byte hash"):Error("Private key is encrypted using an insecure S2K function: unsalted MD5");let n;if(t=await Ms(this.version,this.s2k,e,this.symmetric,this.aead,r),253===this.s2kUsage){const i=Oi.getAEADMode(this.aead),a=await i(this.symmetric,t);try{const e=5===this.version?new Uint8Array:ae.concatUint8Array([r,this.writePublicKey()]);n=await a.decrypt(this.keyMaterial,this.iv.subarray(0,i.ivLength),e)}catch(e){if("Authentication tag mismatch"===e.message)throw Error("Incorrect key passphrase: "+e.message);throw e}}else{const e=await Oi.mode.cfb.decrypt(this.symmetric,t,this.keyMaterial,this.iv);n=e.subarray(0,-20);const r=await Oi.hash.sha1(n);if(!ae.equalsUint8Array(r,e.subarray(-20)))throw Error("Incorrect key passphrase")}try{const{privateParams:e}=Oi.parsePrivateKeyParams(this.algorithm,n,this.publicParams);this.privateParams=e}catch(e){throw Error("Error reading MPIs")}this.isEncrypted=!1,this.keyMaterial=null,this.s2kUsage=0,this.aead=null,this.symmetric=null}async validate(){if(this.isDummy())return;if(!this.isDecrypted())throw Error("Key is not decrypted");let e;try{e=await Oi.validateParams(this.algorithm,this.publicParams,this.privateParams)}catch(t){e=!1}if(!e)throw Error("Key is invalid")}async generate(e,t,r){if(6===this.version&&(this.algorithm===re.publicKey.ecdh&&t===re.curve.curve25519Legacy||this.algorithm===re.publicKey.eddsaLegacy))throw Error(`Cannot generate v6 keys of type 'ecc' with curve ${t}. Generate a key of type 'curve25519' instead`);const{privateParams:n,publicParams:i}=await Oi.generateParams(this.algorithm,e,t,r);this.privateParams=n,this.publicParams=i,this.isEncrypted=!1}clearPrivateParams(){this.isMissingSecretKeyMaterial()||(Object.keys(this.privateParams).forEach((e=>{this.privateParams[e].fill(0),delete this.privateParams[e]})),this.privateParams=null,this.isEncrypted=!0)}}async function Ms(e,t,r,n,i,a){const{keySize:s}=Oi.getCipher(n),o=await t.produceKey(r,s);if(!i||5===e)return o;const c=ae.concatUint8Array([a,new Uint8Array([e,n,i])]);return yi(re.hash.sha256,o,new Uint8Array,c,s)}class Os{static get tag(){return re.packet.userID}constructor(){this.userID="",this.name="",this.email="",this.comment=""}static fromObject(e){if(ae.isString(e)||e.name&&!ae.isString(e.name)||e.email&&!ae.isEmailAddress(e.email)||e.comment&&!ae.isString(e.comment))throw Error("Invalid user ID format");const t=new Os;Object.assign(t,e);const r=[];return t.name&&r.push(t.name),t.comment&&r.push(`(${t.comment})`),t.email&&r.push(`<${t.email}>`),t.userID=r.join(" "),t}read(e,t=ne){const r=ae.decodeUTF8(e);if(r.length>t.maxUserIDLength)throw Error("User ID string is too long");const n=/^(?<name>[^()]+\s+)?(?<comment>\([^()]+\)\s+)?(?<email><\S+@\S+>)$/.exec(r);if(null!==n){const{name:e,comment:t,email:r}=n.groups;this.comment=t?.replace(/^\(|\)|\s$/g,"").trim()||"",this.name=e?.trim()||"",this.email=r.substring(1,r.length-1)}else/^[^\s@]+@[^\s@]+$/.test(r)&&(this.email=r);this.userID=r}write(){return ae.encodeUTF8(this.userID)}equals(e){return e&&e.userID===this.userID}}class Bs extends Rs{static get tag(){return re.packet.secretSubkey}constructor(e=new Date,t=ne){super(e,t)}}const Ls=ae.constructAllowedPackets([cs]);class Ns{constructor(e){this.packets=e||new ps}write(){return this.packets.write()}armor(e=ne){return we(re.armor.signature,this.write(),void 0,void 0,void 0,e)}getSigningKeyIDs(){return this.packets.map((e=>e.issuerKeyID))}}async function Fs({armoredSignature:e,binarySignature:t,config:r,...n}){r={...ne,...r};let i=e||t;if(!i)throw Error("readSignature: must pass options object containing `armoredSignature` or `binarySignature`");if(e&&!ae.isString(e))throw Error("readSignature: options.armoredSignature must be a string");if(t&&!ae.isUint8Array(t))throw Error("readSignature: options.binarySignature must be a Uint8Array");const a=Object.keys(n);if(a.length>0)throw Error("Unknown option: "+a.join(", "));if(e){const{type:e,data:t}=await me(i);if(e!==re.armor.signature)throw Error("Armored text not of type signature");i=t}const s=await ps.fromBinary(i,Ls,r);return new Ns(s)}async function js(e,t){const r=new Bs(e.date,t);return r.packets=null,r.algorithm=re.write(re.publicKey,e.algorithm),await r.generate(e.rsaBits,e.curve,e.symmetric),await r.computeFingerprintAndKeyID(),r}async function zs(e,t){const r=new Rs(e.date,t);return r.packets=null,r.algorithm=re.write(re.publicKey,e.algorithm),await r.generate(e.rsaBits,e.curve,e.symmetric),await r.computeFingerprintAndKeyID(),r}async function Hs(e,t,r,n,i=new Date,a){let s,o;for(let c=e.length-1;c>=0;c--)try{(!s||e[c].created>=s.created)&&(await e[c].verify(t,r,n,i,void 0,a),s=e[c])}catch(e){o=e}if(!s)throw ae.wrapError(`Could not find valid ${re.read(re.signature,r)} signature in key ${t.getKeyID().toHex()}`.replace("certGeneric ","self-").replace(/([a-z])([A-Z])/g,((e,t,r)=>t+" "+r.toLowerCase())),o);return s}function qs(e,t,r=new Date){const n=ae.normalizeDate(r);if(null!==n){const r=Ys(e,t);return!(e.created<=n&&n<r)}return!1}async function Gs(e,t,r,n){const i={};i.key=t,i.bind=e;const a={signatureType:re.signature.subkeyBinding};return r.sign?(a.keyFlags=[re.keyFlags.signData],a.embeddedSignature=await Vs(i,null,e,{signatureType:re.signature.keyBinding},r.date,void 0,void 0,void 0,n)):a.keyFlags=r.forwarding?[re.keyFlags.forwardedCommunication]:[re.keyFlags.encryptCommunication|re.keyFlags.encryptStorage],r.keyExpirationTime>0&&(a.keyExpirationTime=r.keyExpirationTime,a.keyNeverExpires=!1),await Vs(i,null,t,a,r.date,void 0,void 0,void 0,n)}async function Vs(e,t,r,n,i,a,s=[],o=!1,c){if(r.isDummy())throw Error("Cannot sign with a gnu-dummy key.");if(!r.isDecrypted())throw Error("Signing key is not decrypted.");const u=new cs;return Object.assign(u,n),u.publicKeyAlgorithm=r.algorithm,u.hashAlgorithm=await async function(e,t,r=new Date,n={},i){let a=i.preferredHashAlgorithm,s=a;if(e){const t=await e.getPrimarySelfSignature(r,n,i);t.preferredHashAlgorithms&&([s]=t.preferredHashAlgorithms,a=Oi.hash.getHashByteLength(a)<=Oi.hash.getHashByteLength(s)?s:a)}switch(t.algorithm){case re.publicKey.ecdsa:case re.publicKey.eddsaLegacy:case re.publicKey.ed25519:case re.publicKey.ed448:s=Oi.getPreferredCurveHashAlgo(t.algorithm,t.publicParams.oid)}return Oi.hash.getHashByteLength(a)<=Oi.hash.getHashByteLength(s)?s:a}(t,r,i,a,c),u.rawNotations=s,await u.sign(r,e,i,o),u}async function Ws(e,t,r,n=new Date,i){(e=e[r])&&(t[r].length?await Promise.all(e.map((async function(e){e.isExpired(n)||i&&!await i(e)||t[r].some((function(t){return ae.equalsUint8Array(t.writeParams(),e.writeParams())}))||t[r].push(e)}))):t[r]=e)}async function $s(e,t,r,n,i,a,s=new Date,o){a=a||e;const c=[];return await Promise.all(n.map((async function(e){try{i&&!e.issuerKeyID.equals(i.issuerKeyID)||(await e.verify(a,t,r,o.revocationsExpire?s:null,!1,o),c.push(e.issuerKeyID))}catch(e){}}))),i?(i.revoked=!!c.some((e=>e.equals(i.issuerKeyID)))||i.revoked||!1,i.revoked):c.length>0}function Ys(e,t){let r;return!1===t.keyNeverExpires&&(r=e.created.getTime()+1e3*t.keyExpirationTime),r?new Date(r):1/0}function Xs(e,t={}){if(e.type=e.type||t.type,e.curve=e.curve||t.curve,e.rsaBits=e.rsaBits||t.rsaBits,e.symmetricHash=e.symmetricHash||t.symmetricHash,e.symmetricCipher=e.symmetricCipher||t.symmetricCipher,e.keyExpirationTime=void 0!==e.keyExpirationTime?e.keyExpirationTime:t.keyExpirationTime,e.passphrase=ae.isString(e.passphrase)?e.passphrase:t.passphrase,e.date=e.date||t.date,e.sign=e.sign||!1,e.forwarding=e.forwarding||!1,e.sign&&e.forwarding)throw Error('Incompatible options: "sign" and "forwarding" cannot be set together');switch(e.type){case"ecc":try{e.curve=re.write(re.curve,e.curve)}catch(e){throw Error("Unknown curve")}e.curve!==re.curve.ed25519Legacy&&e.curve!==re.curve.curve25519Legacy&&"ed25519"!==e.curve&&"curve25519"!==e.curve||(e.curve=e.sign?re.curve.ed25519Legacy:re.curve.curve25519Legacy),e.sign?e.algorithm=e.curve===re.curve.ed25519Legacy?re.publicKey.eddsaLegacy:re.publicKey.ecdsa:e.algorithm=re.publicKey.ecdh;break;case"curve25519":e.algorithm=e.sign?re.publicKey.ed25519:re.publicKey.x25519;break;case"curve448":e.algorithm=e.sign?re.publicKey.ed448:re.publicKey.x448;break;case"rsa":e.algorithm=re.publicKey.rsaEncryptSign;break;case"symmetric":if(e.sign){e.algorithm=re.publicKey.hmac;try{e.symmetric=re.write(re.hash,e.symmetricHash)}catch(e){throw Error("Unknown hash algorithm")}}else{e.algorithm=re.publicKey.aead;try{e.symmetric=re.write(re.symmetric,e.symmetricCipher)}catch(e){throw Error("Unknown symmetric algorithm")}}break;default:throw Error("Unsupported key type "+e.type)}return e}function Qs(e,t,r){switch(e.algorithm){case re.publicKey.rsaEncryptSign:case re.publicKey.rsaSign:case re.publicKey.dsa:case re.publicKey.ecdsa:case re.publicKey.eddsaLegacy:case re.publicKey.ed25519:case re.publicKey.ed448:case re.publicKey.hmac:if(!t.keyFlags&&!r.allowMissingKeyFlags)throw Error("None of the key flags is set: consider passing `config.allowMissingKeyFlags`");return!t.keyFlags||0!=(t.keyFlags[0]&re.keyFlags.signData);default:return!1}}function Zs(e,t,r){switch(e.algorithm){case re.publicKey.rsaEncryptSign:case re.publicKey.rsaEncrypt:case re.publicKey.elgamal:case re.publicKey.ecdh:case re.publicKey.x25519:case re.publicKey.x448:case re.publicKey.aead:if(!t.keyFlags&&!r.allowMissingKeyFlags)throw Error("None of the key flags is set: consider passing `config.allowMissingKeyFlags`");return!t.keyFlags||0!=(t.keyFlags[0]&re.keyFlags.encryptCommunication)||0!=(t.keyFlags[0]&re.keyFlags.encryptStorage);default:return!1}}function Js(e,t,r){if(!t.keyFlags&&!r.allowMissingKeyFlags)throw Error("None of the key flags is set: consider passing `config.allowMissingKeyFlags`");switch(e.algorithm){case re.publicKey.rsaEncryptSign:case re.publicKey.rsaEncrypt:case re.publicKey.elgamal:case re.publicKey.ecdh:case re.publicKey.x25519:case re.publicKey.x448:return!(t.keyFlags&&0==(t.keyFlags[0]&re.keyFlags.signData)||!r.allowInsecureDecryptionWithSigningKeys)||!t.keyFlags||0!=(t.keyFlags[0]&re.keyFlags.encryptCommunication)||0!=(t.keyFlags[0]&re.keyFlags.encryptStorage)||r.allowForwardedMessages&&0!=(t.keyFlags[0]&re.keyFlags.forwardedCommunication);default:return!1}}function eo(e,t){const r=re.write(re.publicKey,e.algorithm),n=e.getAlgorithmInfo();if(t.rejectPublicKeyAlgorithms.has(r))throw Error(n.algorithm+" keys are considered too weak.");switch(r){case re.publicKey.rsaEncryptSign:case re.publicKey.rsaSign:case re.publicKey.rsaEncrypt:if(n.bits<t.minRSABits)throw Error(`RSA keys shorter than ${t.minRSABits} bits are considered too weak.`);break;case re.publicKey.ecdsa:case re.publicKey.eddsaLegacy:case re.publicKey.ecdh:if(t.rejectCurves.has(n.curve))throw Error(`Support for ${n.algorithm} keys using curve ${n.curve} is disabled.`)}}class to{constructor(e,t){this.userID=e.constructor.tag===re.packet.userID?e:null,this.userAttribute=e.constructor.tag===re.packet.userAttribute?e:null,this.selfCertifications=[],this.otherCertifications=[],this.revocationSignatures=[],this.mainKey=t}toPacketList(){const e=new ps;return e.push(this.userID||this.userAttribute),e.push(...this.revocationSignatures),e.push(...this.selfCertifications),e.push(...this.otherCertifications),e}clone(){const e=new to(this.userID||this.userAttribute,this.mainKey);return e.selfCertifications=[...this.selfCertifications],e.otherCertifications=[...this.otherCertifications],e.revocationSignatures=[...this.revocationSignatures],e}async certify(e,t,r){const n=this.mainKey.keyPacket,i={userID:this.userID,userAttribute:this.userAttribute,key:n},a=new to(i.userID||i.userAttribute,this.mainKey);return a.otherCertifications=await Promise.all(e.map((async function(e){if(!e.isPrivate())throw Error("Need private key for signing");if(e.hasSameFingerprintAs(n))throw Error("The user's own key can only be used for self-certifications");const a=await e.getSigningKey(void 0,t,void 0,r);return Vs(i,e,a.keyPacket,{signatureType:re.signature.certGeneric,keyFlags:[re.keyFlags.certifyKeys|re.keyFlags.signData]},t,void 0,void 0,void 0,r)}))),await a.update(this,t,r),a}async isRevoked(e,t,r=new Date,n=ne){const i=this.mainKey.keyPacket;return $s(i,re.signature.certRevocation,{key:i,userID:this.userID,userAttribute:this.userAttribute},this.revocationSignatures,e,t,r,n)}async verifyCertificate(e,t,r=new Date,n){const i=this,a=this.mainKey.keyPacket,s={userID:this.userID,userAttribute:this.userAttribute,key:a},{issuerKeyID:o}=e,c=t.filter((e=>e.getKeys(o).length>0));return 0===c.length?null:(await Promise.all(c.map((async t=>{const a=await t.getSigningKey(o,e.created,void 0,n);if(e.revoked||await i.isRevoked(e,a.keyPacket,r,n))throw Error("User certificate is revoked");try{await e.verify(a.keyPacket,re.signature.certGeneric,s,r,void 0,n)}catch(e){throw ae.wrapError("User certificate is invalid",e)}}))),!0)}async verifyAllCertifications(e,t=new Date,r){const n=this,i=this.selfCertifications.concat(this.otherCertifications);return Promise.all(i.map((async i=>({keyID:i.issuerKeyID,valid:await n.verifyCertificate(i,e,t,r).catch((()=>!1))}))))}async verify(e=new Date,t){if(!this.selfCertifications.length)throw Error("No self-certifications found");const r=this,n=this.mainKey.keyPacket,i={userID:this.userID,userAttribute:this.userAttribute,key:n};let a;for(let s=this.selfCertifications.length-1;s>=0;s--)try{const a=this.selfCertifications[s];if(a.revoked||await r.isRevoked(a,void 0,e,t))throw Error("Self-certification is revoked");try{await a.verify(n,re.signature.certGeneric,i,e,void 0,t)}catch(e){throw ae.wrapError("Self-certification is invalid",e)}return!0}catch(e){a=e}throw a}async update(e,t,r){const n=this.mainKey.keyPacket,i={userID:this.userID,userAttribute:this.userAttribute,key:n};await Ws(e,this,"selfCertifications",t,(async function(e){try{return await e.verify(n,re.signature.certGeneric,i,t,!1,r),!0}catch(e){return!1}})),await Ws(e,this,"otherCertifications",t),await Ws(e,this,"revocationSignatures",t,(function(e){return $s(n,re.signature.certRevocation,i,[e],void 0,void 0,t,r)}))}async revoke(e,{flag:t=re.reasonForRevocation.noReason,string:r=""}={},n=new Date,i=ne){const a={userID:this.userID,userAttribute:this.userAttribute,key:e},s=new to(a.userID||a.userAttribute,this.mainKey);return s.revocationSignatures.push(await Vs(a,null,e,{signatureType:re.signature.certRevocation,reasonForRevocationFlag:re.write(re.reasonForRevocation,t),reasonForRevocationString:r},n,void 0,void 0,!1,i)),await s.update(this),s}}class ro{constructor(e,t){this.keyPacket=e,this.bindingSignatures=[],this.revocationSignatures=[],this.mainKey=t}toPacketList(){const e=new ps;return e.push(this.keyPacket),e.push(...this.revocationSignatures),e.push(...this.bindingSignatures),e}clone(){const e=new ro(this.keyPacket,this.mainKey);return e.bindingSignatures=[...this.bindingSignatures],e.revocationSignatures=[...this.revocationSignatures],e}async isRevoked(e,t,r=new Date,n=ne){const i=this.mainKey.keyPacket;return $s(i,re.signature.subkeyRevocation,{key:i,bind:this.keyPacket},this.revocationSignatures,e,t,r,n)}async verify(e=new Date,t=ne){const r=this.mainKey.keyPacket,n={key:r,bind:this.keyPacket},i=await Hs(this.bindingSignatures,r,re.signature.subkeyBinding,n,e,t);if(i.revoked||await this.isRevoked(i,null,e,t))throw Error("Subkey is revoked");if(qs(this.keyPacket,i,e))throw Error("Subkey is expired");return i}async getExpirationTime(e=new Date,t=ne){const r=this.mainKey.keyPacket,n={key:r,bind:this.keyPacket};let i;try{i=await Hs(this.bindingSignatures,r,re.signature.subkeyBinding,n,e,t)}catch(e){return null}const a=Ys(this.keyPacket,i),s=i.getExpirationTime();return a<s?a:s}async update(e,t=new Date,r=ne){const n=this.mainKey.keyPacket;if(!this.hasSameFingerprintAs(e))throw Error("Subkey update method: fingerprints of subkeys not equal");this.keyPacket.constructor.tag===re.packet.publicSubkey&&e.keyPacket.constructor.tag===re.packet.secretSubkey&&(this.keyPacket=e.keyPacket);const i=this,a={key:n,bind:i.keyPacket};await Ws(e,this,"bindingSignatures",t,(async function(e){for(let t=0;t<i.bindingSignatures.length;t++)if(i.bindingSignatures[t].issuerKeyID.equals(e.issuerKeyID))return e.created>i.bindingSignatures[t].created&&(i.bindingSignatures[t]=e),!1;try{return await e.verify(n,re.signature.subkeyBinding,a,t,void 0,r),!0}catch(e){return!1}})),await Ws(e,this,"revocationSignatures",t,(function(e){return $s(n,re.signature.subkeyRevocation,a,[e],void 0,void 0,t,r)}))}async revoke(e,{flag:t=re.reasonForRevocation.noReason,string:r=""}={},n=new Date,i=ne){const a={key:e,bind:this.keyPacket},s=new ro(this.keyPacket,this.mainKey);return s.revocationSignatures.push(await Vs(a,null,e,{signatureType:re.signature.subkeyRevocation,reasonForRevocationFlag:re.write(re.reasonForRevocation,t),reasonForRevocationString:r},n,void 0,void 0,!1,i)),await s.update(this),s}hasSameFingerprintAs(e){return this.keyPacket.hasSameFingerprintAs(e.keyPacket||e)}}["getKeyID","getFingerprint","getAlgorithmInfo","getCreationTime","isDecrypted"].forEach((e=>{ro.prototype[e]=function(){return this.keyPacket[e]()}}));const no=ae.constructAllowedPackets([cs]),io=new Set([re.packet.publicKey,re.packet.privateKey]),ao=new Set([re.packet.publicKey,re.packet.privateKey,re.packet.publicSubkey,re.packet.privateSubkey]);class so{packetListToStructure(e,t=new Set){let r,n,i,a;for(const s of e){if(s instanceof bn){ao.has(s.tag)&&!a&&(a=io.has(s.tag)?io:ao);continue}const e=s.constructor.tag;if(a){if(!a.has(e))continue;a=null}if(t.has(e))throw Error("Unexpected packet type: "+e);switch(e){case re.packet.publicKey:case re.packet.secretKey:if(this.keyPacket)throw Error("Key block contains multiple keys");if(this.keyPacket=s,n=this.getKeyID(),!n)throw Error("Missing Key ID");break;case re.packet.userID:case re.packet.userAttribute:r=new to(s,this),this.users.push(r);break;case re.packet.publicSubkey:case re.packet.secretSubkey:r=null,i=new ro(s,this),this.subkeys.push(i);break;case re.packet.signature:switch(s.signatureType){case re.signature.certGeneric:case re.signature.certPersona:case re.signature.certCasual:case re.signature.certPositive:if(!r){ae.printDebug("Dropping certification signatures without preceding user packet");continue}s.issuerKeyID.equals(n)?r.selfCertifications.push(s):r.otherCertifications.push(s);break;case re.signature.certRevocation:r?r.revocationSignatures.push(s):this.directSignatures.push(s);break;case re.signature.key:this.directSignatures.push(s);break;case re.signature.subkeyBinding:if(!i){ae.printDebug("Dropping subkey binding signature without preceding subkey packet");continue}i.bindingSignatures.push(s);break;case re.signature.keyRevocation:this.revocationSignatures.push(s);break;case re.signature.subkeyRevocation:if(!i){ae.printDebug("Dropping subkey revocation signature without preceding subkey packet");continue}i.revocationSignatures.push(s)}}}}toPacketList(){const e=new ps;return e.push(this.keyPacket),e.push(...this.revocationSignatures),e.push(...this.directSignatures),this.users.map((t=>e.push(...t.toPacketList()))),this.subkeys.map((t=>e.push(...t.toPacketList()))),e}clone(e=!1){const t=new this.constructor(this.toPacketList());return e&&t.getKeys().forEach((e=>{if(e.keyPacket=Object.create(Object.getPrototypeOf(e.keyPacket),Object.getOwnPropertyDescriptors(e.keyPacket)),!e.keyPacket.isDecrypted())return;const t={};Object.keys(e.keyPacket.privateParams).forEach((r=>{t[r]=new Uint8Array(e.keyPacket.privateParams[r])})),e.keyPacket.privateParams=t})),t}getSubkeys(e=null){return this.subkeys.filter((t=>!e||t.getKeyID().equals(e,!0)))}getKeys(e=null){const t=[];return e&&!this.getKeyID().equals(e,!0)||t.push(this),t.concat(this.getSubkeys(e))}getKeyIDs(){return this.getKeys().map((e=>e.getKeyID()))}getUserIDs(){return this.users.map((e=>e.userID?e.userID.userID:null)).filter((e=>null!==e))}write(){return this.toPacketList().write()}async getSigningKey(e=null,t=new Date,r={},n=ne){await this.verifyPrimaryKey(t,r,n);const i=this.keyPacket,a=this.subkeys.slice().sort(((e,t)=>t.keyPacket.created-e.keyPacket.created));let s;for(const r of a)if(!e||r.getKeyID().equals(e))try{await r.verify(t,n);const e={key:i,bind:r.keyPacket},a=await Hs(r.bindingSignatures,i,re.signature.subkeyBinding,e,t,n);if(!Qs(r.keyPacket,a,n))continue;if(!a.embeddedSignature)throw Error("Missing embedded signature");return await Hs([a.embeddedSignature],r.keyPacket,re.signature.keyBinding,e,t,n),eo(r.keyPacket,n),r}catch(e){s=e}try{const a=await this.getPrimarySelfSignature(t,r,n);if((!e||i.getKeyID().equals(e))&&Qs(i,a,n))return eo(i,n),this}catch(e){s=e}throw ae.wrapError("Could not find valid signing key packet in key "+this.getKeyID().toHex(),s)}async getEncryptionKey(e,t=new Date,r={},n=ne){await this.verifyPrimaryKey(t,r,n);const i=this.keyPacket,a=this.subkeys.slice().sort(((e,t)=>t.keyPacket.created-e.keyPacket.created));let s;for(const r of a)if(!e||r.getKeyID().equals(e))try{await r.verify(t,n);const e={key:i,bind:r.keyPacket},a=await Hs(r.bindingSignatures,i,re.signature.subkeyBinding,e,t,n);if(Zs(r.keyPacket,a,n))return eo(r.keyPacket,n),r}catch(e){s=e}try{const a=await this.getPrimarySelfSignature(t,r,n);if((!e||i.getKeyID().equals(e))&&Zs(i,a,n))return eo(i,n),this}catch(e){s=e}throw ae.wrapError("Could not find valid encryption key packet in key "+this.getKeyID().toHex(),s)}async isRevoked(e,t,r=new Date,n=ne){return $s(this.keyPacket,re.signature.keyRevocation,{key:this.keyPacket},this.revocationSignatures,e,t,r,n)}async verifyPrimaryKey(e=new Date,t={},r=ne){const n=this.keyPacket;if(await this.isRevoked(null,null,e,r))throw Error("Primary key is revoked");if(qs(n,await this.getPrimarySelfSignature(e,t,r),e))throw Error("Primary key is expired");if(6!==n.version){const t=await Hs(this.directSignatures,n,re.signature.key,{key:n},e,r).catch((()=>{}));if(t&&qs(n,t,e))throw Error("Primary key is expired")}}async getExpirationTime(e,t=ne){let r;try{const n=await this.getPrimarySelfSignature(null,e,t),i=Ys(this.keyPacket,n),a=n.getExpirationTime(),s=6!==this.keyPacket.version&&await Hs(this.directSignatures,this.keyPacket,re.signature.key,{key:this.keyPacket},null,t).catch((()=>{}));if(s){const e=Ys(this.keyPacket,s);r=Math.min(i,a,e)}else r=i<a?i:a}catch(e){r=null}return ae.normalizeDate(r)}async getPrimarySelfSignature(e=new Date,t={},r=ne){const n=this.keyPacket;if(6===n.version)return Hs(this.directSignatures,n,re.signature.key,{key:n},e,r);const{selfCertification:i}=await this.getPrimaryUser(e,t,r);return i}async getPrimaryUser(e=new Date,t={},r=ne){const n=this.keyPacket,i=[];let a;for(let s=0;s<this.users.length;s++)try{const a=this.users[s];if(!a.userID)continue;if(void 0!==t.name&&a.userID.name!==t.name||void 0!==t.email&&a.userID.email!==t.email||void 0!==t.comment&&a.userID.comment!==t.comment)throw Error("Could not find user that matches that user ID");const o={userID:a.userID,key:n},c=await Hs(a.selfCertifications,n,re.signature.certGeneric,o,e,r);i.push({index:s,user:a,selfCertification:c})}catch(e){a=e}if(!i.length)throw a||Error("Could not find primary user");await Promise.all(i.map((async function(t){return t.selfCertification.revoked||t.user.isRevoked(t.selfCertification,null,e,r)})));const s=i.sort((function(e,t){const r=e.selfCertification,n=t.selfCertification;return n.revoked-r.revoked||r.isPrimaryUserID-n.isPrimaryUserID||r.created-n.created})).pop(),{user:o,selfCertification:c}=s;if(c.revoked||await o.isRevoked(c,null,e,r))throw Error("Primary user is revoked");return s}async update(e,t=new Date,r=ne){if(!this.hasSameFingerprintAs(e))throw Error("Primary key fingerprints must be equal to update the key");if(!this.isPrivate()&&e.isPrivate()){if(this.subkeys.length!==e.subkeys.length||!this.subkeys.every((t=>e.subkeys.some((e=>t.hasSameFingerprintAs(e))))))throw Error("Cannot update public key with private key if subkeys mismatch");return e.update(this,r)}const n=this.clone();return await Ws(e,n,"revocationSignatures",t,(i=>$s(n.keyPacket,re.signature.keyRevocation,n,[i],null,e.keyPacket,t,r))),await Ws(e,n,"directSignatures",t),await Promise.all(e.users.map((async e=>{const i=n.users.filter((t=>e.userID&&e.userID.equals(t.userID)||e.userAttribute&&e.userAttribute.equals(t.userAttribute)));if(i.length>0)await Promise.all(i.map((n=>n.update(e,t,r))));else{const t=e.clone();t.mainKey=n,n.users.push(t)}}))),await Promise.all(e.subkeys.map((async e=>{const i=n.subkeys.filter((t=>t.hasSameFingerprintAs(e)));if(i.length>0)await Promise.all(i.map((n=>n.update(e,t,r))));else{const t=e.clone();t.mainKey=n,n.subkeys.push(t)}}))),n}async getRevocationCertificate(e=new Date,t=ne){const r={key:this.keyPacket},n=await Hs(this.revocationSignatures,this.keyPacket,re.signature.keyRevocation,r,e,t),i=new ps;return i.push(n),we(re.armor.publicKey,i.write(),null,null,"This is a revocation certificate")}async applyRevocationCertificate(e,t=new Date,r=ne){const n=await me(e),i=(await ps.fromBinary(n.data,no,r)).findPacket(re.packet.signature);if(!i||i.signatureType!==re.signature.keyRevocation)throw Error("Could not find revocation signature packet");if(!i.issuerKeyID.equals(this.getKeyID()))throw Error("Revocation signature does not match key");try{await i.verify(this.keyPacket,re.signature.keyRevocation,{key:this.keyPacket},t,void 0,r)}catch(e){throw ae.wrapError("Could not verify revocation signature",e)}const a=this.clone();return a.revocationSignatures.push(i),a}async signPrimaryUser(e,t,r,n=ne){const{index:i,user:a}=await this.getPrimaryUser(t,r,n),s=await a.certify(e,t,n),o=this.clone();return o.users[i]=s,o}async signAllUsers(e,t=new Date,r=ne){const n=this.clone();return n.users=await Promise.all(this.users.map((function(n){return n.certify(e,t,r)}))),n}async verifyPrimaryUser(e,t=new Date,r,n=ne){const i=this.keyPacket,{user:a}=await this.getPrimaryUser(t,r,n);return e?await a.verifyAllCertifications(e,t,n):[{keyID:i.getKeyID(),valid:await a.verify(t,n).catch((()=>!1))}]}async verifyAllUsers(e,t=new Date,r=ne){const n=this.keyPacket,i=[];return await Promise.all(this.users.map((async a=>{const s=e?await a.verifyAllCertifications(e,t,r):[{keyID:n.getKeyID(),valid:await a.verify(t,r).catch((()=>!1))}];i.push(...s.map((e=>({userID:a.userID?a.userID.userID:null,userAttribute:a.userAttribute,keyID:e.keyID,valid:e.valid}))))}))),i}}["getKeyID","getFingerprint","getAlgorithmInfo","getCreationTime","hasSameFingerprintAs"].forEach((e=>{so.prototype[e]=ro.prototype[e]}));class oo extends so{constructor(e){if(super(),this.keyPacket=null,this.revocationSignatures=[],this.directSignatures=[],this.users=[],this.subkeys=[],e&&(this.packetListToStructure(e,new Set([re.packet.secretKey,re.packet.secretSubkey])),!this.keyPacket))throw Error("Invalid key: missing public-key packet")}isPrivate(){return!1}toPublic(){return this}armor(e=ne){return we(re.armor.publicKey,this.toPacketList().write(),void 0,void 0,void 0,e)}}class co extends oo{constructor(e){if(super(),this.packetListToStructure(e,new Set([re.packet.publicKey,re.packet.publicSubkey])),!this.keyPacket)throw Error("Invalid key: missing private-key packet")}isPrivate(){return!0}toPublic(){const e=new ps,t=this.toPacketList();let r=!1;for(const n of t)if(!r||n.constructor.tag!==re.packet.Signature)switch(r&&(r=!1),n.constructor.tag){case re.packet.secretKey:{if(n.algorithm===re.publicKey.aead||n.algorithm===re.publicKey.hmac)throw Error("Cannot create public key from symmetric private");const t=Cs.fromSecretKeyPacket(n);e.push(t);break}case re.packet.secretSubkey:{if(n.algorithm===re.publicKey.aead||n.algorithm===re.publicKey.hmac){r=!0;break}const t=_s.fromSecretSubkeyPacket(n);e.push(t);break}default:e.push(n)}return new oo(e)}armor(e=ne){return we(re.armor.privateKey,this.toPacketList().write(),void 0,void 0,void 0,e)}async getDecryptionKeys(e,t=new Date,r={},n=ne){const i=this.keyPacket,a=[];for(let r=0;r<this.subkeys.length;r++)if(!e||this.subkeys[r].getKeyID().equals(e,!0))try{const e={key:i,bind:this.subkeys[r].keyPacket},s=await Hs(this.subkeys[r].bindingSignatures,i,re.signature.subkeyBinding,e,t,n);Js(this.subkeys[r].keyPacket,s,n)&&a.push(this.subkeys[r])}catch(e){}const s=await this.getPrimarySelfSignature(t,r,n);return e&&!i.getKeyID().equals(e,!0)||!Js(i,s,n)||a.push(this),a}isDecrypted(){return this.getKeys().some((({keyPacket:e})=>e.isDecrypted()))}async validate(e=ne){if(!this.isPrivate())throw Error("Cannot validate a public key");let t;if(this.keyPacket.isDummy()){const r=await this.getSigningKey(null,null,void 0,{...e,rejectPublicKeyAlgorithms:new Set,minRSABits:0});r&&!r.keyPacket.isDummy()&&(t=r.keyPacket)}else t=this.keyPacket;if(t)return t.validate();{const e=this.getKeys();if(e.map((e=>e.keyPacket.isDummy())).every(Boolean))throw Error("Cannot validate an all-gnu-dummy key");return Promise.all(e.map((async e=>e.keyPacket.validate())))}}clearPrivateParams(){this.getKeys().forEach((({keyPacket:e})=>{e.isDecrypted()&&e.clearPrivateParams()}))}async revoke({flag:e=re.reasonForRevocation.noReason,string:t=""}={},r=new Date,n=ne){if(!this.isPrivate())throw Error("Need private key for revoking");const i={key:this.keyPacket},a=this.clone();return a.revocationSignatures.push(await Vs(i,null,this.keyPacket,{signatureType:re.signature.keyRevocation,reasonForRevocationFlag:re.write(re.reasonForRevocation,e),reasonForRevocationString:t},r,void 0,void 0,void 0,n)),a}async addSubkey(e={}){const t={...ne,...e.config};if(e.passphrase)throw Error("Subkey could not be encrypted here, please encrypt whole key");if(e.rsaBits<t.minRSABits)throw Error(`rsaBits should be at least ${t.minRSABits}, got: ${e.rsaBits}`);const r=this.keyPacket;if(r.isDummy())throw Error("Cannot add subkey to gnu-dummy primary key");if(!r.isDecrypted())throw Error("Key is not decrypted");const n=r.getAlgorithmInfo();n.type=function(e){switch(re.write(re.publicKey,e)){case re.publicKey.rsaEncrypt:case re.publicKey.rsaEncryptSign:case re.publicKey.rsaSign:case re.publicKey.dsa:return"rsa";case re.publicKey.ecdsa:case re.publicKey.eddsaLegacy:return"ecc";case re.publicKey.ed25519:return"curve25519";case re.publicKey.ed448:return"curve448";default:throw Error("Unsupported algorithm")}}(n.algorithm),n.rsaBits=n.bits||4096,n.curve=n.curve||"curve25519Legacy",e=Xs(e,n);const i=await js(e,{...t,v6Keys:6===this.keyPacket.version});eo(i,t);const a=await Gs(i,r,e,t),s=this.toPacketList();return s.push(i,a),new co(s)}}const uo=ae.constructAllowedPackets([Cs,_s,Rs,Bs,Os,Ts,cs]);function ho(e){for(const t of e)switch(t.constructor.tag){case re.packet.secretKey:return new co(e);case re.packet.publicKey:return new oo(e)}throw Error("No key packet found")}async function lo(e,t,r,n){r.passphrase&&await e.encrypt(r.passphrase,n),await Promise.all(t.map((async function(e,t){const i=r.subkeys[t].passphrase;i&&await e.encrypt(i,n)})));const i=new ps;function a(e,t){return[t,...e.filter((e=>e!==t))]}function s(){const e={};e.keyFlags=[re.keyFlags.certifyKeys|re.keyFlags.signData];const t=a([re.symmetric.aes256,re.symmetric.aes128],n.preferredSymmetricAlgorithm);if(e.preferredSymmetricAlgorithms=t,n.aeadProtect){const r=a([re.aead.gcm,re.aead.eax,re.aead.ocb],n.preferredAEADAlgorithm);e.preferredCipherSuites=r.flatMap((e=>t.map((t=>[t,e]))))}return e.preferredHashAlgorithms=a([re.hash.sha256,re.hash.sha512],n.preferredHashAlgorithm),e.preferredCompressionAlgorithms=a([re.compression.uncompressed,re.compression.zlib,re.compression.zip],n.preferredCompressionAlgorithm),e.features=[0],e.features[0]|=re.features.modificationDetection,n.aeadProtect&&(e.features[0]|=re.features.seipdv2),r.keyExpirationTime>0&&(e.keyExpirationTime=r.keyExpirationTime,e.keyNeverExpires=!1),e}if(i.push(e),6===e.version){const t={key:e},a=s();a.signatureType=re.signature.key;const o=await Vs(t,null,e,a,r.date,void 0,void 0,void 0,n);i.push(o)}await Promise.all(r.userIDs.map((async function(t,i){const a=Os.fromObject(t),o={userID:a,key:e},c=6!==e.version?s():{};return c.signatureType=re.signature.certGeneric,0===i&&(c.isPrimaryUserID=!0),{userIDPacket:a,signaturePacket:await Vs(o,null,e,c,r.date,void 0,void 0,void 0,n)}}))).then((e=>{e.forEach((({userIDPacket:e,signaturePacket:t})=>{i.push(e),i.push(t)}))})),await Promise.all(t.map((async function(t,i){const a=r.subkeys[i];return{secretSubkeyPacket:t,subkeySignaturePacket:await Gs(t,e,a,n)}}))).then((e=>{e.forEach((({secretSubkeyPacket:e,subkeySignaturePacket:t})=>{i.push(e),i.push(t)}))}));const o={key:e};return i.push(await Vs(o,null,e,{signatureType:re.signature.keyRevocation,reasonForRevocationFlag:re.reasonForRevocation.noReason,reasonForRevocationString:""},r.date,void 0,void 0,void 0,n)),r.passphrase&&e.clearPrivateParams(),await Promise.all(t.map((async function(e,t){r.subkeys[t].passphrase&&e.clearPrivateParams()}))),new co(i)}async function yo({armoredKey:e,binaryKey:t,config:r,...n}){if(r={...ne,...r},!e&&!t)throw Error("readKey: must pass options object containing `armoredKey` or `binaryKey`");if(e&&!ae.isString(e))throw Error("readKey: options.armoredKey must be a string");if(t&&!ae.isUint8Array(t))throw Error("readKey: options.binaryKey must be a Uint8Array");const i=Object.keys(n);if(i.length>0)throw Error("Unknown option: "+i.join(", "));let a;if(e){const{type:t,data:r}=await me(e);if(t!==re.armor.publicKey&&t!==re.armor.privateKey)throw Error("Armored text not of type key");a=r}else a=t;return ho(await ps.fromBinary(a,uo,r))}async function po({armoredKey:e,binaryKey:t,config:r,...n}){if(r={...ne,...r},!e&&!t)throw Error("readPrivateKey: must pass options object containing `armoredKey` or `binaryKey`");if(e&&!ae.isString(e))throw Error("readPrivateKey: options.armoredKey must be a string");if(t&&!ae.isUint8Array(t))throw Error("readPrivateKey: options.binaryKey must be a Uint8Array");const i=Object.keys(n);if(i.length>0)throw Error("Unknown option: "+i.join(", "));let a;if(e){const{type:t,data:r}=await me(e);if(t!==re.armor.privateKey)throw Error("Armored text not of type private key");a=r}else a=t;const s=await ps.fromBinary(a,uo,r);return new co(s)}const fo=ae.constructAllowedPackets([is,ds,class{static get tag(){return re.packet.aeadEncryptedData}constructor(){this.version=1,this.cipherAlgorithm=null,this.aeadAlgorithm=re.aead.eax,this.chunkSizeByte=null,this.iv=null,this.encrypted=null,this.packets=null}async read(e){await G(e,(async e=>{const t=await e.readByte();if(1!==t)throw new wn(`Version ${t} of the AEAD-encrypted data packet is not supported.`);this.cipherAlgorithm=await e.readByte(),this.aeadAlgorithm=await e.readByte(),this.chunkSizeByte=await e.readByte();const r=Oi.getAEADMode(this.aeadAlgorithm);this.iv=await e.readBytes(r.ivLength),this.encrypted=e.remainder()}))}write(){return ae.concat([new Uint8Array([this.version,this.cipherAlgorithm,this.aeadAlgorithm,this.chunkSizeByte]),this.iv,this.encrypted])}async decrypt(e,t,r=ne){this.packets=await ps.fromBinary(await xs(this,"decrypt",t,V(this.encrypted)),Ks,r)}async encrypt(e,t,r=ne){this.cipherAlgorithm=e;const{ivLength:n}=Oi.getAEADMode(this.aeadAlgorithm);this.iv=Oi.random.getRandomBytes(n),this.chunkSizeByte=r.aeadChunkSizeByte;const i=this.packets.write();this.encrypted=await xs(this,"encrypt",t,i)}},Ss,class{static get tag(){return re.packet.symmetricallyEncryptedData}constructor(){this.encrypted=null,this.packets=null}read(e){this.encrypted=e}write(){return this.encrypted}async decrypt(e,t,r=ne){if(!r.allowUnauthenticatedMessages)throw Error("Message is not authenticated.");const{blockSize:n}=Oi.getCipher(e),i=await X(V(this.encrypted)),a=await Oi.mode.cfb.decrypt(e,t,i.subarray(n+2),i.subarray(2,n+2));this.packets=await ps.fromBinary(a,Is,r)}async encrypt(e,t,r=ne){const n=this.packets.write(),{blockSize:i}=Oi.getCipher(e),a=await Oi.getPrefixRandom(e),s=await Oi.mode.cfb.encrypt(e,t,a,new Uint8Array(i),r),o=await Oi.mode.cfb.encrypt(e,t,n,s.subarray(2),r);this.encrypted=ae.concat([s,o])}},Ps,Us,ls,cs]),go=ae.constructAllowedPackets([Us]),mo=ae.constructAllowedPackets([cs]);class wo{constructor(e){this.packets=e||new ps}getEncryptionKeyIDs(){const e=[];return this.packets.filterByTag(re.packet.publicKeyEncryptedSessionKey).forEach((function(t){e.push(t.publicKeyID)})),e}getSigningKeyIDs(){const e=this.unwrapCompressed(),t=e.packets.filterByTag(re.packet.onePassSignature);return t.length>0?t.map((e=>e.issuerKeyID)):e.packets.filterByTag(re.packet.signature).map((e=>e.issuerKeyID))}async decrypt(e,t,r,n=new Date,i=ne){const a=this.packets.filterByTag(re.packet.symmetricallyEncryptedData,re.packet.symEncryptedIntegrityProtectedData,re.packet.aeadEncryptedData);if(0===a.length)throw Error("No encrypted data found");const s=a[0],o=s.cipherAlgorithm,c=r||await this.decryptSessionKeys(e,t,o,n,i);let u=null;const h=Promise.all(c.map((async({algorithm:e,data:t})=>{if(!ae.isUint8Array(t)||!s.cipherAlgorithm&&!ae.isString(e))throw Error("Invalid session key for decryption.");try{const r=s.cipherAlgorithm||re.write(re.symmetric,e);await s.decrypt(r,t,i)}catch(e){ae.printDebugError(e),u=e}})));if(Q(s.encrypted),s.encrypted=null,await h,!s.packets||!s.packets.length)throw u||Error("Decryption failed.");const l=new wo(s.packets);return s.packets=new ps,l}async decryptSessionKeys(e,t,r,n=new Date,i=ne){let a,s=[];if(t){const e=this.packets.filterByTag(re.packet.symEncryptedSessionKey);if(0===e.length)throw Error("No symmetrically encrypted session key packet found.");await Promise.all(t.map((async function(t,r){let n;n=r?await ps.fromBinary(e.write(),go,i):e,await Promise.all(n.map((async function(e){try{await e.decrypt(t),s.push(e)}catch(e){ae.printDebugError(e),e instanceof Bi&&(a=e)}})))})))}else{if(!e)throw Error("No key or password specified.");{const t=this.packets.filterByTag(re.packet.publicKeyEncryptedSessionKey);if(0===t.length)throw Error("No public key encrypted session key packet found.");await Promise.all(t.map((async function(t){await Promise.all(e.map((async function(e){let o=[re.symmetric.aes256,re.symmetric.aes128,re.symmetric.tripledes,re.symmetric.cast5];try{const t=await e.getPrimarySelfSignature(n,void 0,i);t.preferredSymmetricAlgorithms&&(o=o.concat(t.preferredSymmetricAlgorithms))}catch(e){}const c=(await e.getDecryptionKeys(t.publicKeyID,null,void 0,i)).map((e=>e.keyPacket));await Promise.all(c.map((async function(e){if(e&&!e.isDummy()){if(!e.isDecrypted())throw Error("Decryption key is not decrypted.");if(!i.constantTimePKCS1Decryption||t.publicKeyAlgorithm!==re.publicKey.rsaEncrypt&&t.publicKeyAlgorithm!==re.publicKey.rsaEncryptSign&&t.publicKeyAlgorithm!==re.publicKey.rsaSign&&t.publicKeyAlgorithm!==re.publicKey.elgamal)try{await t.decrypt(e);const n=r||t.sessionKeyAlgorithm;if(n&&!o.includes(re.write(re.symmetric,n)))throw Error("A non-preferred symmetric algorithm was used.");s.push(t)}catch(e){ae.printDebugError(e),a=e}else{const n=t.write();await Promise.all((r?[r]:Array.from(i.constantTimePKCS1DecryptionSupportedSymmetricAlgorithms)).map((async t=>{const r=new Ps;r.read(n);const i={sessionKeyAlgorithm:t,sessionKey:Oi.generateSessionKey(t)};try{await r.decrypt(e,i),s.push(r)}catch(e){ae.printDebugError(e),a=e}})))}}})))}))),Q(t.encrypted),t.encrypted=null})))}}if(s.length>0){if(s.length>1){const e=new Set;s=s.filter((t=>{const r=t.sessionKeyAlgorithm+ae.uint8ArrayToString(t.sessionKey);return!e.has(r)&&(e.add(r),!0)}))}return s.map((e=>({data:e.sessionKey,algorithm:e.sessionKeyAlgorithm&&re.read(re.symmetric,e.sessionKeyAlgorithm)})))}throw a||Error("Session key decryption failed.")}getLiteralData(){const e=this.unwrapCompressed().packets.findPacket(re.packet.literalData);return e&&e.getBytes()||null}getFilename(){const e=this.unwrapCompressed().packets.findPacket(re.packet.literalData);return e&&e.getFilename()||null}getText(){const e=this.unwrapCompressed().packets.findPacket(re.packet.literalData);return e?e.getText():null}static async generateSessionKey(e=[],t=new Date,r=[],n=ne){const{symmetricAlgo:i,aeadAlgo:a}=await async function(e=[],t=new Date,r=[],n=ne){const i=await Promise.all(e.map(((e,i)=>e.getPrimarySelfSignature(t,r[i],n))));if(e.length?i.every((e=>e.features[0]&re.features.seipdv2)):n.aeadProtect){const e={symmetricAlgo:re.symmetric.aes128,aeadAlgo:re.aead.ocb},t={symmetricAlgo:n.preferredSymmetricAlgorithm,aeadAlgo:n.preferredAEADAlgorithm};return i.every((e=>e.preferredCipherSuites&&e.preferredCipherSuites.some((e=>e[0]===t.symmetricAlgo&&e[1]===t.aeadAlgo))))?t:e}const a=re.symmetric.aes128,s=n.preferredSymmetricAlgorithm;return{symmetricAlgo:i.every((e=>e.preferredSymmetricAlgorithms&&e.preferredSymmetricAlgorithms.includes(s)))?s:a,aeadAlgo:void 0}}(e,t,r,n),s=re.read(re.symmetric,i),o=a?re.read(re.aead,a):void 0;return await Promise.all(e.map((e=>e.getEncryptionKey().catch((()=>null)).then((e=>{if(e&&(e.keyPacket.algorithm===re.publicKey.x25519||e.keyPacket.algorithm===re.publicKey.x448)&&!o&&!ae.isAES(i))throw Error("Could not generate a session key compatible with the given `encryptionKeys`: X22519 and X448 keys can only be used to encrypt AES session keys; change `config.preferredSymmetricAlgorithm` accordingly.")}))))),{data:Oi.generateSessionKey(i),algorithm:s,aeadAlgorithm:o}}async encrypt(e,t,r,n=!1,i=[],a=new Date,s=[],o=ne){if(r){if(!ae.isUint8Array(r.data)||!ae.isString(r.algorithm))throw Error("Invalid session key for encryption.")}else if(e&&e.length)r=await wo.generateSessionKey(e,a,s,o);else{if(!t||!t.length)throw Error("No keys, passwords, or session key provided.");r=await wo.generateSessionKey(void 0,void 0,void 0,o)}const{data:c,algorithm:u,aeadAlgorithm:h}=r,l=await wo.encryptSessionKey(c,u,h,e,t,n,i,a,s,o),y=Ss.fromObject({version:h?2:1,aeadAlgorithm:h?re.write(re.aead,h):null});y.packets=this.packets;const p=re.write(re.symmetric,u);return await y.encrypt(p,c,o),l.packets.push(y),y.packets=new ps,l}static async encryptSessionKey(e,t,r,n,i,a=!1,s=[],o=new Date,c=[],u=ne){const h=new ps,l=re.write(re.symmetric,t),y=r&&re.write(re.aead,r);if(n){const t=await Promise.all(n.map((async function(t,r){const n=await t.getEncryptionKey(s[r],o,c,u),i=Ps.fromObject({version:y?6:3,encryptionKeyPacket:n.keyPacket,anonymousRecipient:a,sessionKey:e,sessionKeyAlgorithm:l});return await i.encrypt(n.keyPacket),delete i.sessionKey,i})));h.push(...t)}if(i){const t=async function(e,t){try{return await e.decrypt(t),1}catch(e){return 0}},r=(e,t)=>e+t,n=async function(e,a,s,o){const c=new Us(u);return c.sessionKey=e,c.sessionKeyAlgorithm=a,s&&(c.aeadAlgorithm=s),await c.encrypt(o,u),u.passwordCollisionCheck&&1!==(await Promise.all(i.map((e=>t(c,e))))).reduce(r)?n(e,a,o):(delete c.sessionKey,c)},a=await Promise.all(i.map((t=>n(e,l,y,t))));h.push(...a)}return new wo(h)}async sign(e=[],t=null,r=[],n=new Date,i=[],a=[],s=ne){const o=new ps,c=this.packets.findPacket(re.packet.literalData);if(!c)throw Error("No literal data packet to sign.");const u=await vo(c,e,t,r,n,i,a,!1,s),h=u.map(((e,t)=>ls.fromSignaturePacket(e,0===t))).reverse();return o.push(...h),o.push(c),o.push(...u),new wo(o)}compress(e,t=ne){if(e===re.compression.uncompressed)return this;const r=new ds(t);r.algorithm=e,r.packets=this.packets;const n=new ps;return n.push(r),new wo(n)}async signDetached(e=[],t=null,r=[],n=new Date,i=[],a=[],s=ne){const o=this.packets.findPacket(re.packet.literalData);if(!o)throw Error("No literal data packet to sign.");return new Ns(await vo(o,e,t,r,n,i,a,!0,s))}async verify(e,t=new Date,r=ne){const n=this.unwrapCompressed(),i=n.packets.filterByTag(re.packet.literalData);if(1!==i.length)throw Error("Can only verify message with one literal data packet.");K(n.packets.stream)&&n.packets.push(...await X(n.packets.stream,(e=>e||[])));const a=n.packets.filterByTag(re.packet.onePassSignature).reverse(),s=n.packets.filterByTag(re.packet.signature);return a.length&&!s.length&&ae.isStream(n.packets.stream)&&!K(n.packets.stream)?(await Promise.all(a.map((async e=>{e.correspondingSig=new Promise(((t,r)=>{e.correspondingSigResolve=t,e.correspondingSigReject=r})),e.signatureData=Z((async()=>(await e.correspondingSig).signatureData)),e.hashed=X(await e.hash(e.signatureType,i[0],void 0,!1)),e.hashed.catch((()=>{}))}))),n.packets.stream=q(n.packets.stream,(async(e,t)=>{const r=J(e),n=ee(t);try{for(let e=0;e<a.length;e++){const{value:t}=await r.read();a[e].correspondingSigResolve(t)}await r.readToEnd(),await n.ready,await n.close()}catch(e){a.forEach((t=>{t.correspondingSigReject(e)})),await n.abort(e)}})),bo(a,i,e,t,!1,r)):bo(s,i,e,t,!1,r)}verifyDetached(e,t,r=new Date,n=ne){const i=this.unwrapCompressed().packets.filterByTag(re.packet.literalData);if(1!==i.length)throw Error("Can only verify message with one literal data packet.");return bo(e.packets.filterByTag(re.packet.signature),i,t,r,!0,n)}unwrapCompressed(){const e=this.packets.filterByTag(re.packet.compressedData);return e.length?new wo(e[0].packets):this}async appendSignature(e,t=ne){await this.packets.read(ae.isUint8Array(e)?e:(await me(e)).data,mo,t)}write(){return this.packets.write()}armor(e=ne){return we(re.armor.message,this.write(),null,null,null,e)}}async function vo(e,t,r=null,n=[],i=new Date,a=[],s=[],o=!1,c=ne){const u=new ps,h=null===e.text?re.signature.binary:re.signature.text;if(await Promise.all(t.map((async(t,r)=>{const u=a[r];if(!t.isPrivate())throw Error("Need private key for signing");const l=await t.getSigningKey(n[r],i,u,c);return Vs(e,t,l.keyPacket,{signatureType:h},i,u,s,o,c)}))).then((e=>{u.push(...e)})),r){const e=r.packets.filterByTag(re.packet.signature);u.push(...e)}return u}async function bo(e,t,r,n=new Date,i=!1,a=ne){return Promise.all(e.filter((function(e){return["text","binary"].includes(re.read(re.signature,e.signatureType))})).map((async function(e){return async function(e,t,r,n=new Date,i=!1,a=ne){let s,o;for(const t of r){const r=t.getKeys(e.issuerKeyID);if(r.length>0){s=t,o=r[0];break}}const c=e instanceof ls?e.correspondingSig:e,u={keyID:e.issuerKeyID,verified:(async()=>{if(!o)throw Error("Could not find signing key with key ID "+e.issuerKeyID.toHex());await e.verify(o.keyPacket,e.signatureType,t[0],n,i,a);const r=await c;if(o.getCreationTime()>r.created)throw Error("Key is newer than the signature");try{await s.getSigningKey(o.getKeyID(),r.created,void 0,a)}catch(e){if(!a.allowInsecureVerificationWithReformattedKeys||!e.message.match(/Signature creation time is in the future/))throw e;await s.getSigningKey(o.getKeyID(),n,void 0,a)}return!0})(),signature:(async()=>{const e=await c,t=new ps;return e&&t.push(e),new Ns(t)})()};return u.signature.catch((()=>{})),u.verified.catch((()=>{})),u}(e,t,r,n,i,a)})))}async function ko({armoredMessage:e,binaryMessage:t,config:r,...n}){r={...ne,...r};let i=e||t;if(!i)throw Error("readMessage: must pass options object containing `armoredMessage` or `binaryMessage`");if(e&&!ae.isString(e)&&!ae.isStream(e))throw Error("readMessage: options.armoredMessage must be a string or stream");if(t&&!ae.isUint8Array(t)&&!ae.isStream(t))throw Error("readMessage: options.binaryMessage must be a Uint8Array or stream");const a=Object.keys(n);if(a.length>0)throw Error("Unknown option: "+a.join(", "));const s=ae.isStream(i);if(e){const{type:e,data:t}=await me(i);if(e!==re.armor.message)throw Error("Armored text not of type message");i=t}const o=await ps.fromBinary(i,fo,r),c=new wo(o);return c.fromStream=s,c}async function Ao({text:e,binary:t,filename:r,date:n=new Date,format:i=(void 0!==e?"utf8":"binary"),...a}){const s=void 0!==e?e:t;if(void 0===s)throw Error("createMessage: must pass options object containing `text` or `binary`");if(e&&!ae.isString(e)&&!ae.isStream(e))throw Error("createMessage: options.text must be a string or stream");if(t&&!ae.isUint8Array(t)&&!ae.isStream(t))throw Error("createMessage: options.binary must be a Uint8Array or stream");const o=Object.keys(a);if(o.length>0)throw Error("Unknown option: "+o.join(", "));const c=ae.isStream(s),u=new is(n);void 0!==e?u.setText(s,re.write(re.literal,i)):u.setBytes(s,re.write(re.literal,i)),void 0!==r&&u.setFilename(r);const h=new ps;h.push(u);const l=new wo(h);return l.fromStream=c,l}const Eo=ae.constructAllowedPackets([cs]);class So{constructor(e,t){if(this.text=ae.removeTrailingSpaces(e).replace(/\r?\n/g,"\r\n"),t&&!(t instanceof Ns))throw Error("Invalid signature input");this.signature=t||new Ns(new ps)}getSigningKeyIDs(){const e=[];return this.signature.packets.forEach((function(t){e.push(t.issuerKeyID)})),e}async sign(e,t=null,r=[],n=new Date,i=[],a=[],s=ne){const o=new is;o.setText(this.text);const c=new Ns(await vo(o,e,t,r,n,i,a,!0,s));return new So(this.text,c)}verify(e,t=new Date,r=ne){const n=this.signature.packets.filterByTag(re.packet.signature),i=new is;return i.setText(this.text),bo(n,[i],e,t,!0,r)}getText(){return this.text.replace(/\r\n/g,"\n")}armor(e=ne){const t={hash:this.signature.packets.some((e=>6!==e.version))?Array.from(new Set(this.signature.packets.map((e=>re.read(re.hash,e.hashAlgorithm).toUpperCase())))).join():null,text:this.text,data:this.signature.packets.write()};return we(re.armor.signed,t,void 0,void 0,void 0,e)}}async function xo({message:e,encryptionKeys:t,signingKeys:r,passwords:n,sessionKey:i,format:a="armored",signature:s=null,wildcard:o=!1,signingKeyIDs:c=[],encryptionKeyIDs:u=[],date:h=new Date,signingUserIDs:l=[],encryptionUserIDs:y=[],signatureNotations:p=[],config:f,...d}){if(Ro(f={...ne,...f}),Co(e),_o(a),t=Mo(t),r=Mo(r),n=Mo(n),c=Mo(c),u=Mo(u),l=Mo(l),y=Mo(y),p=Mo(p),d.detached)throw Error("The `detached` option has been removed from openpgp.encrypt, separately call openpgp.sign instead. Don't forget to remove the `privateKeys` option as well.");if(d.publicKeys)throw Error("The `publicKeys` option has been removed from openpgp.encrypt, pass `encryptionKeys` instead");if(d.privateKeys)throw Error("The `privateKeys` option has been removed from openpgp.encrypt, pass `signingKeys` instead");if(void 0!==d.armor)throw Error("The `armor` option has been removed from openpgp.encrypt, pass `format` instead.");const g=Object.keys(d);if(g.length>0)throw Error("Unknown option: "+g.join(", "));r||(r=[]);const m=e.fromStream;try{if((r.length||s)&&(e=await e.sign(r,s,c,h,l,p,f)),e=e.compress(await async function(e=[],t=new Date,r=[],n=ne){const i=re.compression.uncompressed,a=n.preferredCompressionAlgorithm,s=await Promise.all(e.map((async function(e,i){const s=(await e.getPrimarySelfSignature(t,r[i],n)).preferredCompressionAlgorithms;return!!s&&s.indexOf(a)>=0})));return s.every(Boolean)?a:i}(t,h,y,f),f),e=await e.encrypt(t,n,i,o,u,h,y,f),"object"===a)return e;const d="armored"===a;return Oo(d?e.armor(f):e.write(),m,d?"utf8":"binary")}catch(e){throw ae.wrapError("Error encrypting message",e)}}async function Ko({message:e,decryptionKeys:t,passwords:r,sessionKeys:n,verificationKeys:i,expectSigned:a=!1,format:s="utf8",signature:o=null,date:c=new Date,config:u,...h}){if(Ro(u={...ne,...u}),Co(e),i=Mo(i),t=Mo(t),r=Mo(r),n=Mo(n),h.privateKeys)throw Error("The `privateKeys` option has been removed from openpgp.decrypt, pass `decryptionKeys` instead");if(h.publicKeys)throw Error("The `publicKeys` option has been removed from openpgp.decrypt, pass `verificationKeys` instead");const l=Object.keys(h);if(l.length>0)throw Error("Unknown option: "+l.join(", "));try{const h=await e.decrypt(t,r,n,c,u);i||(i=[]);const l={};if(l.signatures=o?await h.verifyDetached(o,i,c,u):await h.verify(i,c,u),l.data="binary"===s?h.getLiteralData():h.getText(),l.filename=h.getFilename(),Bo(l,e),a){if(0===i.length)throw Error("Verification keys are required to verify message signatures");if(0===l.signatures.length)throw Error("Message is not signed");l.data=N([l.data,Z((async()=>{await ae.anyPromise(l.signatures.map((e=>e.verified)))}))])}return l.data=await Oo(l.data,e.fromStream,s),l}catch(e){throw ae.wrapError("Error decrypting message",e)}}async function Po({message:e,signingKeys:t,format:r="armored",detached:n=!1,signingKeyIDs:i=[],date:a=new Date,signingUserIDs:s=[],signatureNotations:o=[],config:c,...u}){if(Ro(c={...ne,...c}),Io(e),_o(r),t=Mo(t),i=Mo(i),s=Mo(s),o=Mo(o),u.privateKeys)throw Error("The `privateKeys` option has been removed from openpgp.sign, pass `signingKeys` instead");if(void 0!==u.armor)throw Error("The `armor` option has been removed from openpgp.sign, pass `format` instead.");const h=Object.keys(u);if(h.length>0)throw Error("Unknown option: "+h.join(", "));if(e instanceof So&&"binary"===r)throw Error("Cannot return signed cleartext message in binary format");if(e instanceof So&&n)throw Error("Cannot detach-sign a cleartext message");if(!t||0===t.length)throw Error("No signing keys provided");try{let u;if(u=n?await e.signDetached(t,void 0,i,a,s,o,c):await e.sign(t,void 0,i,a,s,o,c),"object"===r)return u;const h="armored"===r;return u=h?u.armor(c):u.write(),n&&(u=q(e.packets.write(),(async(e,t)=>{await Promise.all([F(u,t),X(e).catch((()=>{}))])}))),Oo(u,e.fromStream,h?"utf8":"binary")}catch(e){throw ae.wrapError("Error signing message",e)}}async function Do({message:e,verificationKeys:t,expectSigned:r=!1,format:n="utf8",signature:i=null,date:a=new Date,config:s,...o}){if(Ro(s={...ne,...s}),Io(e),t=Mo(t),o.publicKeys)throw Error("The `publicKeys` option has been removed from openpgp.verify, pass `verificationKeys` instead");const c=Object.keys(o);if(c.length>0)throw Error("Unknown option: "+c.join(", "));if(e instanceof So&&"binary"===n)throw Error("Can't return cleartext message data as binary");if(e instanceof So&&i)throw Error("Can't verify detached cleartext signature");try{const o={};if(o.signatures=i?await e.verifyDetached(i,t,a,s):await e.verify(t,a,s),o.data="binary"===n?e.getLiteralData():e.getText(),e.fromStream&&Bo(o,e),r){if(0===o.signatures.length)throw Error("Message is not signed");o.data=N([o.data,Z((async()=>{await ae.anyPromise(o.signatures.map((e=>e.verified)))}))])}return o.data=await Oo(o.data,e.fromStream,n),o}catch(e){throw ae.wrapError("Error verifying signed message",e)}}async function Uo({encryptionKeys:e,date:t=new Date,encryptionUserIDs:r=[],config:n,...i}){if(Ro(n={...ne,...n}),e=Mo(e),r=Mo(r),i.publicKeys)throw Error("The `publicKeys` option has been removed from openpgp.generateSessionKey, pass `encryptionKeys` instead");const a=Object.keys(i);if(a.length>0)throw Error("Unknown option: "+a.join(", "));try{return await wo.generateSessionKey(e,t,r,n)}catch(e){throw ae.wrapError("Error generating session key",e)}}function Co(e){if(!(e instanceof wo))throw Error("Parameter [message] needs to be of type Message")}function Io(e){if(!(e instanceof So||e instanceof wo))throw Error("Parameter [message] needs to be of type Message or CleartextMessage")}function _o(e){if("armored"!==e&&"binary"!==e&&"object"!==e)throw Error("Unsupported format "+e)}const To=Object.keys(ne).length;function Ro(e){const t=Object.keys(e);if(t.length!==To)for(const e of t)if(void 0===ne[e])throw Error("Unknown config property: "+e)}function Mo(e){return e&&!ae.isArray(e)&&(e=[e]),e}async function Oo(e,t,r="utf8"){return"array"===ae.isStream(e)?X(e):"node"===t?(e=U(e),"binary"!==r&&e.setEncoding(r),e):e}function Bo(e,t){e.data=q(t.packets.stream,(async(t,r)=>{await F(e.data,r,{preventClose:!0});const n=ee(r);try{await X(t,(e=>e)),await n.close()}catch(e){await n.abort(e)}}))}function Lo(e,t,r){switch(t){case"object":return e;case"armored":return e.armor(r);case"binary":return e.write();default:throw Error("Unsupported format "+t)}}r(79344),r(51144);const No=e=>t=>void 0!==t?e(t):void 0,Fo=No((e=>unescape(encodeURIComponent(e)))),jo=No((e=>decodeURIComponent(escape(e)))),zo=No((e=>btoa(e).trim())),Ho=No((e=>atob(e.trim()))),qo=(No((e=>zo(Fo(e)))),No((e=>jo(Ho(e)))));const Go=e=>"string"==typeof e||e instanceof String,Vo=e=>{if(!Go(e))throw new Error("binaryStringToArray: Data must be in the form of a string");const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t},Wo=e=>{const t=[],r=16384,n=e.length;for(let i=0;i<n;i+=r)t.push(String.fromCharCode.apply(String,e.subarray(i,i+r<n?i+r:n)));return t.join("")},$o=e=>{const t=[];for(let r=0;r<e.length;r++){const n=e[r].toString(16);t.push(n.length<2?"0"+n:n)}return t.join("")};function Yo(e,t){return e+t&4294967295}function Xo(e,t,r,n,i,a){return t=Yo(Yo(t,e),Yo(n,a)),Yo(t<<i|t>>>32-i,r)}function Qo(e,t,r,n,i,a,s){return Xo(t&r|~t&n,e,t,i,a,s)}function Zo(e,t,r,n,i,a,s){return Xo(t&n|r&~n,e,t,i,a,s)}function Jo(e,t,r,n,i,a,s){return Xo(t^r^n,e,t,i,a,s)}function ec(e,t,r,n,i,a,s){return Xo(r^(t|~n),e,t,i,a,s)}function tc(e,t){let r=e[0],n=e[1],i=e[2],a=e[3];r=Qo(r,n,i,a,t[0],7,-680876936),a=Qo(a,r,n,i,t[1],12,-389564586),i=Qo(i,a,r,n,t[2],17,606105819),n=Qo(n,i,a,r,t[3],22,-1044525330),r=Qo(r,n,i,a,t[4],7,-176418897),a=Qo(a,r,n,i,t[5],12,1200080426),i=Qo(i,a,r,n,t[6],17,-1473231341),n=Qo(n,i,a,r,t[7],22,-45705983),r=Qo(r,n,i,a,t[8],7,1770035416),a=Qo(a,r,n,i,t[9],12,-1958414417),i=Qo(i,a,r,n,t[10],17,-42063),n=Qo(n,i,a,r,t[11],22,-1990404162),r=Qo(r,n,i,a,t[12],7,1804603682),a=Qo(a,r,n,i,t[13],12,-40341101),i=Qo(i,a,r,n,t[14],17,-1502002290),n=Qo(n,i,a,r,t[15],22,1236535329),r=Zo(r,n,i,a,t[1],5,-165796510),a=Zo(a,r,n,i,t[6],9,-1069501632),i=Zo(i,a,r,n,t[11],14,643717713),n=Zo(n,i,a,r,t[0],20,-373897302),r=Zo(r,n,i,a,t[5],5,-701558691),a=Zo(a,r,n,i,t[10],9,38016083),i=Zo(i,a,r,n,t[15],14,-660478335),n=Zo(n,i,a,r,t[4],20,-405537848),r=Zo(r,n,i,a,t[9],5,568446438),a=Zo(a,r,n,i,t[14],9,-1019803690),i=Zo(i,a,r,n,t[3],14,-187363961),n=Zo(n,i,a,r,t[8],20,1163531501),r=Zo(r,n,i,a,t[13],5,-1444681467),a=Zo(a,r,n,i,t[2],9,-51403784),i=Zo(i,a,r,n,t[7],14,1735328473),n=Zo(n,i,a,r,t[12],20,-1926607734),r=Jo(r,n,i,a,t[5],4,-378558),a=Jo(a,r,n,i,t[8],11,-2022574463),i=Jo(i,a,r,n,t[11],16,1839030562),n=Jo(n,i,a,r,t[14],23,-35309556),r=Jo(r,n,i,a,t[1],4,-1530992060),a=Jo(a,r,n,i,t[4],11,1272893353),i=Jo(i,a,r,n,t[7],16,-155497632),n=Jo(n,i,a,r,t[10],23,-1094730640),r=Jo(r,n,i,a,t[13],4,681279174),a=Jo(a,r,n,i,t[0],11,-358537222),i=Jo(i,a,r,n,t[3],16,-722521979),n=Jo(n,i,a,r,t[6],23,76029189),r=Jo(r,n,i,a,t[9],4,-640364487),a=Jo(a,r,n,i,t[12],11,-421815835),i=Jo(i,a,r,n,t[15],16,530742520),n=Jo(n,i,a,r,t[2],23,-995338651),r=ec(r,n,i,a,t[0],6,-198630844),a=ec(a,r,n,i,t[7],10,1126891415),i=ec(i,a,r,n,t[14],15,-1416354905),n=ec(n,i,a,r,t[5],21,-57434055),r=ec(r,n,i,a,t[12],6,1700485571),a=ec(a,r,n,i,t[3],10,-1894986606),i=ec(i,a,r,n,t[10],15,-1051523),n=ec(n,i,a,r,t[1],21,-2054922799),r=ec(r,n,i,a,t[8],6,1873313359),a=ec(a,r,n,i,t[15],10,-30611744),i=ec(i,a,r,n,t[6],15,-1560198380),n=ec(n,i,a,r,t[13],21,1309151649),r=ec(r,n,i,a,t[4],6,-145523070),a=ec(a,r,n,i,t[11],10,-1120210379),i=ec(i,a,r,n,t[2],15,718787259),n=ec(n,i,a,r,t[9],21,-343485551),e[0]=Yo(r,e[0]),e[1]=Yo(n,e[1]),e[2]=Yo(i,e[2]),e[3]=Yo(a,e[3])}function rc(e){const t=[];let r;for(r=0;r<64;r+=4)t[r>>2]=e.charCodeAt(r)+(e.charCodeAt(r+1)<<8)+(e.charCodeAt(r+2)<<16)+(e.charCodeAt(r+3)<<24);return t}const nc="0123456789abcdef".split("");function ic(e){let t="",r=0;for(;r<4;r++)t+=nc[e>>8*r+4&15]+nc[e>>8*r&15];return t}const ac=async function(e){const t=function(e){const t=e.length,r=[1732584193,-271733879,-1732584194,271733878];let n;for(n=64;n<=e.length;n+=64)tc(r,rc(e.substring(n-64,n)));e=e.substring(n-64);const i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(n=0;n<e.length;n++)i[n>>2]|=e.charCodeAt(n)<<(n%4<<3);if(i[n>>2]|=128<<(n%4<<3),n>55)for(tc(r,i),n=0;n<16;n++)i[n]=0;return i[14]=8*t,tc(r,i),r}(Wo(e));return(e=>{const t=new Uint8Array(e.length>>1);for(let r=0;r<t.length;r++){const n=r<<1;t[r]=parseInt(e.substring(n,n+2),16)}return t})(function(e){for(let t=0;t<e.length;t++)e[t]=ic(e[t]);return e.join("")}(t))},sc=async e=>{const t=await crypto.subtle.digest("SHA-256",e);return new Uint8Array(t)};async function oc(e){if(e instanceof Uint8Array){const t=await crypto.subtle.digest("SHA-1",e);return new Uint8Array(t)}const{sha1:t}=await r.e(8636).then(r.bind(r,68636)),n=t.create(),i=e.getReader();for(;;){const{done:e,value:t}=await i.read();if(e)return n.digest();n.update(t)}}function cc(e){const t=new Set([re.publicKey.dsa,re.publicKey.elgamal,re.publicKey.rsaEncryptSign,re.publicKey.rsaSign,re.publicKey.rsaEncrypt,re.publicKey.ecdh,re.publicKey.ecdsa,re.publicKey.eddsaLegacy]),r=new Set([re.curve.ed25519Legacy,re.curve.curve25519Legacy,re.curve.p256,re.curve.p384,re.curve.p521,re.curve.brainpoolP256r1,re.curve.brainpoolP384r1,re.curve.brainpoolP512r1]);if(e.keyPacket.version>5)throw new Error(`Version ${e.keyPacket.version} keys are currently not supported.`);e.getKeys().forEach((({keyPacket:e})=>{const n=e.getAlgorithmInfo(),i=re.write(re.publicKey,n.algorithm);if(!t.has(i))throw new Error("The key algorithm is currently not supported.");if(n.curve&&!r.has(n.curve))throw new Error(`Keys using curve ${n.curve} are currently not supported.`)}))}let uc=null;const hc=()=>uc||new Date;let lc=function(e){return e[e.NOT_SIGNED=0]="NOT_SIGNED",e[e.SIGNED_AND_VALID=1]="SIGNED_AND_VALID",e[e.SIGNED_AND_INVALID=2]="SIGNED_AND_INVALID",e}({});const yc=-6e4,pc={aes128:16,aes192:24,aes256:32};const fc=Symbol("doneWritingPromise"),dc=Symbol("doneWritingResolve"),gc=Symbol("doneWritingReject"),mc=Symbol("readingIndex");class wc extends Array{constructor(){super(),Object.setPrototypeOf(this,wc.prototype),this[fc]=new Promise(((e,t)=>{this[dc]=e,this[gc]=t})),this[fc].catch((()=>{}))}}function vc(e){return e&&e.getReader&&Array.isArray(e)}function bc(e){if(!vc(e)){const t=e.getWriter(),r=t.releaseLock;return t.releaseLock=()=>{t.closed.catch((function(){})),r.call(t)},t}this.stream=e}wc.prototype.getReader=function(){return void 0===this[mc]&&(this[mc]=0),{read:async()=>(await this[fc],this[mc]===this.length?{value:void 0,done:!0}:{value:this[this[mc]++],done:!1})}},wc.prototype.readToEnd=async function(e){await this[fc];const t=e(this.slice(this[mc]));return this.length=0,t},wc.prototype.clone=function(){const e=new wc;return e[fc]=this[fc].then((()=>{e.push(...this)})),e},bc.prototype.write=async function(e){this.stream.push(e)},bc.prototype.close=async function(){this.stream[dc]()},bc.prototype.abort=async function(e){return this.stream[gc](e),e},bc.prototype.releaseLock=function(){};const kc=null,Ac=null,Ec=null;"object"==typeof globalThis.process&&globalThis.process.versions;function Sc(e){return vc(e)?"array":globalThis.ReadableStream&&globalThis.ReadableStream.prototype.isPrototypeOf(e)?"web":kc&&kc.prototype.isPrototypeOf(e)?"node":!(!e||!e.getReader)&&"web-like"}function xc(e){return Uint8Array.prototype.isPrototypeOf(e)}const Kc=new WeakSet,Pc=Symbol("externalBuffer");function Dc(e){if(this.stream=e,e[Pc]&&(this[Pc]=e[Pc].slice()),vc(e)){const t=e.getReader();return this._read=t.read.bind(t),this._releaseLock=()=>{},void(this._cancel=()=>{})}let t=Sc(e);if("node"===t&&(e=Ec(e)),t){const t=e.getReader();return this._read=t.read.bind(t),this._releaseLock=()=>{t.closed.catch((function(){})),t.releaseLock()},void(this._cancel=t.cancel.bind(t))}let r=!1;this._read=async()=>r||Kc.has(e)?{value:void 0,done:!0}:(r=!0,{value:e,done:!1}),this._releaseLock=()=>{if(r)try{Kc.add(e)}catch(e){}}}function Uc(e){let t=Sc(e);return"node"===t?Ec(e):t?e:new ReadableStream({start(t){t.enqueue(e),t.close()}})}function Cc(e){if(Sc(e))return e;const t=new wc;return(async()=>{const r=zc(t);await r.write(e),await r.close()})(),t}function Ic(e){return e.some((e=>Sc(e)&&!vc(e)))?function(e){e=e.map(Uc);const t=Rc((async function(e){await Promise.all(n.map((t=>async function(e,t){if(Sc(e)){if(e.cancel){const r=await e.cancel(t);return await new Promise(setTimeout),r}if(e.destroy)return e.destroy(t),await new Promise(setTimeout),t}}(t,e))))}));let r=Promise.resolve();const n=e.map(((n,i)=>Oc(n,((n,a)=>(r=r.then((()=>_c(n,t.writable,{preventClose:i!==e.length-1}))),r)))));return t.readable}(e):e.some((e=>vc(e)))?function(e){const t=new wc;let r=Promise.resolve();return e.forEach(((n,i)=>(r=r.then((()=>_c(n,t,{preventClose:i!==e.length-1}))),r))),t}(e):"string"==typeof e[0]?e.join(""):Ac&&Ac.isBuffer(e[0])?Ac.concat(e):function(e){if(1===e.length)return e[0];let t=0;for(let r=0;r<e.length;r++){if(!xc(e[r]))throw new Error("concatUint8Array: Data must be in the form of a Uint8Array");t+=e[r].length}const r=new Uint8Array(t);let n=0;return e.forEach((function(e){r.set(e,n),n+=e.length})),r}(e)}async function _c(e,t,{preventClose:r=!1,preventAbort:n=!1,preventCancel:i=!1}={}){if(Sc(e)&&!vc(e)){e=Uc(e);try{if(e[Pc]){const r=zc(t);for(let t=0;t<e[Pc].length;t++)await r.ready,await r.write(e[Pc][t]);r.releaseLock()}await e.pipeTo(t,{preventClose:r,preventAbort:n,preventCancel:i})}catch(e){}return}const a=jc(e=Cc(e)),s=zc(t);try{for(;;){await s.ready;const{done:e,value:t}=await a.read();if(e){r||await s.close();break}await s.write(t)}}catch(e){n||await s.abort(e)}finally{a.releaseLock(),s.releaseLock()}}function Tc(e,t){const r=new TransformStream(t);return _c(e,r.writable),r.readable}function Rc(e){let t,r,n=!1;return{readable:new ReadableStream({start(e){r=e},pull(){t?t():n=!0},cancel:e},{highWaterMark:0}),writable:new WritableStream({write:async function(e){r.enqueue(e),n?n=!1:(await new Promise((e=>{t=e})),t=null)},close:r.close.bind(r),abort:r.error.bind(r)})}}function Mc(e,t=(()=>{}),r=(()=>{})){if(vc(e)){const n=new wc;return(async()=>{const i=zc(n);try{const n=await Fc(e),a=t(n),s=r();let o;o=void 0!==a&&void 0!==s?Ic([a,s]):void 0!==a?a:s,await i.write(o),await i.close()}catch(e){await i.abort(e)}})(),n}if(Sc(e))return Tc(e,{async transform(e,r){try{const n=await t(e);void 0!==n&&r.enqueue(n)}catch(e){r.error(e)}},async flush(e){try{const t=await r();void 0!==t&&e.enqueue(t)}catch(t){e.error(t)}}});const n=t(e),i=r();return void 0!==n&&void 0!==i?Ic([n,i]):void 0!==n?n:i}function Oc(e,t){if(Sc(e)&&!vc(e)){let r;const n=new TransformStream({start(e){r=e}}),i=_c(e,n.writable),a=Rc((async function(e){r.error(e),await i,await new Promise(setTimeout)}));return t(n.readable,a.writable),a.readable}e=Cc(e);const r=new wc;return t(e,r),r}function Bc(e){if(vc(e))return e.clone();if(Sc(e)){const t=function(e){if(vc(e))throw new Error("ArrayStream cannot be tee()d, use clone() instead");if(Sc(e)){const t=Uc(e).tee();return t[0][Pc]=t[1][Pc]=e[Pc],t}return[Nc(e),Nc(e)]}(e);return Lc(e,t[0]),t[1]}return Nc(e)}function Lc(e,t){Object.entries(Object.getOwnPropertyDescriptors(e.constructor.prototype)).forEach((([r,n])=>{"constructor"!==r&&(n.value?n.value=n.value.bind(t):n.get=n.get.bind(t),Object.defineProperty(e,r,n))}))}function Nc(e,t=0,r=1/0){if(vc(e))throw new Error("Not implemented");if(Sc(e)){if(t>=0&&r>=0){let n=0;return Tc(e,{transform(e,i){n<r?(n+e.length>=t&&i.enqueue(Nc(e,Math.max(t-n,0),r-n)),n+=e.length):i.terminate()}})}if(t<0&&(r<0||r===1/0)){let n=[];return Mc(e,(e=>{e.length>=-t?n=[e]:n.push(e)}),(()=>Nc(Ic(n),t,r)))}if(0===t&&r<0){let n;return Mc(e,(e=>{const i=n?Ic([n,e]):e;if(i.length>=-r)return n=Nc(i,r),Nc(i,t,r);n=i}))}return console.warn(`stream.slice(input, ${t}, ${r}) not implemented efficiently.`),function(e){const t=new wc;return(async()=>{const r=zc(t);try{await r.write(await e()),await r.close()}catch(e){await r.abort(e)}})(),t}((async()=>Nc(await Fc(e),t,r)))}return e[Pc]&&(e=Ic(e[Pc].concat([e]))),!xc(e)||Ac&&Ac.isBuffer(e)?e.slice(t,r):(r===1/0&&(r=e.length),e.subarray(t,r))}async function Fc(e,t=Ic){return vc(e)?e.readToEnd(t):Sc(e)?jc(e).readToEnd(t):e}function jc(e){return new Dc(e)}function zc(e){return new bc(e)}Dc.prototype.read=async function(){if(this[Pc]&&this[Pc].length){return{done:!1,value:this[Pc].shift()}}return this._read()},Dc.prototype.releaseLock=function(){this[Pc]&&(this.stream[Pc]=this[Pc]),this._releaseLock()},Dc.prototype.cancel=function(e){return this._cancel(e)},Dc.prototype.readLine=async function(){let e,t=[];for(;!e;){let{done:r,value:n}=await this.read();if(n+="",r)return t.length?Ic(t):void 0;const i=n.indexOf("\n")+1;i&&(e=Ic(t.concat(n.substr(0,i))),t=[]),i!==n.length&&t.push(n.substr(i))}return this.unshift(...t),e},Dc.prototype.readByte=async function(){const{done:e,value:t}=await this.read();if(e)return;const r=t[0];return this.unshift(Nc(t,1)),r},Dc.prototype.readBytes=async function(e){const t=[];let r=0;for(;;){const{done:n,value:i}=await this.read();if(n)return t.length?Ic(t):void 0;if(t.push(i),r+=i.length,r>=e){const r=Ic(t);return this.unshift(Nc(r,e)),Nc(r,0,e)}}},Dc.prototype.peekBytes=async function(e){const t=await this.readBytes(e);return this.unshift(t),t},Dc.prototype.unshift=function(...e){this[Pc]||(this[Pc]=[]),1===e.length&&xc(e[0])&&this[Pc].length&&e[0].length&&this[Pc][0].byteOffset>=e[0].length?this[Pc][0]=new Uint8Array(this[Pc][0].buffer,this[Pc][0].byteOffset-e[0].length,this[Pc][0].byteLength+e[0].length):this[Pc].unshift(...e.filter((e=>e&&e.length)))},Dc.prototype.readToEnd=async function(e=Ic){const t=[];for(;;){const{done:e,value:r}=await this.read();if(e)break;t.push(r)}return e(t)};const Hc=e=>e.split("\n").map((e=>{let t=e.length-1;for(;t>=0&&(" "===e[t]||"\t"===e[t]||"\r"===e[t]);t--);return e.substring(0,t+1)})).join("\n");const qc="context@proton.ch",Gc=(e,t)=>({name:qc,value:(new TextEncoder).encode(e),humanReadable:!0,critical:t}),Vc=(e,t)=>{const{value:r,required:n,requiredAfter:i}=e,a=i?t.created>=(s=i,new Date(1e3*Math.floor(+s/1e3))):!!n;var s;const o=t.rawNotations.filter((({name:e})=>e===qc));return!!o.find((({value:e})=>(new TextDecoder).decode(e)===r))||!(o.length>0)&&!a},Wc=e=>({...e,knownNotations:[qc]});class $c extends Error{constructor(e){super(e),this.name="ContextError"}}async function Yc({textData:e,binaryData:t,stripTrailingSpaces:r,context:n,format:i="armored",date:a=hc(),detached:s=!1,...o}){const c={...o,signatureNotations:n?Gc(n.value,n.critical):void 0,date:a,format:i},u=t?"binary":"text",h=t||(r?Hc(e):e);o.sessionKey||(c.sessionKey=await Uo({encryptionKeys:c.encryptionKeys,date:c.date,encryptionUserIDs:c.encryptionUserIDs,config:c.config}));const l={};if(s){if("object"===i)throw new Error('Unsupported detached signature when requesting "object" result');const e=await Po({message:await Ao({[u]:Sc(h)?(y=h,vc(y)?Bc(y):Sc(y)?new ReadableStream({start(e){const t=Oc(y,(async(t,r)=>{const n=jc(t),i=zc(r);try{for(;;){await i.ready;const{done:t,value:r}=await n.read();if(t){try{e.close()}catch(e){}return void await i.close()}try{e.enqueue(r)}catch(e){}await i.write(r)}}catch(t){e.error(t),await i.abort(t)}}));Lc(y,t)}}):Nc(y)):h,date:a}),signingKeys:c.signingKeys,signingKeyIDs:c.signingKeyIDs,signingUserIDs:c.signingUserIDs,signatureNotations:c.signatureNotations,date:c.date,config:c.config,format:"binary",detached:!0});l.encryptedSignature=await xo({...c,signingKeys:[],message:await Ao({binary:Bc(e),date:a})}),l.signature="armored"===i?we(re.armor.signature,e):e}var y;return l.message=await xo({...c,message:await Ao({[u]:h,date:a}),signingKeys:s?[]:c.signingKeys}),l}async function Xc({date:e=new Date(+hc()+yc),...t}){return async function({userIDs:e=[],passphrase:t,type:r,curve:n,rsaBits:i=4096,symmetricHash:a="sha256",symmetricCipher:s="aes256",keyExpirationTime:o=0,date:c=new Date,subkeys:u=[{}],format:h="armored",config:l,...y}){Ro(l={...ne,...l}),r||n?(r=r||"ecc",n=n||"curve25519Legacy"):(r=l.v6Keys?"curve25519":"ecc",n="curve25519Legacy"),e=Mo(e);const p=Object.keys(y);if(p.length>0)throw Error("Unknown option: "+p.join(", "));if(0===e.length&&!l.v6Keys)throw Error("UserIDs are required for V4 keys");if("rsa"===r&&i<l.minRSABits)throw Error(`rsaBits should be at least ${l.minRSABits}, got: ${i}`);const f={userIDs:e,passphrase:t,type:r,rsaBits:i,curve:n,keyExpirationTime:o,date:c,subkeys:u,symmetricHash:a,symmetricCipher:s};try{const{key:e,revocationCertificate:t}=await async function(e,t){e.sign=!0,(e=Xs(e)).subkeys=e.subkeys.map(((t,r)=>Xs(e.subkeys[r],e)));let r=[zs(e,t)];r=r.concat(e.subkeys.map((e=>js(e,t))));const n=await Promise.all(r),i=await lo(n[0],n.slice(1),e,t),a=await i.getRevocationCertificate(e.date,t);return i.revocationSignatures=[],{key:i,revocationCertificate:a}}(f,l);return e.getKeys().forEach((({keyPacket:e})=>eo(e,l))),{privateKey:Lo(e,h,l),publicKey:"symmetric"!==r?Lo(e.toPublic(),h,l):null,revocationCertificate:t}}catch(e){throw ae.wrapError("Error generating keypair",e)}}({date:e,...t})}async function Qc(e){const t=function(e){if(!pc[e])throw new Error("Unsupported symmetric algorithm");return pc[e]}(e);return(async e=>crypto.getRandomValues(new Uint8Array(e)))(t)}function Zc({privateKey:e,passphrase:t,date:r=e.getCreationTime(),...n}){return async function({privateKey:e,userIDs:t=[],passphrase:r,keyExpirationTime:n=0,date:i,format:a="armored",config:s,...o}){Ro(s={...ne,...s}),t=Mo(t);const c=Object.keys(o);if(c.length>0)throw Error("Unknown option: "+c.join(", "));if(0===t.length&&6!==e.keyPacket.version)throw Error("UserIDs are required for V4 keys");const u={privateKey:e,userIDs:t,passphrase:r,keyExpirationTime:n,date:i};try{const{key:e,revocationCertificate:t}=await async function(e,t){e=o(e);const{privateKey:r}=e;if(!r.isPrivate())throw Error("Cannot reformat a public key");if(r.keyPacket.isDummy())throw Error("Cannot reformat a gnu-dummy primary key");if(!r.getKeys().every((({keyPacket:e})=>e.isDecrypted())))throw Error("Key is not decrypted");const n=r.keyPacket;e.subkeys||(e.subkeys=await Promise.all(r.subkeys.map((async e=>{const r=e.keyPacket,i={key:n,bind:r},a=await Hs(e.bindingSignatures,n,re.signature.subkeyBinding,i,null,t).catch((()=>({})));return{sign:a.keyFlags&&a.keyFlags[0]&re.keyFlags.signData,forwarding:a.keyFlags&&a.keyFlags[0]&re.keyFlags.forwardedCommunication}}))));const i=r.subkeys.map((e=>e.keyPacket));if(e.subkeys.length!==i.length)throw Error("Number of subkey options does not match number of subkeys");e.subkeys=e.subkeys.map((t=>o(t,e)));const a=await lo(n,i,e,t),s=await a.getRevocationCertificate(e.date,t);return a.revocationSignatures=[],{key:a,revocationCertificate:s};function o(e,t={}){return e.keyExpirationTime=e.keyExpirationTime||t.keyExpirationTime,e.passphrase=ae.isString(e.passphrase)?e.passphrase:t.passphrase,e.date=e.date||t.date,e}}(u,s);return{privateKey:Lo(e,a,s),publicKey:Lo(e.toPublic(),a,s),revocationCertificate:t}}catch(e){throw ae.wrapError("Error reformatting keypair",e)}}({privateKey:e,passphrase:t,date:r,...n})}const Jc=({date:e=hc(),...t})=>async function({data:e,algorithm:t,aeadAlgorithm:r,encryptionKeys:n,passwords:i,format:a="armored",wildcard:s=!1,encryptionKeyIDs:o=[],date:c=new Date,encryptionUserIDs:u=[],config:h,...l}){if(Ro(h={...ne,...h}),function(e,t){if(!ae.isUint8Array(e))throw Error("Parameter [data] must be of type Uint8Array")}(e),function(e,t){if(!ae.isString(e))throw Error("Parameter [algorithm] must be of type String")}(t),_o(a),n=Mo(n),i=Mo(i),o=Mo(o),u=Mo(u),l.publicKeys)throw Error("The `publicKeys` option has been removed from openpgp.encryptSessionKey, pass `encryptionKeys` instead");const y=Object.keys(l);if(y.length>0)throw Error("Unknown option: "+y.join(", "));if(!(n&&0!==n.length||i&&0!==i.length))throw Error("No encryption keys or passwords provided.");try{return Lo(await wo.encryptSessionKey(e,t,r,n,i,s,o,c,u,h),a,h)}catch(e){throw ae.wrapError("Error encrypting session key",e)}}({date:e,...t}),eu=({config:e={},...t})=>async function({privateKey:e,passphrase:t,config:r,...n}){Ro(r={...ne,...r});const i=Object.keys(n);if(i.length>0)throw Error("Unknown option: "+i.join(", "));if(!e.isPrivate())throw Error("Cannot encrypt a public key");const a=e.clone(!0),s=a.getKeys(),o=ae.isArray(t)?t:Array(s.length).fill(t);if(o.length!==s.length)throw Error("Invalid number of passphrases given for key encryption");try{return await Promise.all(s.map((async(e,t)=>{const{keyPacket:n}=e;await n.encrypt(o[t],r),n.clearPrivateParams()}))),a}catch(e){throw a.clearPrivateParams(),ae.wrapError("Error encrypting private key",e)}}({...t,config:{...e,s2kIterationCountByte:96}});function tu(){if(arguments.length)throw new Error("Loading OpenPGP separately is no longer required");ne.s2kIterationCountByte=255,ne.allowInsecureDecryptionWithSigningKeys=!0,ne.allowInsecureVerificationWithReformattedKeys=!0,ne.rejectPublicKeyAlgorithms=new Set,ne.rejectCurves=new Set,ne.minRSABits=1023,ne.checkEdDSAFaultySignatures=!1}const{NOT_SIGNED:ru,SIGNED_AND_VALID:nu,SIGNED_AND_INVALID:iu}=lc;async function au(e,t){const{data:r,signatures:n}=e,i=[],a=[];let s=ru,o=null;if(n&&n.length){s=iu;for(let e=0;e<n.length;e++){const{signature:r,verified:c}=n[e],u=await r;if(await c.catch((e=>(a.push(e),!1)))){const e=u.packets[0];!t||Vc(t,e)?s=nu:a.push(new $c),o||(o=e.created)}i.push(u)}}return{data:r,verified:s,signatures:i,signatureTimestamp:o,errors:s===iu?a:void 0}}async function su({textData:e,binaryData:t,stripTrailingSpaces:r,context:n,config:i={},date:a=hc(),...s}){const o=t?"binary":"text",c=t||(r?Hc(e):e),u={...s,date:a,message:await Ao({[o]:c,date:a}),config:n?Wc(i):i};return au(await Do(u),n)}async function ou({date:e=hc(),encryptedSignature:t,context:r,config:n={},...i}){const a={...i,date:e,config:r?Wc(n):n};try{if(t){const{data:e}=await Ko({...a,message:t,format:"binary"});a.signature=await Fs({binarySignature:await Fc(e)})}const e=await Ko(a),n=au(e,r);let i=n.then((e=>e.verified)),s=n.then((e=>e.signatures)),o=n.then((e=>e.errors));return Sc(e.data)||(i=await i,s=await s,o=await o),{data:e.data,filename:e.filename,verified:i,signatures:s,verificationErrors:o}}catch(e){return Promise.reject(e)}}const cu="---BEGIN ENCRYPTED MESSAGE---",uu="---END ENCRYPTED MESSAGE---",hu="---BEGIN ENCRYPTED RANDOM KEY---",lu="---END ENCRYPTED RANDOM KEY---";async function yu({messageDate:e,armoredMessage:t,decryptionKeys:n,...i}){if(void 0===e||!(e instanceof Date))throw new Error("Missing message time");let a=function(e){if(void 0!==e&&"function"==typeof e.search){const t=e.search(cu)+cu.length,r=e.search(uu);return-1===t||-1===r?"":e.substring(t,r)}return""}(t);const s=function(e){if(void 0!==e&&"function"==typeof e.search){const t=e.search(hu)+hu.length,r=e.search(lu);return-1===t||-1===r?"":e.substring(t,r)}return""}(t);if(""===a||""===s)return ou({message:await ko({armoredMessage:t}),decryptionKeys:n,...i});const o={decryptionKeys:n,message:await ko({armoredMessage:s}),config:i.config},{data:c,verificationErrors:u}=await ou(o),h=Vo(qo(c));if(0===h.length)throw new Error("Random key is empty");a=Vo(qo(a));const l={verified:lc.NOT_SIGNED,signatures:[],verificationErrors:u},{AES256:y}=await r.e(7568).then(r.bind(r,55184)),p=await y.decrypt(a.subarray(y.blockSize+2),h,a.subarray(2,y.blockSize+2));return l.data=+e>139908612e4?qo(Wo(p)):Wo(p),l}let pu;const fu=async()=>pu||(pu=await r.e(348).then(r.bind(r,40348)).then((e=>e.default)),pu);async function du(e){const t=await e.getDecryptionKeys(void 0,void 0,void 0,{...ne,allowInsecureDecryptionWithSigningKeys:!1});if(t.some((e=>!e||!(e.keyPacket instanceof Rs)||e.keyPacket.isDummy()||4!==e.keyPacket.version||"ecdh"!==e.getAlgorithmInfo().algorithm||"curve25519Legacy"!==e.getAlgorithmInfo().curve)))throw new Error("One or more encryption key packets are unsuitable for forwarding");return t}async function gu(e,t){if(!e.isDecrypted())throw new Error("Forwarder key must be decrypted");const r=await du(e),{privateKey:n}=await Xc({type:"ecc",userIDs:t,subkeys:new Array(r.length).fill({curve:"curve25519Legacy",forwarding:!0}),format:"object"}),i=await Promise.all(r.map((async(e,t)=>{const r=e.keyPacket,i=n.subkeys[t].keyPacket,{hash:a,cipher:s}=r.publicParams.kdfParams;i.publicParams.kdfParams=new Si({version:255,hash:a,cipher:s,replacementFingerprint:r.getFingerprintBytes().subarray(0,20)});const o=await async function(e,t){const r=await fu(),n=r.new(e),i=r.new(t),a=r.new("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed");return i.modInv(a).mul(n).mod(a).toUint8Array("le",t.length)}(r.privateParams.d,i.privateParams.d);return await i.computeFingerprintAndKeyID(),{keyVersion:r.version,proxyParameter:o,forwarderKeyFingerprint:r.getFingerprintBytes(),forwardeeKeyFingerprint:i.getFingerprintBytes()}}))),{privateKey:a}=await Zc({privateKey:n,userIDs:t,format:"object"});return{proxyInstances:i,forwardeeKey:a}}async function mu(e){try{const t=await async function({message:e,decryptionKeys:t,passwords:r,date:n=new Date,config:i,...a}){if(Ro(i={...ne,...i}),Co(e),t=Mo(t),r=Mo(r),a.privateKeys)throw Error("The `privateKeys` option has been removed from openpgp.decryptSessionKeys, pass `decryptionKeys` instead");const s=Object.keys(a);if(s.length>0)throw Error("Unknown option: "+s.join(", "));try{return await e.decryptSessionKeys(t,r,void 0,n,i)}catch(e){throw ae.wrapError("Error decrypting session keys",e)}}(e);if(t.length>1)throw new Error("Multiple decrypted session keys found");return t[0]}catch(e){return Promise.reject(e)}}function wu(e){return[e.replace(/=([0-9A-F][0-9A-F]|[ \t]*(\r\n|[\r\n]|$))/gi,(function(e,t){return 0==t.trim().length?"":String.fromCharCode(parseInt(t,16))})),""]}function vu(e,t){let r=e.replace(/[^A-Za-z0-9+/=]/g,"");r=r.replace(/=+([A-Za-z0-9+/])/g,"$1");let n=r.length%4;return e=0!=n&&t?r.slice(-n):"",r=r.substring(0,r.length-n),r=r.replace(/(====)+$/g,""),[atob(r),e]}function bu(e){for(var t=new Uint8Array(e.length),r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}function ku(e){var t="";for(let r=0;r<e.length;r+=100)t+=String.fromCharCode.apply(void 0,e.subarray(r,r+100));return t}const Au=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];class Eu{constructor(){this.collectInput="",this.decodeString=Pu}decode(e,t={}){let r=t.stream;return e&&(this.collectInput+=ku(e)),r?"":this.decodeString(this.collectInput)}}class Su extends Eu{constructor(){super(),this.decodeString=Du}}function xu(e,t){switch(e.toLowerCase()){case"utf-7":return new Eu;case"utf-7-imap":return new Su;case"cp932":return new TextDecoder("shift_jis",t);default:return new TextDecoder(e,t)}}function Ku(e){const t=bu(atob(e));let r="";for(let e=0,n=t.length;e<n;)r+=String.fromCharCode(t[e++]<<8|t[e++]);return r}const Pu=e=>e.replace(/\+([A-Za-z0-9/]*)-?/gi,((e,t)=>""===t?"+":Ku(t))),Du=e=>e.replace(/&([^-]*)-/g,((e,t)=>""===t?"&":Ku(t.replace(/,/g,"/"))));var Uu=new Map,Cu=new Map,Iu=new Map;function _u(e,t,r){var n=e.toLowerCase();Uu.set(n,t),Cu.set(n,r),Iu.set(n,e)}function Tu(e){let t=this;return e.reduce((function(e,r){return e.concat(t.parseAddressingHeader(r,!0))}),[])}function Ru(e){Array.isArray(e)||(e=[e]),this.addAddresses(e)}function Mu(e,t,r){return this.parseParameterHeader(e[0],t,r)}function Ou(e){return this.decodeRFC2047Words(e[0])}function Bu(e){this.addUnstructured(e)}function Lu(e){return this.decodeRFC2047Words(e[0])}function Nu(e){this.addUnstructured(e)}function Fu(e){return this.parseDateHeader(e[0])}function ju(e){this.addDate(e)}function zu(e){let t,r=/<[^>]*>/g,n=[];for(;null!==(t=r.exec(e));)n.push(t[0]);return n.join(" ")}_u("Bcc",Tu,Ru),_u("Cc",Tu,Ru),_u("From",Tu,Ru),_u("Reply-To",Tu,Ru),_u("Resent-Bcc",Tu,Ru),_u("Resent-Cc",Tu,Ru),_u("Resent-From",Tu,Ru),_u("Resent-Reply-To",Tu,Ru),_u("Resent-Sender",Tu,Ru),_u("Resent-To",Tu,Ru),_u("Sender",Tu,Ru),_u("To",Tu,Ru),_u("Approved",Tu,Ru),_u("Disposition-Notification-To",Tu,Ru),_u("Delivered-To",Tu,Ru),_u("Return-Receipt-To",Tu,Ru),_u("Mail-Reply-To",Tu,Ru),_u("Mail-Followup-To",Tu,Ru),Uu.set("Content-Type",(function(e){let t=Mu.call(this,e,!1,!1),r=t.preSemi.split("/");2!=r.length&&(t=new Map,r=["text","plain"]);let n=r[0].toLowerCase(),i=r[1].toLowerCase(),a=n+"/"+i,s=new Map;return s.mediatype=n,s.subtype=i,s.type=a,t.forEach((function(e,t){s.set(t.toLowerCase(),e)})),s})),_u("Comments",Ou,Bu),_u("Keywords",Ou,Bu),_u("Subject",Ou,Bu),_u("MIME-Version",Ou,Bu),_u("Content-Description",Ou,Bu),_u("User-Agent",Ou,Bu),_u("Date",Fu,ju),_u("Resent-Date",Fu,ju),_u("Expires",Fu,ju),_u("Injection-Date",Fu,ju),_u("NNTP-Posting-Date",Fu,ju),_u("Message-ID",Lu,Nu),_u("Resent-Message-ID",Lu,Nu),Uu.set("Content-Transfer-Encoding",(function(e){return e[0].toLowerCase()})),Cu.set("Content-Transfer-Encoding",Bu),Uu.set("References",zu),Uu.set("In-Reply-To",zu);const Hu={};function qu(e){return e=(e=(e=(e=(e=(e=e.replace(/[\xA0\u1680\u2000-\u200A\u202F\u205F\u3000]/g," ")).replace(/[\u034F\u17B4\u17B5\u180B-\u180D\uFE00-\uFE0F]/g,"")).replace(/\uDB40[\uDD00-\uDDEF]/g,"")).replace(/(?![\t\n\r])[\0-\x1F\x7F-\x9F]/g,"")).replace(/(?:[\xAD\u061C\u06DD\u070F\u08E2\u180E\u200B-\u200F\u202A-\u202E\u2060-\u2064\u2066-\u206F\uFEFF\uFFF9-\uFFFB]|\uD804[\uDCBD\uDCCD]|\uD80D[\uDC30-\uDC38]|\uD82F[\uDCA0-\uDCA3]|\uD834[\uDD73-\uDD7A]|\uDB40[\uDC01\uDC20-\uDC7F])/g," ")).replace(/\u2800/g," ")}function Gu(e,t,r){let n,i=[];function a(e){this.token=e.replace(/\\(.?)/g,"$1")}a.prototype.toString=function(){return this.token};let s,o=0,c=e.length;for(let u=0;u<c;u++){let c=e[u];if("\\"==c){u++;continue}if(void 0!==s){if(c==s&&'"'==c){let t=e.slice(n+1,u);r.rfc2047&&(t=Vu(t)),i.push(new a(t)),s=void 0,n=void 0}else c==s&&"]"==c&&(i.push(new a(e.slice(n,u+1))),s=void 0,n=void 0);continue}if(r.rfc2047&&"="==c&&u+1<e.length&&"?"==e[u+1]){let t=/([ \t\r\n]*=\?[^?]*\?[BbQq]\?[^?]*\?=)+/.exec(e.slice(u));if(null!==t){void 0!==n&&(i.push(new a(e.slice(n,u))),n=void 0);let r=t[0].length,s=Vu(e.slice(u,u+r));i.push({toString:()=>s}),u+=r-1;continue}}let h=!1,l=!1,y=!1;" \t\r\n".includes(c)?h=!0:0==o&&t.includes(c)?(h=!0,y=!0):r.qstring&&'"'==c?(h=!0,l=!0,s=c):r.dliteral&&"["==c?(h=!0,l=!0,s="]"):r.comments&&"("==c?(o++,1==o?(h=!0,y=!0):l=!0):r.comments&&")"==c?(o>0&&o--,0==o?(h=!0,y=!0):l=!0):l=!0,h&&void 0!==n&&(i.push(new a(e.slice(n,u))),n=void 0),y&&i.push(c),l&&void 0===n&&(n=u)}return void 0!==n&&('"'==s?i.push(new a(e.slice(n+1))):i.push(new a(e.slice(n)))),i}function Vu(e){let t,r="";function n(e,n){let i=e.split("?");if(5!=i.length||"="!=i[4])return!1;let a,s=i[1].split("*",1)[0],o=i[2],c=i[3];if("B"==o||"b"==o){if(/[^ A-Za-z0-9+/=]/.exec(c))return!1;a=vu(c,!1)[0]}else{if("Q"!=o&&"q"!=o)return!1;a=wu(c.replace(/_/g," "))[0]}let u=a;a=bu(a);var h="";if(s!=r&&t&&(h+=t.decode(),t=null),r=s,!t)try{t=new xu(s,{fatal:!1})}catch(e){return!1}let l;return l=n||"ISO-2022-JP"==s.toUpperCase()&&u.endsWith("(B")?{stream:!1}:{stream:!0},h+t.decode(a,l)}let i=e.split(/(=\?[^?]*\?[BQbq]\?[^?]*\?=)/),a=-1;for(let e=0;e<i.length;e++)"=?"==i[e].substring(0,2)&&(a=e);for(let e=0;e<i.length;e++){if("=?"==i[e].substring(0,2)){let t=n(i[e],e==a);if(!1!==t){i[e]=t;continue}}else if(/^[ \t\r\n]*$/.exec(i[e])){i[e]="";continue}r="",t&&(i[e]=t.decode()+i[e],t=null)}return i.join("")}function Wu(e){let t=e.indexOf("'"),r=t>=0?e.indexOf("'",t+1):-1,n=t>=0?e.substring(0,t):"",i=bu(e=e.substring(Math.max(t,r)+1));return new xu(n,{fatal:!0}).decode(i,{stream:!1})}var $u={UT:"+0000",GMT:"+0000",EST:"-0500",EDT:"-0400",CST:"-0600",CDT:"-0500",MST:"-0700",MDT:"-0600",PST:"-0800",PDT:"-0700",AST:"-0400",NST:"-0330",BST:"+0100",MET:"+0100",EET:"+0200",JST:"+0900"};var Yu=new Map,Xu=new Set;for(let e of Uu)Qu(e[0],e[1]),Xu.add(e[0].toLowerCase());function Qu(e,t){let r=e.toLowerCase();if(Xu.has(r))throw new Error("Cannot override header: "+e);Yu.set(r,t),Iu.has(r)||Iu.set(r,e)}Hu.addStructuredDecoder=Qu,Hu.convert8BitHeader=function(e,t){if(/[\x80-\xff]/.exec(e)){let r=bu(e),n=new xu("utf-8",{fatal:t&&!t.toLowerCase().startsWith("utf")});try{e=n.decode(r)}catch(n){try{e=new xu(t,{fatal:!1}).decode(r)}catch(e){}}}return e},Hu.decodeRFC2047Words=Vu,Hu.getHeaderTokens=Gu,Hu.parseAddressingHeader=function(e,t){void 0===t&&(t=!0);let r=[],n=[],i="",a="",s="",o="",c="",u=!1,h=!1,l=!1,y=!1,p=!1,f=!1,d="";function g(e,t){let r=t.substring(0,t.lastIndexOf("@"));if(null!==/[ !()<>[\]:;@\\,"]/.exec(r)&&(t='"'+r.replace(/([\\"])/g,"\\$1")+'"'+t.substring(t.lastIndexOf("@"))),""===(e=e.replace(/\s+/g," ").trim())&&""!==d){let t=" "===d[0]?2:1;e=d.substr(t,d.length-t-1)}""===e&&""===t||n.push({name:e,email:t}),i=s=o=d="",u=h=l=y=!1}for(let m of Gu(e,":,;<>@",{qstring:!0,comments:!0,dliteral:!0,rfc2047:t})){if(":"===m)a=i,i="",s="",n.length>0&&(r=r.concat(n)),n=[];else if("<"!==m||y)if(">"!==m||y)if("("===m)h=!0,p=l,l||(l=""!==i&&" "!==i.substr(-1)),c=l?" (":"(",f=!1;else{if(")"===m){h=!1,c+=")",d=c,u?l=p:(i+=c,l=!0),f=!0;continue}if("@"===m){if(y)continue;u||(o=s,i="",s="",u=!0),o+="@"}else if(","===m)g(i,o),y=!1;else{if(";"!==m){m=qu(m.toString());let e=m;l&&m&&"."!=m[0]&&(e=" "+e),h?c+=e:u?o+=e:(y||(i+=e),f?(s+=m,f=!1):s+=e),l=m&&"."!=m[0];continue}g(i,o),""===a?r=r.concat(n):r.push({name:a,group:n}),n=[],a=""}}else u=!1,d="",y=!0;else u?(o.length>0&&(i=o),s=o=""):u=!0;l=!1}return g(i,o),""!==a&&(r.push({name:a,group:n}),n=[]),r.concat(n)},Hu.parseDateHeader=function(e){let t=Gu(e,",:",{}).map((e=>e.toString()));if(t.length>1&&","===t[1]&&(t=t.slice(2)),t.length<8)return new Date(NaN);let r=parseInt(t[0]),n=parseInt(t[2]),i=parseInt(t[3]),a=parseInt(t[5]),s=parseInt(t[7]),o=Au.indexOf(t[1].slice(0,3));o<0&&(o=NaN),n<100&&(n+=n<50?2e3:1900);let c=t[8];c in $u&&(c=$u[c]);let u=/^([+-])(\d\d)(\d\d)$/.exec(c);null===u&&(u=["+0000","+","00","00"]);let h=60*parseInt(u[2])+parseInt(u[3]);return"-"==u[1]&&(h=-h),new Date(Date.UTC(n,o,r,i,a,s)-60*h*1e3)},Hu.parseParameterHeader=function(e,t,r){var n=e.indexOf(";");let i,a;n<0?(i=e,a=""):(i=e.substring(0,n),a=e.substring(n)),i=i.trim().split(/[ \t\r\n]/)[0];let s={qstring:!0,rfc2047:t},o="",c=!0,u=[];for(let e of Gu(a,";=",s))";"===e?(""==o||c||u.push([o,""]),o="",c=!0):"="===e?c=!1:c&&""==o?o=e.toString():c||""==o?c&&(o=""):(e=e.toString(),r&&o.endsWith("*")&&(e=e.replace(/%([0-9A-Fa-f]{2})/g,(function(e,t){return String.fromCharCode(parseInt(t,16))}))),u.push([o,e]),o="");""==o||c||u.push([o,""]);var h=new Map,l=new Map,y=new Map;for(let e of u){let t=e[0],r=e[1],n=t.indexOf("*");if(-1==n)h.has(t)||h.set(t,r);else if(n==t.length-1)t=t.substring(0,n),l.has(t)||l.set(t,r);else{let e=t.substring(0,n),i=y.get(e);if(y.has(e)&&!i.valid)continue;y.has(e)||(i=[],i.valid=!0,i.hasCharset=void 0,y.set(e,i));let a="*"==t[t.length-1],s=t.substring(n+1,t.length-(a?1:0));if("0"==s)i.hasCharset=a;else if(0==s.length||"0"==s[0]&&"0"!=s||!/^[0-9]+$/.test(s)){i.valid=!1;continue}if(s=parseInt(s,10),void 0!==i[s]){i.valid=!1;continue}i[s]=r}}var p=new Map;for(let e of h)p.set(e[0],e[1]);if(r){for(let e of y){let t=e[0],r=e[1];if(void 0===r.hasCharset)continue;let n=!0;for(var f=0;n&&f<r.length;f++)void 0===r[f]&&(n=!1);let i=r.slice(0,f).join("");if(r.hasCharset)try{i=Wu(i)}catch(e){continue}p.set(t,i)}for(let e of l)try{p.set(e[0],Wu(e[1]))}catch(e){}}return p.preSemi=i,p},Hu.parseStructuredHeader=function(e,t){if(("string"==typeof t||t instanceof String)&&(t=[t]),!Array.isArray(t))throw new TypeError("Header value is not an array: "+t);let r=e.toLowerCase();if(Yu.has(r))return Yu.get(r).call(Hu,t);throw new Error("Unknown structured header: "+e)};const Zu=Object.freeze(Hu);function Ju(e,t){let r=e.split(/(?:\r\n|\n)(?![ \t])|\r(?![ \t\n])/);r.length>0&&"From "==r[0].substring(0,5)&&(r.shift(),e=0==r.length?"":e.substring(e.indexOf(r[0])));let n=new Map;for(let e=0;e<r.length;e++){let i,a,s=r[e].indexOf(":");s>=0?(i=r[e].substring(0,s),a=r[e].substring(s+1).trim(),t.stripcontinuations&&(a=a.replace(/[\r\n]/g,""))):(i=r[e],a=""),i=i.trim().toLowerCase(),""!=i&&(n.has(i)?n.get(i).push(a):n.set(i,[a]))}this._rawHeaders=n,this._cachedHeaders=new Map,Object.defineProperty(this,"rawHeaderText",{get:()=>e}),Object.defineProperty(this,"size",{get(){return this._rawHeaders.size}}),Object.defineProperty(this,"charset",{get(){return this._charset},set(e){this._charset=e,this._cachedHeaders.clear()}}),this._charset="charset"in t?t.charset:null,Object.defineProperty(this,"contentType",{configurable:!0,get(){return this.get("Content-Type")}})}Ju.prototype.getRawHeader=function(e){return this._rawHeaders.get(e.toLowerCase())},Ju.prototype.get=function(e){if(e=e.toLowerCase(),this._cachedHeaders.has(e))return this._cachedHeaders.get(e);let t=this._rawHeaders.get(e);if(void 0===t)return t;let r,n=this.charset;t=t.map((function(e){return Zu.convert8BitHeader(e,n)}));try{r=Zu.parseStructuredHeader(e,t)}catch(e){r=t.map((function(e){return Zu.decodeRFC2047Words(e)}))}return this._cachedHeaders.set(e,r),r},Ju.prototype.has=function(e){return this._rawHeaders.has(e.toLowerCase())};var eh="function"==typeof Symbol?Symbol.iterator:"@@iterator";function th(e,t){if(this._emitter=e,this._options={pruneat:"",bodyformat:"nodecode",strformat:"binarystring",stripcontinuations:!0,charset:"","force-charset":!1,onerror:()=>{}},t)for(var r in t)this._options[r]=t[r];if("function"!=typeof this._options.onerror)throw new Error("onerror callback must be a function");this.resetParser()}function rh(e){let t=e.lastIndexOf("\r",e.length-2),r=e.lastIndexOf("\n"),n=r>t?r:t;return[e.substring(0,n+1),e.substring(n+1)]}Ju.prototype[eh]=function*(){for(let e of this.keys())yield[e,this.get(e)]},Ju.prototype.forEach=function(e,t){for(let[r,n]of this)e.call(t,n,r,this)},Ju.prototype.entries=Ju.prototype[Symbol.iterator],Ju.prototype.keys=function*(){for(let t of this._rawHeaders.keys())yield Iu.get(t)||(e=t,e.replace(/\b[a-z]/g,(function(e){return e.toUpperCase()})));var e},Ju.prototype.values=function*(){for(let[,e]of this)yield e},th.prototype.resetParser=function(){this._state=nh,this._holdData="",this._headerData="",this._triggeredCall=!1,this._splitRegex=this._handleSplit=void 0,this._subparser=this._subPartNum=void 0,this._savedBuffer="",this._convertData=void 0,this._decoder=void 0},th.prototype.deliverData=function(e){this._holdData&&(e=this._holdData+e,this._holdData=""),e.length>0&&([e,this._holdData]=rh(e)),0!=e.length&&(this._triggeredCall||(this._callEmitter("startMessage"),this._triggeredCall=!0),this._dispatchData("",e,!0))},th.prototype.deliverEOF=function(){this._triggeredCall||(this._triggeredCall=!0,this._callEmitter("startMessage")),this._holdData&&this._dispatchData("",this._holdData,!0),this._dispatchEOF(""),this._callEmitter("endMessage")},th.prototype._callEmitter=function(e,...t){if(this._emitter&&e in this._emitter){if(t.length>0&&this._willIgnorePart(t[0]))return;try{this._emitter[e].apply(this._emitter,t)}catch(e){this._options.onerror(e)}}},th.prototype._willIgnorePart=function(e){if(this._options.pruneat){let t=this._options.pruneat;if(e.substr(0,t.length)!=t||t.length<e.length&&!"$.".includes(e[t.length]))return!0}return!1};var nh=1;th.prototype._dispatchData=function(e,t,r){if(this._state==nh){this._headerData+=t;let r=/(?:^(?:\r\n|[\r\n]))|(\r\n|[\r\n])\1/.exec(this._headerData);if(null==r)return;{let n=this._headerData.substr(0,r.index);t=this._headerData.substring(r.index+r[0].length),this._headerData=n,this._headers=this._parseHeaders(),this._callEmitter("startPart",e,this._headers),this._startBody(e)}}if(r&&this._splitRegex){let r=this._splitRegex.exec(t);if(r){let n=r.index,i=r[0].length;return n>0&&this._dispatchData(e,t.substr(0,n),!1),this._handleSplit(e,r),void((t=t.substring(n+i)).length>0&&this._dispatchData(e,t,!0))}}if(2==this._state);else if(3==this._state){if(!("none"!=this._options.bodyformat)||this._willIgnorePart(e))return;const{coerced:r,raw:n}=this._applyDataConversion(t,this._options.strformat);this._callEmitter("deliverPartData",e,r,n)}else if(4==this._state){const{coerced:e}=this._applyDataConversion(t,"binarystring");t.length>0&&this._subparser._dispatchData(this._subPartNum,e,!0)}},th.prototype._applyDataConversion=function(e,t){return this._convertData&&(e=this._savedBuffer+e,[e,this._savedBuffer]=this._convertData(e,!0)),{coerced:this._coerceData(e,t,!1),raw:e instanceof Uint8Array?e:bu(e)}},th.prototype._coerceData=function(e,t,r){if("string"==typeof e){if("binarystring"==t)return e;var n=bu(e);return"unicode"==t?this._coerceData(n,"unicode",r):n}if("binarystring"==t)return ku(e);if("unicode"==t)return this._decoder?this._decoder.decode(e,{stream:r}):e;throw new Error("Invalid type: "+t)},th.prototype._dispatchEOF=function(e){if(this._state==nh)this._headers=this._parseHeaders(),this._callEmitter("startPart",e,this._headers);else if(4==this._state)this._convertData&&this._savedBuffer&&this._subparser._dispatchData(this._subPartNum,this._convertData(this._savedBuffer,!1)[0],!0),this._subparser._dispatchEOF(this._subPartNum),this._subparser=null;else if(this._convertData&&this._savedBuffer){let[t]=this._convertData(this._savedBuffer,!1);t=this._coerceData(t,this._options.strformat,!1),t.length>0&&this._callEmitter("deliverPartData",e,t)}this._callEmitter("endPart",e)},th.prototype._parseHeaders=function(){let e=new Ju(this._headerData,this._options),t=e.get("Content-Type");void 0===t?(t=Zu.parseStructuredHeader("Content-Type",this._defaultContentType||"text/plain"),Object.defineProperty(e,"contentType",{get:()=>t})):Object.defineProperty(e,"contentType",{configurable:!1});let r="";return r=this._options["force-charset"]?this._options.charset:t.has("charset")?t.get("charset"):this._options.charset,e.charset=r,this._charset=r,e},th.prototype._startBody=function(e){let t=this._headers.contentType;if("raw"!=this._options.bodyformat||e!=this._options.pruneat){if("multipart"==t.mediatype){if(!t.has("boundary"))return void(this._state=2);this._splitRegex=new RegExp("(\r\n|[\r\n]|^)--"+t.get("boundary").replace(/[\\^$*+?.()|{}[\]]/g,"\\$&")+"(--)?[ \t]*(?:\r\n|[\r\n]|$)"),this._handleSplit=this._whenMultipart,this._subparser=new th(this._emitter,this._options),"digest"==t.subtype&&(this._subparser._defaultContentType="message/rfc822"),this._state=2,this._convertData=function(e,t){let r=e.length;t&&("\n"==e.charAt(r-1)&&r--,r>=0&&"\r"==e.charAt(r-1)&&r--);let n=rh(e.substring(0,r));return[n[0],n[1]+e.substring(r)]}}else if("message/rfc822"==t.type||"message/global"==t.type||"message/news"==t.type){this._state=4,this._subPartNum=e+"$",this._subparser=new th(this._emitter,this._options);let t=this._extractHeader("content-transfer-encoding","");t in ih&&(this._convertData=ih[t])}else if(this._state=3,"decode"==this._options.bodyformat){let e=this._extractHeader("content-transfer-encoding","");e in ih&&(this._convertData=ih[e])}if("unicode"==this._options.strformat&&"text"==t.mediatype){if(this._decoder=null,""!==this._charset)try{this._decoder=new xu(this._charset)}catch(e){console.error(e)}this._decoder||(this._decoder={decode:e=>th.prototype._coerceData(e,"binarystring",!0)})}else this._decoder=null}else this._state=3},th.prototype._whenMultipart=function(e,t){if(""!=e&&(e+="."),this._subPartNum){if(""!=this._savedBuffer&&""===t[1]){let e=this._savedBuffer.length-1;"\n"==this._savedBuffer[e]&&e--,e>=0&&"\r"==this._savedBuffer[e]&&e--,this._savedBuffer=this._savedBuffer.substring(0,e+1)}""!=this._savedBuffer&&this._subparser._dispatchData(this._subPartNum,this._savedBuffer,!0),this._subparser._dispatchEOF(this._subPartNum)}else this._count=1;this._savedBuffer="",null==t[2]?(this._subparser.resetParser(),this._state=4,this._subPartNum=e+this._count,this._count+=1):(this._splitRegex=null,this._state=2)},th.prototype._extractHeader=function(e,t){return e=e.toLowerCase(),this._headers.has(e)?this._headers.get(e):Zu.parseStructuredHeader(e,[t])};var ih={};ih["quoted-printable"]=wu,ih.base64=vu;const ah=th;var sh={getAttachmentName(e){if(!e||!e.headers)return"";if(e.headers["content-disposition"]){let t=uh.getParameter(e.headers["content-disposition"][0],"filename");if(t)return t}if(e.headers["content-type"]){let t=uh.getParameter(e.headers["content-type"][0],"name");if(t)return t}return""},isAttachment(e){if(!e)return!1;let t=e.contentType||"text/plain";if(0===t.search(/^multipart\//i))return!1;let r="";return Array.isArray(e.headers["content-disposition"])&&e.headers["content-disposition"].length>0&&(r=e.headers["content-disposition"][0]),0===r.search(/^attachment/i)||-1===t.search(/^text\/plain|^text\/html|^text\/enriched/i)},startMessage(){this.mimeTree={partName:"",contentType:"message/rfc822",parts:[],size:0,headers:{},rawHeaderText:"",allAttachments:[],bodyParts:{text:[],html:[]},isEncrypted:!1},this.partsPath=[this.mimeTree],this.options=this.options||{}},endMessage(){this.mimeMsg=null,0!=this.mimeTree.parts.length&&(this.options.getMimePart?this.mimeTree.parts[0].partName==this.options.getMimePart&&(this.mimeMsg=this.mimeTree.parts[0],this.mimeMsg.bodyAsTypedArray=bu(this.mimeMsg.body)):this.mimeMsg=this.mimeTree)},startPart(e,t){let r=new TextEncoder,n=t.contentType&&t.contentType.type?t.contentType.type:"text/plain",i=t.rawHeaderText,a={};for(let[e,n]of t._rawHeaders){let t=Array.isArray(n)?n:[n];a[e]=t.map((e=>ku(r.encode(e))))}let s=this.partsPath[this.partsPath.length-1],o="1"+(""!==e?".":"")+e;"1"==o&&(s.rawHeaderText=i,i=i.split(/\n(?![ \t])/).filter((e=>e.toLowerCase().startsWith("content-"))).join("\n").trim(),s.headers=a,a=Object.fromEntries(Object.entries(a).filter((e=>e[0].startsWith("content-"))))),a["content-type"]||(a["content-type"]=["text/plain"]);let c={partName:o,rawBody:null,body:"",headers:a,rawHeaderText:i,contentType:n,size:0,parts:[],isEncrypted:!1};s.parts.push(c),this.partsPath.push(c)},endPart(e){let t=!1,r=this.partsPath[this.partsPath.length-1],n=r.body.length;if(r.size+=n,this.isAttachment(r)){r.fileName=this.getAttachmentName(r);const e=r.headers["content-disposition"]&&r.headers["content-disposition"][0],n=r.headers["content-id"]&&r.headers["content-id"][0];r.contentDisposition=e?e.split(";").shift():void 0,r.contentId=n||void 0,this.options.includeAttachments?this.mimeTree.allAttachments.push(r):t=!0}else if(r.rawBody){delete r.rawBody;switch(r.contentType||"text/plain"){case"text/html":this.mimeTree.bodyParts.html.push(r.body);break;case"text/plain":this.mimeTree.bodyParts.text.push(r.body)}}t&&(delete r.body,delete r.rawBody),r.headers=Object.fromEntries(Object.entries(r.headers).filter((e=>!["content-disposition","content-transfer-encoding"].includes(e[0])))),this.partsPath.pop(),r=this.partsPath[this.partsPath.length-1],r.size+=n},deliverPartData(e,t,r){let n=this.partsPath[this.partsPath.length-1];n.body+="string"==typeof t?t:ku(t),null===n.rawBody?n.rawBody=r:n.rawBody=function(e){if(1===e.length)return e[0];let t=0;for(let r=0;r<e.length;r++){if(!(e[r]instanceof Uint8Array))throw new Error("concatArrays: Data must be in the form of a Uint8Array");t+=e[r].length}const r=new Uint8Array(t);let n=0;return e.forEach((e=>{r.set(e,n),n+=e.length})),r}([n.rawBody,r])}},oh={startPart(e,t){""==e&&(this.headers=t)}},ch={body:"",startPart:oh.startPart,deliverPartData(e,t){""==e&&(this.body+=t)}};const uh={getParameter(e,t){t=t.toLowerCase(),e=e.replace(/[\r\n]+[ \t]+/g,"");let r=Zu.parseParameterHeader(";"+e,!0,!0);for(let[e,n]of r.entries())if(t==e.toLowerCase())return n;return""},parseSync(e,t,r){if("string"!=typeof e)throw new Error("input is not a recognizable type!");var n=new ah(t,r);n.deliverData(e),n.deliverEOF()},makeParser:(e,t)=>new ah(e,t),extractMimeMsg(e,t={}){var r=Object.create(sh);r.options={includeAttachments:!0,getMimePart:""};for(let e of Object.keys(t))r.options[e]=t[e];return uh.parseSync(e,r,{pruneat:r.options.getMimePart.split(".").slice(1).join("."),bodyformat:"decode",stripcontinuations:!0,strformat:"unicode"}),r.mimeMsg},extractHeaders(e){var t=Object.create(oh);return uh.parseSync(e,t,{pruneat:"",bodyformat:"none"}),t.headers},extractHeadersAndBody(e){var t=Object.create(ch);return uh.parseSync(e,t,{pruneat:"",bodyformat:"raw"}),[t.headers,t.body]},HEADER_UNSTRUCTURED:0,HEADER_PARAMETER:2,HEADER_ADDRESS:3,HEADER_OPTION_DECODE_2231:16,HEADER_OPTION_DECODE_2047:32,HEADER_OPTION_ALLOW_RAW:64,HEADER_OPTION_ALL_I18N:112,parseHeaderField(e,t,r){switch(t&uh.HEADER_OPTION_ALLOW_RAW&&(e=Zu.convert8BitHeader(e,r)),15&t){case uh.HEADER_UNSTRUCTURED:return t&uh.HEADER_OPTION_DECODE_2047&&(e=Zu.decodeRFC2047Words(e)),e;case uh.HEADER_PARAMETER:return Zu.parseParameterHeader(e,0!=(t&uh.HEADER_OPTION_DECODE_2047),0!=(t&uh.HEADER_OPTION_DECODE_2231));case uh.HEADER_ADDRESS:return Zu.parseAddressingHeader(e,0!=(t&uh.HEADER_OPTION_DECODE_2047));default:throw new Error("Illegal type of header field")}}};function hh(e){const t="string"==typeof e?(new TextEncoder).encode(e):e,{headers:r,allAttachments:n,bodyParts:i}=uh.extractMimeMsg(ku(t)),a=new Set(["message-id","content-id","from","sender","in-reply-to","reply-to","subject","date","content-disposition","content-type","content-transfer-encoding","priority","mime-version","content-description","precedence","errors-to"]),s={headers:r,attachments:n.map((({parts:e,partName:t,body:r,isEncrypted:n,rawBody:i,...a})=>({...a,content:i||new Uint8Array}))),body:{html:i.html.length?i.html.join("<br>\n").replace(/\r?\n/g,"\n"):null,text:i.text.length?i.text.join("\n").replace(/\r?\n/g,"\n"):null}};return["subject","date","to","from","to","cc","bcc","message-id","in-reply-to","reply-to"].forEach((e=>{if(!r[e])return;const t=r[e]&&Zu.parseStructuredHeader(e,r[e]);s[e]=a.has(e)&&Array.isArray(t)?t[t.length-1]:t})),s}const lh={"application/octet-stream":"bin","application/x-rar-compressed":"rar","application/x-zip-compressed":"zip","application/zip":"zip","application/x-7z-compressed":"7z","application/x-arj":"arj","application/x-debian-package":"deb","application/x-redhat-package-manager":"rpm","application/x-rpm":"rpm","application/vnd.rar":"rar","application/gzip":"gz","application/x-gzip":"gz","application/x-compress":"z","application/vnd.apple.installer+xml":"pkg","application/msword":"doc","application/vnd.openxmlformats-officedocument.wordprocessingml.document":"docx","application/vnd.ms-powerpoint":"ppt","application/vnd.openxmlformats-officedocument.presentationml.presentation":"pptx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":"xlsx","application/vnd.oasis.opendocument.spreadsheet":"ods","application/vnd.oasis.opendocument.presentation":"odp","application/xliff+xml":"xlf","application/xml":"xml","text/html":"html","application/xhtml+xml":"xhtml","application/pgp-keys":"asc","application/rtf":"rtf","application/x-tex":"tex","application/vnd.oasis.opendocument.text":"odt","application/vnd.wordperfect":"wpd","application/vnd.ms-fontobject":"eot","application/font-sfnt":"ttf","application/vnd.oasis.opendocument.formula-template":"odft","application/x-bzip":"bz","application/x-bzip2":"bzip2","application/epub+zip":"epub","application/javascript":"js","application/json":"json","application/pdf":"pdf","application/pgp-encrypted":"pgp","application/pgp-signature":"asc","application/pkcs7-mime":"p7m","application/pkcs7-signature":"p7s","audio/aac":"aac","audio/midi":"midi","audio/x-midi":"midi","audio/ogg":"oga","audio/mp3":"mp3","audio/mp4":"m4a","audio/mpeg":"mpga","font/otf":"otf","font/ttf":"ttf","font/woff":"woff","font/woff2":"woff2","image/avif":"avif","image/bmp":"bmp","image/jpeg":"jpeg","image/png":"png","image/svg+xml":"svg","image/tiff":"tif","message/rfc822":"eml","text/calendar":"ics","text/css":"css","text/csv":"csv","text/markdown":"md","text/plain":"txt","text/richtext":"rtx","text/vcard":"vcard","text/xml":"xml","text/yaml":"yaml","video/x-msvideo":"avi","video/mp4":"mp4","video/mpeg":"mpeg","video/quicktime":"mov","video/webm":"webm","video/ogg":"ogv"},yh=(e,t)=>{const r=!e&&t?lh[t]:"",n=e||(r?`attachment.${r}`:"attachment");return n.split(/[/\\]+/).pop()?.replace(/^\.+/,"")||"attachment"},ph=async({verificationKeys:e=[],date:t=hc()},r)=>{const{headers:n}=await hh(r.split(/\r?\n\s*\r?\n/g)[0]+"\n\n"),[i]=n["content-type"]||[""],[a]=i.split(";");if("multipart/signed"!==a.toLowerCase())return{subdata:r,verified:0,signatures:[]};const[,s]=/boundary\s*=\s*([^;]*)\s*(;|$)/gi.exec(i)||[];if(!s)return{subdata:r,verified:0,signatures:[]};const o='"'===s[0]&&JSON.parse(s)||s,[c]=r.split(`\n--${o}--\n`),u=c.split(`\n--${o}\n`);if(u.length<3)return{subdata:r,verified:0,signatures:[]};const{attachments:[h]=[]}=await hh(u[2].trim()),{contentType:l="",content:y=new Uint8Array}=h||{};if("application/pgp-signature"!==l.toLowerCase())return{subdata:r,verified:0,signatures:[]};const p=function(e){const t=new TextDecoder;if(e instanceof Uint8Array)return t.decode(e);const r=e.getReader();return new ReadableStream({async pull(e){const{value:n,done:i}=await r.read();i?(e.enqueue(t.decode(new Uint8Array,{stream:!1})),e.close()):e.enqueue(t.decode(n,{stream:!0}))},cancel(){r.cancel()}})}(y);let f;try{f=await Fs({armoredSignature:p})}catch{return console.error("Failed to read signature over MIME message"),{subdata:r,verified:0,signatures:[]}}const d=u[1],{data:g,verified:m,signatures:w}=await su({textData:Hc(d).replaceAll("\n","\r\n"),verificationKeys:e,date:t,signature:f});return{subdata:g,verified:m,signatures:w}};async function fh({data:e,...t}){const{subdata:r,verified:n,signatures:i}=await ph(t,e);return(async({headerFilename:e="Encrypted Headers.txt",sender:t=""},r="",n=lc.NOT_SIGNED,i=[])=>{const{attachments:a=[],body:{text:s="",html:o=""},subject:c=""}=await hh(r);let u;const h=[],l={};for(const r of a){let n=yh(r.fileName,r.contentType);l[n]?n=`${n} (${l[n]++})`:l[n]=1;const i={...r,fileName:n,contentId:r.contentId||`<${$o(crypto.getRandomValues(new Uint8Array(16)))}@pmcrypto>`};if(h.push(i),r.fileName||"text/rfc822-headers"!==r.contentType||r.content.length>1024)continue;i.fileName=`${e}.txt`,i.contentDisposition="attachment";const{from:a,subject:s}=await hh(r.content);s&&a&&a.email.toLowerCase()===t.toLowerCase()&&(u=u||s)}const y=u||c;if(null!==o)return{body:o,attachments:h,verified:n,encryptedSubject:y,mimeType:"text/html",signatures:i};if(null!==s)return{body:s,attachments:h,verified:n,encryptedSubject:y,mimeType:"text/plain",signatures:i};if(h.length)return{body:"",attachments:h,verified:n,encryptedSubject:y,mimeType:void 0,signatures:i};throw new Error("No body or attachments found in the mime message")})(t,r,n,i)}const dh=e=>t=>void 0!==t?e(t):void 0,gh=dh((e=>unescape(encodeURIComponent(e)))),mh=dh((e=>decodeURIComponent(escape(e)))),wh=dh((e=>btoa(e).trim())),vh=dh((e=>atob(e.trim()))),bh=(dh((e=>wh(gh(e)))),dh((e=>mh(vh(e)))),e=>{const t="0123456789abcdef";let r="";return e.forEach((e=>{r+=t[e>>4]+t[15&e]})),r});const kh=async({armoredSignature:e,binarySignature:t})=>{if(e)return Fs({armoredSignature:e});if(t)return Fs({binarySignature:t});throw new Error("Must provide `armoredSignature` or `binarySignature`")},Ah=async({armoredMessage:e,binaryMessage:t})=>{if(e)return ko({armoredMessage:e});if(t)return ko({binaryMessage:t});throw new Error("Must provide `armoredMessage` or `binaryMessage`")},Eh=async({armoredKey:e,binaryKey:t})=>{if(e)return yo({armoredKey:e});if(t)return yo({binaryKey:t});throw new Error("Must provide `armoredKey` or `binaryKey`")},Sh=e=>Array.isArray(e)?e:[e],xh=async(e,t)=>{const r=e.isPrivate()?e.toPublic():e,n=e=>{switch(e.algorithm){case"eddsaLegacy":return{algorithm:"eddsa",curve:"ed25519Legacy"===e.curve?"ed25519":"curve25519"};case"ecdh":return{algorithm:"ecdh",curve:"curve25519Legacy"===e.curve?"curve25519":e.curve};case"ed448":case"x448":throw new Error("Unsupported algorithm");default:const t={algorithm:e.algorithm};return void 0!==e.curve&&(t.curve=e.curve),void 0!==e.bits&&(t.bits=e.bits),t}},i=r.getFingerprint(),a=r.getKeyID().toHex(),s=r.getKeyIDs().map((e=>e.toHex())),o=n(r.getAlgorithmInfo()),c=r.getCreationTime(),u=await r.getExpirationTime(),h=r.getUserIDs(),l=await sc(r.write()).then(bh);let y,p;if(r.users.some((e=>e.otherCertifications.length>0))){const e=r.clone();e.users.forEach((e=>{e.otherCertifications=[]})),y=await sc(e.write()).then(bh)}else y=l;try{!function(e){const t=new Set([re.curve.ed25519Legacy,re.curve.curve25519Legacy,re.curve.p256,re.curve.p384,re.curve.p521]),r=new Set([re.publicKey.rsaEncryptSign,re.publicKey.rsaSign,re.publicKey.rsaEncrypt,re.publicKey.ecdh,re.publicKey.ecdsa,re.publicKey.eddsaLegacy]);e.getKeys().forEach((({keyPacket:e})=>{const n=e.getAlgorithmInfo(),i=re.write(re.publicKey,n.algorithm);if(!r.has(i))throw new Error(`${n.algorithm} keys are considered unsafe`);if(n.curve&&!t.has(n.curve))throw new Error(`Keys using curve ${n.curve} are considered unsafe`);if(n.bits&&n.bits<2047)throw new Error("Keys shorter than 2047 bits are considered unsafe")}))}(r),p=!1}catch{p=!0}return{_idx:t,_keyContentHash:[l,y],isPrivate:()=>!1,getFingerprint:()=>i,getKeyID:()=>a,getKeyIDs:()=>s,getAlgorithmInfo:()=>o,getCreationTime:()=>c,getExpirationTime:()=>u,getUserIDs:()=>h,isWeak:()=>p,equals:(e,t=!1)=>t?e._keyContentHash[1]===y:e._keyContentHash[0]===l,subkeys:r.getSubkeys().map((e=>{const t=n(e.getAlgorithmInfo()),r=e.getKeyID().toHex();return{getAlgorithmInfo:()=>t,getKeyID:()=>r}}))}},Kh=async(e,t)=>({...await xh(e.toPublic(),t),isPrivate:()=>!0});class Ph{store=new Map;nextIdx=crypto.getRandomValues(new Uint32Array(1))[0];add(e,t){const r=void 0!==t?t:this.nextIdx;if(this.store.has(r))throw new Error(`Idx ${r} already in use`);return this.store.set(r,e),this.nextIdx++,r}get(e){const t=this.store.get(e);if(!t)throw new Error("Key not found");return t}clearAll(){this.store.forEach((e=>{e.isPrivate()&&e.clearPrivateParams()})),this.store.clear()}clear(e){const t=this.get(e);t.isPrivate()&&t.clearPrivateParams(),this.store.delete(e)}}class Dh{keyStore=new Ph;async clearKeyStore(){this.keyStore.clearAll()}async clearKey({key:e}){this.keyStore.clear(e._idx)}async generateKey(e){const t=e=>"ed25519"===e||"curve25519"===e?"ed25519Legacy":e,{privateKey:r}=await Xc({...e,curve:t(e.curve),subkeys:e.subkeys?.map((e=>({...e,curve:t(e.curve)}))),format:"object"});if(!r.isDecrypted())throw new Error('Unexpected "passphrase" option on key generation. Use "exportPrivateKey" after key generation to obtain a transferable encrypted key.');const n=this.keyStore.add(r);return Kh(r,n)}async reformatKey({privateKey:e,...t}){const r=this.keyStore.get(e._idx).clone(!0),{privateKey:n}=await Zc({...t,privateKey:r,format:"object"});if(!n.isDecrypted())throw new Error('Unexpected "passphrase" option on key reformat. Use "exportPrivateKey" after key reformatting to obtain a transferable encrypted key.');const i=this.keyStore.add(n);return Kh(n,i)}async importPrivateKey({armoredKey:e,binaryKey:t,passphrase:r,checkCompatibility:n},i){if(!e&&!t)throw new Error("Must provide `armoredKey` or `binaryKey`");const a=null===r,s=t?await po({binaryKey:t}):await po({armoredKey:e});let o;if(n&&cc(s),a){if(!s.isDecrypted())throw new Error("Provide passphrase to import an encrypted private key");o=s,await o.validate()}else{if(s.getKeys().some((e=>e.keyPacket.s2k&&"argon2"===e.keyPacket.s2k.type)))throw new Error("Keys encrypted using Argon2 are not supported yet");o=await async function({privateKey:e,passphrase:t,config:r,...n}){Ro(r={...ne,...r});const i=Object.keys(n);if(i.length>0)throw Error("Unknown option: "+i.join(", "));if(!e.isPrivate())throw Error("Cannot decrypt a public key");const a=e.clone(!0),s=ae.isArray(t)?t:[t];try{return await Promise.all(a.getKeys().map((e=>ae.anyPromise(s.map((t=>e.keyPacket.decrypt(t))))))),await a.validate(r),a}catch(e){throw a.clearPrivateParams(),ae.wrapError("Error decrypting private key",e)}}({privateKey:s,passphrase:r})}const c=this.keyStore.add(o,i);return Kh(o,c)}async importPublicKey({armoredKey:e,binaryKey:t,checkCompatibility:r},n){const i=await Eh({binaryKey:t,armoredKey:e});r&&cc(i);const a=this.keyStore.add(i,n);return xh(i,a)}async exportPublicKey({format:e="armored",key:t}){const r=this.keyStore.get(t._idx),n=r.isPrivate()?r.toPublic():r;return"binary"===e?n.write():n.armor()}async exportPrivateKey({format:e="armored",...t}){const{privateKey:r,passphrase:n}=t;if(!r.isPrivate())throw new Error("Private key expected");const i=this.keyStore.get(r._idx),a=null===n?i:await eu({privateKey:i,passphrase:n});return"binary"===e?a.write():a.armor()}}var Uh=function(e){return e[e.READ=0]="READ",e[e.CANCEL=1]="CANCEL",e}(Uh||{});const Ch=e=>"object"==typeof e&&e.getReader,Ih=e=>{const{port1:t,port2:r}=new MessageChannel;let n=null;return t.onmessage=async({data:{type:r}})=>{switch(r){case Uh.READ:null===n&&(n=e.getReader());const r=await n.read();t.postMessage(r,[]);break;case Uh.CANCEL:n?n.cancel():e.cancel();break;default:throw new Error("Unknown stream transfer control type")}},r},_h=e=>{const t=()=>(e.postMessage({type:Uh.READ}),new Promise((t=>{e.onmessage=({data:e})=>{t(e)}}))),r=()=>{e.postMessage({type:Uh.CANCEL})};return new ReadableStream({async pull(e){const{done:r,value:n}=await t();r?e.close():e.enqueue(n)},cancel(){r()}})},Th={canHandle:e=>"object"==typeof e&&void 0!==e._idx&&void 0!==e.isPrivate,serialize:e=>({...e,isPrivate:e.isPrivate(),getFingerprint:e.getFingerprint(),getKeyID:e.getKeyID(),getKeyIDs:e.getKeyIDs(),getAlgorithmInfo:e.getAlgorithmInfo(),getCreationTime:e.getCreationTime(),getExpirationTime:e.getExpirationTime(),getUserIDs:e.getUserIDs(),isWeak:e.isWeak(),equals:!1,subkeys:e.subkeys.map((e=>({getAlgorithmInfo:e.getAlgorithmInfo(),getKeyID:e.getKeyID()})))}),deserialize:e=>({...e,isPrivate:()=>e.isPrivate,getFingerprint:()=>e.getFingerprint,getKeyID:()=>e.getKeyID,getKeyIDs:()=>e.getKeyIDs,getAlgorithmInfo:()=>e.getAlgorithmInfo,getCreationTime:()=>e.getCreationTime,getExpirationTime:()=>e.getExpirationTime,getUserIDs:()=>e.getUserIDs,isWeak:()=>e.isWeak,equals:(t,r)=>r?t._keyContentHash[1]===e._keyContentHash[1]:t._keyContentHash[0]===e._keyContentHash[0],subkeys:e.subkeys.map((e=>({getAlgorithmInfo:()=>e.getAlgorithmInfo,getKeyID:()=>e.getKeyID})))})},Rh={_optionNames:["verificationKeys","signingKeys","encryptionKeys","decryptionKeys","privateKey","key","recipientKeys","targetKey","sourceKey","forwarderKey"],canHandle:e=>"object"==typeof e&&Rh._optionNames.some((t=>e[t])),serialize:e=>{const t={...e};return Rh._optionNames.forEach((r=>{e[r]&&(t[r]=Array.isArray(e[r])?e[r].map(Th.serialize):Th.serialize(e[r]))})),t},deserialize:e=>{const t={...e};return Rh._optionNames.forEach((r=>{e[r]&&(t[r]=Array.isArray(t[r])?e[r].map(Th.deserialize):Th.deserialize(e[r]))})),t}},Mh={canHandle:e=>"object"==typeof e&&e.algorithm&&Ch(e.dataStream),serialize:({dataStream:e,...t})=>({...t,dataStream:Ih(e)}),deserialize:({dataStream:e,...t})=>({...t,dataStream:_h(e)})},Oh=({message:e,name:t,stack:r})=>({isError:!0,value:{message:e,name:t,stack:r}}),Bh=e=>Object.assign(new Error(e.value.message),e.value),Lh={_binaryFieldNames:["message","signature","signatures","encryptedSignature","sessionKey"],_errorFieldNames:["errors","verificationErrors"],canHandle:e=>"object"==typeof e&&Lh._binaryFieldNames.some((t=>e[t])),serialize:e=>{const t={...e};return Lh._errorFieldNames.forEach((r=>{e[r]&&(t[r]=e[r].map(Oh))})),t},getTransferables:e=>Lh._binaryFieldNames.filter((t=>e[t]instanceof Uint8Array)).map((t=>e[t].buffer)).concat(e.signatures?e.signatures.map((e=>e.buffer)):[]),deserialize:e=>{const t={...e};return Lh._errorFieldNames.forEach((r=>{e[r]&&(t[r]=e[r].map(Bh))})),t}},Nh=[{name:"Uint8Array",workerHandler:{canHandle:e=>e instanceof Uint8Array,serialize:e=>[e,[e.buffer]],deserialize:e=>e},mainThreadHandler:{canHandle:e=>e instanceof Uint8Array,serialize:e=>[e,[]],deserialize:e=>e}},{name:"ComputeHashStreamOptions",workerHandler:{canHandle:Mh.canHandle,serialize:()=>[void 0,[]],deserialize:Mh.deserialize},mainThreadHandler:{canHandle:e=>"object"==typeof e&&Ch(e.dataStream),serialize:({dataStream:e,...t})=>{const r=Ih(e);return[{dataStream:r,...t},[r]]},deserialize:()=>{}}},{name:"encrypt/decrypt/sign/verifyResult",workerHandler:{canHandle:Lh.canHandle,serialize:e=>[Lh.serialize(e),Lh.getTransferables(e)],deserialize:e=>e},mainThreadHandler:{canHandle:Lh.canHandle,serialize:e=>[e,[]],deserialize:Lh.deserialize}}],Fh=[{name:"KeyReference",handler:{canHandle:Th.canHandle,serialize:e=>[Th.serialize(e),[]],deserialize:Th.deserialize}},{name:"KeyOptions",handler:{canHandle:Rh.canHandle,serialize:e=>[Rh.serialize(e),[]],deserialize:Rh.deserialize}}],jh=[...Fh,...Nh.map((({name:e,workerHandler:t})=>({name:e,handler:t})))];Nh.map((({name:e,mainThreadHandler:t})=>({name:e,handler:t})));jh.forEach((({name:e,handler:t})=>o.set(e,t))),c(class extends Dh{static init({checkEdDSAFaultySignatures:e=!1}){tu(),ne.checkEdDSAFaultySignatures=e}async encryptMessage({encryptionKeys:e=[],signingKeys:t=[],armoredSignature:r,binarySignature:n,compress:i=!1,config:a={},...s}){const o=Sh(t).map((e=>this.keyStore.get(e._idx))),c=Sh(e).map((e=>this.keyStore.get(e._idx))),u=n||r?await kh({armoredSignature:r,binarySignature:n}):void 0;if(a.preferredCompressionAlgorithm)throw new Error("Passing `config.preferredCompressionAlgorithm` is not supported. Use `compress` option instead.");return await Yc({...s,textData:s.textData,encryptionKeys:c,signingKeys:o,signature:u,config:{...a,preferredCompressionAlgorithm:i?re.compression.zlib:re.compression.uncompressed}})}async signMessage({signingKeys:e=[],...t}){const r=Sh(e).map((e=>this.keyStore.get(e._idx))),n=await async function({textData:e,binaryData:t,stripTrailingSpaces:r,context:n,date:i=hc(),format:a="armored",...s}){const o=t?"binary":"text",c=t||(r?Hc(e):e);return Po({...s,date:i,format:a,message:await Ao({[o]:c,date:i}),signatureNotations:n?Gc(n.value,n.critical):void 0}).catch((e=>(console.error(e),Promise.reject(e))))}({...t,textData:t.textData,signingKeys:r});return n}async verifyMessage({armoredSignature:e,binarySignature:t,verificationKeys:r=[],...n}){const i=Sh(r).map((e=>this.keyStore.get(e._idx))),a=await kh({armoredSignature:e,binarySignature:t}),{signatures:s,...o}=await su({signature:a,verificationKeys:i,...n});return{...o,signatures:s.map((e=>e.write()))}}async verifyCleartextMessage({armoredCleartextMessage:e,verificationKeys:t=[],...r}){const n=Sh(t).map((e=>this.keyStore.get(e._idx))),i=await async function({cleartextMessage:e,config:t,...r}){if(t={...ne,...t},!e)throw Error("readCleartextMessage: must pass options object containing `cleartextMessage`");if(!ae.isString(e))throw Error("readCleartextMessage: options.cleartextMessage must be a string");const n=Object.keys(r);if(n.length>0)throw Error("Unknown option: "+n.join(", "));const i=await me(e);if(i.type!==re.armor.signed)throw Error("No cleartext signed message.");const a=await ps.fromBinary(i.data,Eo,t);!function(e,t){const r=[];if(e.forEach((e=>{const t=e.match(/^Hash: (.+)$/);if(!t)throw Error('Only "Hash" header allowed in cleartext signed message');{const e=t[1].replace(/\s/g,"").split(",").map((e=>{try{return re.write(re.hash,e.toLowerCase())}catch(t){throw Error("Unknown hash algorithm in armor header: "+e.toLowerCase())}}));r.push(...e)}})),r.length&&!function(e){const r=e=>t=>e.hashAlgorithm===t;for(let n=0;n<t.length;n++)if(t[n].constructor.tag===re.packet.signature&&!e.some(r(t[n])))return!1;return!0}(r))throw Error("Hash algorithm mismatch in armor header and signature")}(i.headers,a);const s=new Ns(a);return new So(i.text,s)}({cleartextMessage:e}),{signatures:a,...s}=await async function({cleartextMessage:e,date:t=hc(),...r}){if(!(e instanceof So))throw new Error("CleartextMessage expected.");const n={...r,date:t,message:e};return au(await Do(n))}({cleartextMessage:i,verificationKeys:n,...r});return{...s,signatures:a.map((e=>e.write()))}}async decryptMessage({decryptionKeys:e=[],verificationKeys:t=[],armoredMessage:r,binaryMessage:n,armoredSignature:i,binarySignature:a,armoredEncryptedSignature:s,binaryEncryptedSignature:o,...c}){const u=Sh(e).map((e=>this.keyStore.get(e._idx))),h=Sh(t).map((e=>this.keyStore.get(e._idx))),l=await Ah({binaryMessage:n,armoredMessage:r}),y=a||i?await kh({binarySignature:a,armoredSignature:i}):void 0,p=o||s?await Ah({binaryMessage:o,armoredMessage:s}):void 0,{signatures:f,...d}=await ou({...c,config:c.config,message:l,signature:y,encryptedSignature:p,decryptionKeys:u,verificationKeys:h});return{...d,signatures:f.map((e=>e.write()))}}async decryptMessageLegacy({decryptionKeys:e=[],verificationKeys:t=[],armoredMessage:r,armoredSignature:n,binarySignature:i,...a}){const s=Sh(e).map((e=>this.keyStore.get(e._idx))),o=Sh(t).map((e=>this.keyStore.get(e._idx))),c=i||n?await kh({binarySignature:i,armoredSignature:n}):void 0,{signatures:u,...h}=await yu({...a,config:a.config,armoredMessage:r,signature:c,decryptionKeys:s,verificationKeys:o});return{...h,signatures:u.map((e=>e.write()))}}async generateE2EEForwardingMaterial({forwarderKey:e,userIDsForForwardeeKey:t,passphrase:r}){const n=this.keyStore.get(e._idx),{proxyInstances:i,forwardeeKey:a}=await gu(n,t);return{forwardeeKey:(r?await eu({privateKey:a,passphrase:r}):a).armor(),proxyInstances:i}}async doesKeySupportE2EEForwarding({forwarderKey:e}){const t=this.keyStore.get(e._idx);if(!t.isPrivate())return!1;return await async function(e){if(!e.isDecrypted())return!1;try{return(await du(e)).length>0}catch{return!1}}(t)}async isE2EEForwardingKey({key:e}){const t=this.keyStore.get(e._idx);if(!t.isPrivate())throw new Error("Unexpected public key");const r=await(n=t,du(n).then((e=>e.every((e=>e.bindingSignatures[0].keyFlags&re.keyFlags.forwardedCommunication)))).catch((()=>!1)));var n;return r}async generateSessionKeyForAlgorithm(e){return await Qc(e)}async generateSessionKey({recipientKeys:e=[],...t}){const r=Sh(e).map((e=>this.keyStore.get(e._idx))),n=await function({recipientKeys:e,date:t=hc(),...r}){return Uo({encryptionKeys:e,date:t,...r})}({recipientKeys:r,...t});return n}async encryptSessionKey({encryptionKeys:e=[],...t}){const r=Sh(e).map((e=>this.keyStore.get(e._idx)));return await Jc({...t,encryptionKeys:r})}async decryptSessionKey({decryptionKeys:e=[],armoredMessage:t,binaryMessage:r,...n}){const i=Sh(e).map((e=>this.keyStore.get(e._idx))),a=await Ah({binaryMessage:r,armoredMessage:t});return await mu({...n,config:n.config,message:a,decryptionKeys:i})}async processMIME({verificationKeys:e=[],...t}){const r=Sh(e).map((e=>this.keyStore.get(e._idx))),{signatures:n,...i}=await fh({...t,verificationKeys:r});return{...i,signatures:n.map((e=>e.write()))}}async getMessageInfo({armoredMessage:e,binaryMessage:t}){const r=await Ah({binaryMessage:t,armoredMessage:e});return{signingKeyIDs:r.getSigningKeyIDs().map((e=>e.toHex())),encryptionKeyIDs:r.getEncryptionKeyIDs().map((e=>e.toHex()))}}async getSignatureInfo({armoredSignature:e,binarySignature:t}){return{signingKeyIDs:(await kh({binarySignature:t,armoredSignature:e})).getSigningKeyIDs().map((e=>e.toHex()))}}async getKeyInfo({armoredKey:e,binaryKey:t}){const r=await Eh({binaryKey:t,armoredKey:e}),n=r.isPrivate();return{keyIsPrivate:n,keyIsDecrypted:n?r.isDecrypted():null,fingerprint:r.getFingerprint(),keyIDs:r.getKeyIDs().map((e=>e.toHex()))}}async getArmoredSignature({binarySignature:e}){return(await kh({binarySignature:e})).armor()}async getArmoredMessage({binaryMessage:e}){const t=await async function(e){return Fc((await ko({binaryMessage:e})).armor())}(e);return t}async getArmoredKeys({binaryKeys:e}){const t=await async function({armoredKeys:e,binaryKeys:t,config:r,...n}){r={...ne,...r};let i=e||t;if(!i)throw Error("readKeys: must pass options object containing `armoredKeys` or `binaryKeys`");if(e&&!ae.isString(e))throw Error("readKeys: options.armoredKeys must be a string");if(t&&!ae.isUint8Array(t))throw Error("readKeys: options.binaryKeys must be a Uint8Array");const a=Object.keys(n);if(a.length>0)throw Error("Unknown option: "+a.join(", "));if(e){const{type:t,data:r}=await me(e);if(t!==re.armor.publicKey&&t!==re.armor.privateKey)throw Error("Armored text not of type key");i=r}const s=[],o=await ps.fromBinary(i,uo,r),c=o.indexOfTag(re.packet.publicKey,re.packet.secretKey);if(0===c.length)throw Error("No key packet found");for(let e=0;e<c.length;e++){const t=ho(o.slice(c[e],c[e+1]));s.push(t)}return s}({binaryKeys:e});return t.map((e=>e.armor()))}async isRevokedKey({key:e,date:t}){const r=this.keyStore.get(e._idx),n=await async function(e,t=hc()){return e.isRevoked(null,null,t)}(r,t);return n}async isExpiredKey({key:e,date:t}){const r=this.keyStore.get(e._idx),n=await async function(e,t=hc()){const r=+t,n=await e.getExpirationTime();return!(e.getCreationTime()<=r&&r<n)}(r,t);return n}async canKeyEncrypt({key:e,date:t}){const r=this.keyStore.get(e._idx),n=await(async(e,t=hc())=>{try{return await Yc({textData:"test message",encryptionKeys:e,date:t}),!0}catch(e){return!1}})(r,t);return n}async getSHA256Fingerprints({key:e}){const t=this.keyStore.get(e._idx),r=await(e=>Promise.all(e.getKeys().map((async({keyPacket:e})=>$o(await sc(e.writeForHash(e.version)))))))(t);return r}async computeHash({algorithm:e,data:t}){let r;switch(e){case"SHA512":return r=await(async e=>{const t=await crypto.subtle.digest("SHA-512",e);return new Uint8Array(t)})(t),r;case"SHA256":return r=await sc(t),r;case"unsafeSHA1":return r=await oc(t),r;case"unsafeMD5":return r=await(e=>ac(e))(t),r;default:throw new Error(`Unsupported algorithm: ${e}`)}}async computeHashStream({algorithm:e,dataStream:t}){let r;if("unsafeSHA1"===e)return r=await oc(t),r;throw new Error(`Unsupported algorithm: ${e}`)}async computeArgon2(){throw new Error("Not implemented")}async replaceUserIDs({sourceKey:e,targetKey:t}){const r=this.keyStore.get(e._idx),n=this.keyStore.get(t._idx);if(n.getFingerprint()!==r.getFingerprint())throw new Error("Cannot replace UserIDs of a different key");n.users=r.users.map((e=>{const t=e.clone();return t.mainKey=n,t}))}async cloneKeyAndChangeUserIDs({privateKey:e,userIDs:t}){const r=this.keyStore.get(e._idx).clone(!0),n=r.subkeys,{publicKey:i}=await Zc({privateKey:r,userIDs:t,format:"object"});r.subkeys=n,r.users=i.users.map((e=>{const t=e.clone();return t.mainKey=r,t}));const a=this.keyStore.add(r);return Kh(r,a)}})})()})();
//# sourceMappingURL=chunk.crypto-worker-v6-canary.js.map